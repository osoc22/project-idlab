import{S as O,i as W,s as J,l as M,g as S,o as u,p as K,q as m,d as x,v as V,n as G,I as N,J as Y,e as C,t as X,k as v,w as k,c as E,a as q,h as A,m as _,x as z,b as B,K as h,y as $,L as P,B as I,M as Q,N as T,O as Z,P as tt}from"../chunks/index-d13a8d77.js";import{d as y,I as R,B as et}from"../chunks/Input-1fd2cfc8.js";function rt(s){let t,e,o,a,n,c,l,r,d,p,g,b;function F(i){s[5](i)}let j={label:"pod url"};s[1]!==void 0&&(j.value=s[1]),n=new R({props:j}),N.push(()=>Y(n,"value",F));function H(i){s[6](i)}let L={label:"webId"};return s[2]!==void 0&&(L.value=s[2]),r=new R({props:L}),N.push(()=>Y(r,"value",H)),g=new et({props:{focused:!0,$$slots:{default:[at]},$$scope:{ctx:s}}}),g.$on("click",s[3]),{c(){t=C("div"),e=C("h1"),o=X("Welcome to the pod"),a=v(),k(n.$$.fragment),l=v(),k(r.$$.fragment),p=v(),k(g.$$.fragment),this.h()},l(i){t=E(i,"DIV",{class:!0});var w=q(t);e=E(w,"H1",{class:!0});var f=q(e);o=A(f,"Welcome to the pod"),f.forEach(x),a=_(w),z(n.$$.fragment,w),l=_(w),z(r.$$.fragment,w),p=_(w),z(g.$$.fragment,w),w.forEach(x),this.h()},h(){B(e,"class","text-2xl"),B(t,"class","max-w-lg my-16 mx-auto")},m(i,w){S(i,t,w),h(t,e),h(e,o),h(t,a),$(n,t,null),h(t,l),$(r,t,null),h(t,p),$(g,t,null),b=!0},p(i,w){const f={};!c&&w&2&&(c=!0,f.value=i[1],P(()=>c=!1)),n.$set(f);const U={};!d&&w&4&&(d=!0,U.value=i[2],P(()=>d=!1)),r.$set(U);const D={};w&128&&(D.$$scope={dirty:w,ctx:i}),g.$set(D)},i(i){b||(m(n.$$.fragment,i),m(r.$$.fragment,i),m(g.$$.fragment,i),b=!0)},o(i){u(n.$$.fragment,i),u(r.$$.fragment,i),u(g.$$.fragment,i),b=!1},d(i){i&&x(t),I(n),I(r),I(g)}}}function ot(s){let t;const e=s[4].default,o=Q(e,s,s[7],null);return{c(){o&&o.c()},l(a){o&&o.l(a)},m(a,n){o&&o.m(a,n),t=!0},p(a,n){o&&o.p&&(!t||n&128)&&T(o,e,a,a[7],t?tt(e,a[7],n,null):Z(a[7]),null)},i(a){t||(m(o,a),t=!0)},o(a){u(o,a),t=!1},d(a){o&&o.d(a)}}}function at(s){let t;return{c(){t=X("Login with pod")},l(e){t=A(e,"Login with pod")},m(e,o){S(e,t,o)},d(e){e&&x(t)}}}function it(s){let t,e,o,a;const n=[ot,rt],c=[];function l(r,d){var p;return(p=r[0])!=null&&p.info.isLoggedIn?0:1}return t=l(s),e=c[t]=n[t](s),{c(){e.c(),o=M()},l(r){e.l(r),o=M()},m(r,d){c[t].m(r,d),S(r,o,d),a=!0},p(r,[d]){let p=t;t=l(r),t===p?c[t].p(r,d):(G(),u(c[p],1,1,()=>{c[p]=null}),K(),e=c[t],e?e.p(r,d):(e=c[t]=n[t](r),e.c()),m(e,1),e.m(o.parentNode,o))},i(r){a||(m(e),a=!0)},o(r){u(e),a=!1},d(r){c[t].d(r),r&&x(o)}}}function nt(s,t,e){let{$$slots:o={},$$scope:a}=t,n,c,l="http://localhost:3000",r="johndoe";V(async()=>{await y.handleIncomingRedirect({restorePreviousSession:!0}),e(0,n=y.getDefaultSession()),c=window.location.href,e(1,l=localStorage.getItem("podUrl")||"http://localhost:3000"),e(2,r=localStorage.getItem("webID")||"johndoe")});async function d(){l.indexOf("//")<0&&e(1,l="http://"+l),localStorage.setItem("podUrl",l),localStorage.setItem("webID",r),y.getDefaultSession().info.isLoggedIn||await y.login({oidcIssuer:l,clientName:"Project-IDLab",redirectUrl:c})}function p(b){l=b,e(1,l)}function g(b){r=b,e(2,r)}return s.$$set=b=>{"$$scope"in b&&e(7,a=b.$$scope)},[n,l,r,d,o,p,g,a]}class ct extends O{constructor(t){super(),W(this,t,nt,it,J,{})}}export{ct as default};
