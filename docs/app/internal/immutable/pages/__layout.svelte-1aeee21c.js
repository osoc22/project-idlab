import{S as dt,i as gt,s as pt,e as T,k as M,t as Y,c as z,a as P,d as w,m as U,h as G,b as k,I as F,g as O,J as v,n as tt,o as I,p as et,q as y,j as lt,K as Bt,L as te,E as nt,M as vt,N as wt,O as yt,P as $t,Q,R as X,G as St,T as ct,U as ut,w as q,x as B,y as L,V as ft,B as R,v as Ue,W as He,l as _t,X as Ye,Y as Lt,Z as Ht,_ as It,$ as Ge,a0 as se,a1 as xe}from"../chunks/index-6d6fbed6.js";import{b as We}from"../chunks/singletons-bd1dfc1a.js";import{g as je}from"../chunks/navigation-3ebc45bc.js";import{B as bt,I as ee,T as Ae,P as ie,S as Ce,a as Oe,C as Kt}from"../chunks/Button-114e83cd.js";import{u as Je,t as Ot,m as Ct,a as Et,b as Dt,p as Tt,T as qe,U as ce,P as ue}from"../chunks/eventStore-24e1c1fe.js";import{u as Yt,t as Xe}from"../chunks/userStore-ad134bbc.js";import"../chunks/preload-helper-ed63bd61.js";import"../chunks/index-b2bed869.js";const Ze=n=>({}),fe=n=>({});function Ke(n){let t;return{c(){t=Y(n[1])},l(i){t=G(i,n[1])},m(i,e){O(i,t,e)},p(i,e){e&2&&lt(t,i[1])},i:nt,o:nt,d(i){i&&w(t)}}}function Qe(n){let t;const i=n[8].label,e=vt(i,n,n[7],fe);return{c(){e&&e.c()},l(l){e&&e.l(l)},m(l,r){e&&e.m(l,r),t=!0},p(l,r){e&&e.p&&(!t||r&128)&&wt(e,i,l,l[7],t?$t(i,l[7],r,Ze):yt(l[7]),fe)},i(l){t||(y(e,l),t=!0)},o(l){I(e,l),t=!1},d(l){e&&e.d(l)}}}function ti(n){let t,i,e,l;return{c(){t=T("input"),this.h()},l(r){t=z(r,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0}),this.h()},h(){k(t,"id",n[5]),k(t,"class","rounded-md p-2 w-full bg-slate-100 hover:ring transition-all"),k(t,"type","text"),k(t,"placeholder",i=n[2]||n[1]),F(t,"ring",n[3]),F(t,"ring-red-500",n[3])},m(r,o){O(r,t,o),Q(t,n[0]),e||(l=X(t,"input",n[13]),e=!0)},p(r,o){o&6&&i!==(i=r[2]||r[1])&&k(t,"placeholder",i),o&1&&t.value!==r[0]&&Q(t,r[0]),o&8&&F(t,"ring",r[3]),o&8&&F(t,"ring-red-500",r[3])},d(r){r&&w(t),e=!1,l()}}}function ei(n){let t,i,e,l;return{c(){t=T("input"),this.h()},l(r){t=z(r,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0}),this.h()},h(){k(t,"id",n[5]),k(t,"class","rounded-md p-2 w-full bg-slate-100 hover:ring transition-all"),k(t,"type","time"),k(t,"placeholder",i=n[2]||n[1]),F(t,"ring",n[3]),F(t,"ring-red-500",n[3])},m(r,o){O(r,t,o),Q(t,n[0]),e||(l=[X(t,"input",n[12]),X(t,"change",n[10])],e=!0)},p(r,o){o&6&&i!==(i=r[2]||r[1])&&k(t,"placeholder",i),o&1&&Q(t,r[0]),o&8&&F(t,"ring",r[3]),o&8&&F(t,"ring-red-500",r[3])},d(r){r&&w(t),e=!1,St(l)}}}function ii(n){let t,i,e,l;return{c(){t=T("input"),this.h()},l(r){t=z(r,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0}),this.h()},h(){k(t,"id",n[5]),k(t,"class","rounded-md p-2 w-full bg-slate-100 hover:ring transition-all"),k(t,"type","date"),k(t,"placeholder",i=n[2]||n[1]),F(t,"ring",n[3]),F(t,"ring-red-500",n[3])},m(r,o){O(r,t,o),Q(t,n[0]),e||(l=[X(t,"input",n[11]),X(t,"change",n[9])],e=!0)},p(r,o){o&6&&i!==(i=r[2]||r[1])&&k(t,"placeholder",i),o&1&&Q(t,r[0]),o&8&&F(t,"ring",r[3]),o&8&&F(t,"ring-red-500",r[3])},d(r){r&&w(t),e=!1,St(l)}}}function li(n){let t,i,e,l,r,o,s,f,d;const a=[Qe,Ke],b=[];function c(p,g){return p[6].label?0:p[1]?1:-1}~(e=c(n))&&(l=b[e]=a[e](n));function h(p,g){return p[4]=="date"?ii:p[4]=="time"?ei:ti}let m=h(n),u=m(n);return{c(){t=T("label"),i=T("div"),l&&l.c(),r=M(),u.c(),o=M(),s=T("div"),f=Y(n[3]),this.h()},l(p){t=z(p,"LABEL",{class:!0,for:!0});var g=P(t);i=z(g,"DIV",{class:!0});var _=P(i);l&&l.l(_),_.forEach(w),r=U(g),u.l(g),o=U(g),s=z(g,"DIV",{class:!0});var S=P(s);f=G(S,n[3]),S.forEach(w),g.forEach(w),this.h()},h(){k(i,"class","mx-1 mb-px text-sm capitalize"),k(s,"class","text-sm h-2 text-red-700 "),F(s,"opacity-0",!n[3]),k(t,"class","my-4 block"),k(t,"for",n[5])},m(p,g){O(p,t,g),v(t,i),~e&&b[e].m(i,null),v(t,r),u.m(t,null),v(t,o),v(t,s),v(s,f),d=!0},p(p,[g]){let _=e;e=c(p),e===_?~e&&b[e].p(p,g):(l&&(tt(),I(b[_],1,1,()=>{b[_]=null}),et()),~e?(l=b[e],l?l.p(p,g):(l=b[e]=a[e](p),l.c()),y(l,1),l.m(i,null)):l=null),m===(m=h(p))&&u?u.p(p,g):(u.d(1),u=m(p),u&&(u.c(),u.m(t,o))),(!d||g&8)&&lt(f,p[3]),g&8&&F(s,"opacity-0",!p[3])},i(p){d||(y(l),d=!0)},o(p){I(l),d=!1},d(p){p&&w(t),~e&&b[e].d(),u.d()}}}function ni(n,t,i){let{$$slots:e={},$$scope:l}=t;const r=Bt(e);let{label:o=""}=t,{placeholder:s=""}=t,{error:f=""}=t,{value:d=""}=t,{type:a="text"}=t,b=Je();function c(g){te.call(this,n,g)}function h(g){te.call(this,n,g)}function m(){d=this.value,i(0,d)}function u(){d=this.value,i(0,d)}function p(){d=this.value,i(0,d)}return n.$$set=g=>{"label"in g&&i(1,o=g.label),"placeholder"in g&&i(2,s=g.placeholder),"error"in g&&i(3,f=g.error),"value"in g&&i(0,d=g.value),"type"in g&&i(4,a=g.type),"$$scope"in g&&i(7,l=g.$$scope)},[d,o,s,f,a,b,r,l,e,c,h,m,u,p]}class ht extends dt{constructor(t){super(),gt(this,t,ni,li,pt,{label:1,placeholder:2,error:3,value:0,type:4})}}function ri(n){let t;return{c(){t=Y("Login with pod")},l(i){t=G(i,"Login with pod")},m(i,e){O(i,t,e)},d(i){i&&w(t)}}}function oi(n){let t;return{c(){t=Y("Learn how to obtain your own pod")},l(i){t=G(i,"Learn how to obtain your own pod")},m(i,e){O(i,t,e)},d(i){i&&w(t)}}}function ai(n){let t,i,e,l,r,o,s,f,d,a,b,c,h,m,u,p;function g(W){n[5](W)}let _={label:"pod url",error:n[1]};n[0]!==void 0&&(_.value=n[0]),r=new ht({props:_}),ct.push(()=>ut(r,"value",g));function S(W){n[6](W)}let E={label:"Storage location"};return n[2]!==void 0&&(E.value=n[2]),f=new ht({props:E}),ct.push(()=>ut(f,"value",S)),b=new bt({props:{focused:!0,$$slots:{default:[ri]},$$scope:{ctx:n}}}),b.$on("click",n[3]),u=new bt({props:{$$slots:{default:[oi]},$$scope:{ctx:n}}}),u.$on("click",n[4]),{c(){t=T("div"),i=T("h1"),e=Y("Welcome to the pod"),l=M(),q(r.$$.fragment),s=M(),q(f.$$.fragment),a=M(),q(b.$$.fragment),c=M(),h=T("br"),m=M(),q(u.$$.fragment),this.h()},l(W){t=z(W,"DIV",{class:!0});var N=P(t);i=z(N,"H1",{class:!0});var C=P(i);e=G(C,"Welcome to the pod"),C.forEach(w),l=U(N),B(r.$$.fragment,N),s=U(N),B(f.$$.fragment,N),a=U(N),B(b.$$.fragment,N),c=U(N),h=z(N,"BR",{}),m=U(N),B(u.$$.fragment,N),N.forEach(w),this.h()},h(){k(i,"class","text-2xl"),k(t,"class","max-w-lg my-16 mx-auto")},m(W,N){O(W,t,N),v(t,i),v(i,e),v(t,l),L(r,t,null),v(t,s),L(f,t,null),v(t,a),L(b,t,null),v(t,c),v(t,h),v(t,m),L(u,t,null),p=!0},p(W,[N]){const C={};N&2&&(C.error=W[1]),!o&&N&1&&(o=!0,C.value=W[0],ft(()=>o=!1)),r.$set(C);const D={};!d&&N&4&&(d=!0,D.value=W[2],ft(()=>d=!1)),f.$set(D);const V={};N&256&&(V.$$scope={dirty:N,ctx:W}),b.$set(V);const x={};N&256&&(x.$$scope={dirty:N,ctx:W}),u.$set(x)},i(W){p||(y(r.$$.fragment,W),y(f.$$.fragment,W),y(b.$$.fragment,W),y(u.$$.fragment,W),p=!0)},o(W){I(r.$$.fragment,W),I(f.$$.fragment,W),I(b.$$.fragment,W),I(u.$$.fragment,W),p=!1},d(W){W&&w(t),R(r),R(f),R(b),R(u)}}}function si(n,t,i){let e,l="http://localhost:3000",r="",o="http://localhost:3000/johndoe";async function s(){try{await Yt.signIn(l,o,e)}catch(b){i(1,r=Xe(b).message)}}function f(){je("https://osoc22.github.io/project-idlab/")}Ue(async()=>{e=window.location.href,i(0,l=localStorage.getItem("podUrl")||"http://localhost:3000"),i(2,o=localStorage.getItem("storageLocation")||"http://localhost:3000/johndoe")});function d(b){l=b,i(0,l)}function a(b){o=b,i(2,o)}return[l,r,o,s,f,d,a]}class ci extends dt{constructor(t){super(),gt(this,t,si,ai,pt,{})}}function ui(n){let t,i,e,l,r=n[0][0]+"",o,s=n[2][n[2].length-1][0]+"",f,d,a,b,c,h,m,u,p;return{c(){t=T("button"),i=T("div"),e=T("div"),l=T("span"),o=Y(r),f=Y(s),d=M(),a=T("div"),b=T("p"),c=Y(n[0]),h=M(),m=Y(n[1]),this.h()},l(g){t=z(g,"BUTTON",{class:!0});var _=P(t);i=z(_,"DIV",{});var S=P(i);e=z(S,"DIV",{class:!0});var E=P(e);l=z(E,"SPAN",{class:!0});var W=P(l);o=G(W,r),f=G(W,s),W.forEach(w),E.forEach(w),S.forEach(w),d=U(_),a=z(_,"DIV",{class:!0});var N=P(a);b=z(N,"P",{class:!0});var C=P(b);c=G(C,n[0]),h=U(C),m=G(C,n[1]),C.forEach(w),N.forEach(w),_.forEach(w),this.h()},h(){k(l,"class","leading-none p-2 text-sm"),k(e,"class","rounded-full bg-green-700 text-green-100 h-8 w-8 flex items-center justify-center cursor-pointer"),k(b,"class","text-sm font-medium text-gray-700 group-hover:text-gray-900"),k(a,"class","ml-3"),k(t,"class","flex items-center hover:bg-gray-200 rounded-xl px-2 py-2 transition-colors cursor-pointer")},m(g,_){O(g,t,_),v(t,i),v(i,e),v(e,l),v(l,o),v(l,f),v(t,d),v(t,a),v(a,b),v(b,c),v(b,h),v(b,m),u||(p=X(t,"click",n[3]),u=!0)},p(g,[_]){_&1&&r!==(r=g[0][0]+"")&&lt(o,r),_&4&&s!==(s=g[2][g[2].length-1][0]+"")&&lt(f,s),_&1&&lt(c,g[0]),_&2&&lt(m,g[1])},i:nt,o:nt,d(g){g&&w(t),u=!1,p()}}}function fi(n,t,i){let e,{firstname:l}=t,{lastname:r=""}=t;async function o(){await Yt.signOut()}return n.$$set=s=>{"firstname"in s&&i(0,l=s.firstname),"lastname"in s&&i(1,r=s.lastname)},n.$$.update=()=>{n.$$.dirty&3&&i(2,e=(r==null?void 0:r.split(" "))||l.split(" "))},[l,r,e,o]}class di extends dt{constructor(t){super(),gt(this,t,fi,ui,pt,{firstname:0,lastname:1})}}function de(n){let t,i,e,l,r;const o=n[3].default,s=vt(o,n,n[2],null);return{c(){t=T("div"),i=T("div"),s&&s.c(),this.h()},l(f){t=z(f,"DIV",{class:!0});var d=P(t);i=z(d,"DIV",{class:!0});var a=P(i);s&&s.l(a),a.forEach(w),d.forEach(w),this.h()},h(){k(i,"class","fixed max-h-[90vh] overflow-auto top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-3xl bg-white z-20 p-4 rounded-lg"),k(t,"class","fixed top-0 left-0 w-full h-[100%] bg-slate-900/30 z-10 cursor-pointer")},m(f,d){O(f,t,d),v(t,i),s&&s.m(i,null),e=!0,l||(r=[X(i,"click",He(n[4])),X(t,"click",n[1])],l=!0)},p(f,d){s&&s.p&&(!e||d&4)&&wt(s,o,f,f[2],e?$t(o,f[2],d,null):yt(f[2]),null)},i(f){e||(y(s,f),e=!0)},o(f){I(s,f),e=!1},d(f){f&&w(t),s&&s.d(f),l=!1,St(r)}}}function gi(n){let t,i,e=n[0]&&de(n);return{c(){e&&e.c(),t=_t()},l(l){e&&e.l(l),t=_t()},m(l,r){e&&e.m(l,r),O(l,t,r),i=!0},p(l,[r]){l[0]?e?(e.p(l,r),r&1&&y(e,1)):(e=de(l),e.c(),y(e,1),e.m(t.parentNode,t)):e&&(tt(),I(e,1,1,()=>{e=null}),et())},i(l){i||(y(e),i=!0)},o(l){I(e),i=!1},d(l){e&&e.d(l),l&&w(t)}}}function pi(n,t,i){let{$$slots:e={},$$scope:l}=t,{visible:r=!1}=t;const o=Ye();function s(){o("close"),i(0,r=!1)}function f(d){te.call(this,n,d)}return n.$$set=d=>{"visible"in d&&i(0,r=d.visible),"$$scope"in d&&i(2,l=d.$$scope)},[r,s,l,e,f]}class ge extends dt{constructor(t){super(),gt(this,t,pi,gi,pt,{visible:0})}}function pe(n,t,i){const e=n.slice();return e[9]=t[i],e}const mi=n=>({}),me=n=>({});function hi(n){let t;return{c(){t=Y(n[2])},l(i){t=G(i,n[2])},m(i,e){O(i,t,e)},p(i,e){e&4&&lt(t,i[2])},i:nt,o:nt,d(i){i&&w(t)}}}function bi(n){let t;const i=n[7].label,e=vt(i,n,n[6],me);return{c(){e&&e.c()},l(l){e&&e.l(l)},m(l,r){e&&e.m(l,r),t=!0},p(l,r){e&&e.p&&(!t||r&64)&&wt(e,i,l,l[6],t?$t(i,l[6],r,mi):yt(l[6]),me)},i(l){t||(y(e,l),t=!0)},o(l){I(e,l),t=!1},d(l){e&&e.d(l)}}}function he(n){let t,i;return t=new ee({props:{src:n[9].icon,size:"16"}}),{c(){q(t.$$.fragment)},l(e){B(t.$$.fragment,e)},m(e,l){L(t,e,l),i=!0},p(e,l){const r={};l&2&&(r.src=e[9].icon),t.$set(r)},i(e){i||(y(t.$$.fragment,e),i=!0)},o(e){I(t.$$.fragment,e),i=!1},d(e){R(t,e)}}}function be(n){let t,i,e,l=n[9].title+"",r,o,s,f,d,a=n[9].icon&&he(n);function b(){return n[8](n[9])}return{c(){t=T("div"),a&&a.c(),i=M(),e=T("div"),r=Y(l),o=M(),this.h()},l(c){t=z(c,"DIV",{class:!0});var h=P(t);a&&a.l(h),i=U(h),e=z(h,"DIV",{});var m=P(e);r=G(m,l),m.forEach(w),o=U(h),h.forEach(w),this.h()},h(){F(e,"text-sm",n[9].icon),k(t,"class","px-3 py-2 rounded bg-blue-50 text-blue-700 flex flex-col items-center justify-center svelte-1mwawgl"),F(t,"active",n[0].has(n[9].title)),F(t,"grow",n[3])},m(c,h){O(c,t,h),a&&a.m(t,null),v(t,i),v(t,e),v(e,r),v(t,o),s=!0,f||(d=X(t,"click",b),f=!0)},p(c,h){n=c,n[9].icon?a?(a.p(n,h),h&2&&y(a,1)):(a=he(n),a.c(),y(a,1),a.m(t,i)):a&&(tt(),I(a,1,1,()=>{a=null}),et()),(!s||h&2)&&l!==(l=n[9].title+"")&&lt(r,l),h&2&&F(e,"text-sm",n[9].icon),h&3&&F(t,"active",n[0].has(n[9].title)),h&8&&F(t,"grow",n[3])},i(c){s||(y(a),s=!0)},o(c){I(a),s=!1},d(c){c&&w(t),a&&a.d(),f=!1,d()}}}function _i(n){let t,i,e,l,r,o,s;const f=[bi,hi],d=[];function a(m,u){return m[5].label?0:m[2]?1:-1}~(e=a(n))&&(l=d[e]=f[e](n));let b=n[1],c=[];for(let m=0;m<b.length;m+=1)c[m]=be(pe(n,b,m));const h=m=>I(c[m],1,1,()=>{c[m]=null});return{c(){t=T("div"),i=T("div"),l&&l.c(),r=M(),o=T("div");for(let m=0;m<c.length;m+=1)c[m].c();this.h()},l(m){t=z(m,"DIV",{class:!0});var u=P(t);i=z(u,"DIV",{class:!0});var p=P(i);l&&l.l(p),p.forEach(w),r=U(u),o=z(u,"DIV",{class:!0});var g=P(o);for(let _=0;_<c.length;_+=1)c[_].l(g);g.forEach(w),u.forEach(w),this.h()},h(){k(i,"class","mx-1 mb-px text-sm"),k(o,"class","flex gap-2"),k(t,"class","my-4 block box-border")},m(m,u){O(m,t,u),v(t,i),~e&&d[e].m(i,null),v(t,r),v(t,o);for(let p=0;p<c.length;p+=1)c[p].m(o,null);s=!0},p(m,[u]){let p=e;if(e=a(m),e===p?~e&&d[e].p(m,u):(l&&(tt(),I(d[p],1,1,()=>{d[p]=null}),et()),~e?(l=d[e],l?l.p(m,u):(l=d[e]=f[e](m),l.c()),y(l,1),l.m(i,null)):l=null),u&27){b=m[1];let g;for(g=0;g<b.length;g+=1){const _=pe(m,b,g);c[g]?(c[g].p(_,u),y(c[g],1)):(c[g]=be(_),c[g].c(),y(c[g],1),c[g].m(o,null))}for(tt(),g=b.length;g<c.length;g+=1)h(g);et()}},i(m){if(!s){y(l);for(let u=0;u<b.length;u+=1)y(c[u]);s=!0}},o(m){I(l),c=c.filter(Boolean);for(let u=0;u<c.length;u+=1)I(c[u]);s=!1},d(m){m&&w(t),~e&&d[e].d(),Lt(c,m)}}}function vi(n,t,i){let{$$slots:e={},$$scope:l}=t;const r=Bt(e);let{value:o=new Set([])}=t,{options:s=[]}=t,{label:f=""}=t,{grow:d=!1}=t;function a(c){o.has(c.title)?(o.delete(c.title),i(0,o=new Set(o))):(o.add(c.title),i(0,o=new Set(o)))}const b=c=>a(c);return n.$$set=c=>{"value"in c&&i(0,o=c.value),"options"in c&&i(1,s=c.options),"label"in c&&i(2,f=c.label),"grow"in c&&i(3,d=c.grow),"$$scope"in c&&i(6,l=c.$$scope)},[o,s,f,d,a,r,l,e,b]}class Be extends dt{constructor(t){super(),gt(this,t,vi,_i,pt,{value:0,options:1,label:2,grow:3})}}function _e(n,t,i){const e=n.slice();return e[9]=t[i],e}const wi=n=>({}),ve=n=>({});function yi(n){let t;return{c(){t=Y(n[2])},l(i){t=G(i,n[2])},m(i,e){O(i,t,e)},p(i,e){e&4&&lt(t,i[2])},i:nt,o:nt,d(i){i&&w(t)}}}function $i(n){let t;const i=n[7].label,e=vt(i,n,n[6],ve);return{c(){e&&e.c()},l(l){e&&e.l(l)},m(l,r){e&&e.m(l,r),t=!0},p(l,r){e&&e.p&&(!t||r&64)&&wt(e,i,l,l[6],t?$t(i,l[6],r,wi):yt(l[6]),ve)},i(l){t||(y(e,l),t=!0)},o(l){I(e,l),t=!1},d(l){e&&e.d(l)}}}function we(n){let t,i;return t=new ee({props:{src:n[9].icon,size:"16"}}),{c(){q(t.$$.fragment)},l(e){B(t.$$.fragment,e)},m(e,l){L(t,e,l),i=!0},p(e,l){const r={};l&2&&(r.src=e[9].icon),t.$set(r)},i(e){i||(y(t.$$.fragment,e),i=!0)},o(e){I(t.$$.fragment,e),i=!1},d(e){R(t,e)}}}function ye(n){let t,i,e,l=n[9].title+"",r,o,s,f,d,a=n[9].icon&&we(n);function b(){return n[8](n[9])}return{c(){t=T("div"),a&&a.c(),i=M(),e=T("div"),r=Y(l),o=M(),this.h()},l(c){t=z(c,"DIV",{class:!0});var h=P(t);a&&a.l(h),i=U(h),e=z(h,"DIV",{});var m=P(e);r=G(m,l),m.forEach(w),o=U(h),h.forEach(w),this.h()},h(){F(e,"text-sm",n[9].icon),k(t,"class","px-3 py-2 rounded bg-blue-50 text-blue-700 flex flex-col items-center justify-center svelte-1mwawgl"),F(t,"active",n[0]==n[9].title),F(t,"grow",n[3])},m(c,h){O(c,t,h),a&&a.m(t,null),v(t,i),v(t,e),v(e,r),v(t,o),s=!0,f||(d=X(t,"click",b),f=!0)},p(c,h){n=c,n[9].icon?a?(a.p(n,h),h&2&&y(a,1)):(a=we(n),a.c(),y(a,1),a.m(t,i)):a&&(tt(),I(a,1,1,()=>{a=null}),et()),(!s||h&2)&&l!==(l=n[9].title+"")&&lt(r,l),h&2&&F(e,"text-sm",n[9].icon),h&3&&F(t,"active",n[0]==n[9].title),h&8&&F(t,"grow",n[3])},i(c){s||(y(a),s=!0)},o(c){I(a),s=!1},d(c){c&&w(t),a&&a.d(),f=!1,d()}}}function ki(n){let t,i,e,l,r,o,s;const f=[$i,yi],d=[];function a(m,u){return m[5].label?0:m[2]?1:-1}~(e=a(n))&&(l=d[e]=f[e](n));let b=n[1],c=[];for(let m=0;m<b.length;m+=1)c[m]=ye(_e(n,b,m));const h=m=>I(c[m],1,1,()=>{c[m]=null});return{c(){t=T("div"),i=T("div"),l&&l.c(),r=M(),o=T("div");for(let m=0;m<c.length;m+=1)c[m].c();this.h()},l(m){t=z(m,"DIV",{class:!0});var u=P(t);i=z(u,"DIV",{class:!0});var p=P(i);l&&l.l(p),p.forEach(w),r=U(u),o=z(u,"DIV",{class:!0});var g=P(o);for(let _=0;_<c.length;_+=1)c[_].l(g);g.forEach(w),u.forEach(w),this.h()},h(){k(i,"class","mx-1 mb-px text-sm"),k(o,"class","flex gap-2"),k(t,"class","my-4 block box-border")},m(m,u){O(m,t,u),v(t,i),~e&&d[e].m(i,null),v(t,r),v(t,o);for(let p=0;p<c.length;p+=1)c[p].m(o,null);s=!0},p(m,[u]){let p=e;if(e=a(m),e===p?~e&&d[e].p(m,u):(l&&(tt(),I(d[p],1,1,()=>{d[p]=null}),et()),~e?(l=d[e],l?l.p(m,u):(l=d[e]=f[e](m),l.c()),y(l,1),l.m(i,null)):l=null),u&27){b=m[1];let g;for(g=0;g<b.length;g+=1){const _=_e(m,b,g);c[g]?(c[g].p(_,u),y(c[g],1)):(c[g]=ye(_),c[g].c(),y(c[g],1),c[g].m(o,null))}for(tt(),g=b.length;g<c.length;g+=1)h(g);et()}},i(m){if(!s){y(l);for(let u=0;u<b.length;u+=1)y(c[u]);s=!0}},o(m){I(l),c=c.filter(Boolean);for(let u=0;u<c.length;u+=1)I(c[u]);s=!1},d(m){m&&w(t),~e&&d[e].d(),Lt(c,m)}}}function Si(n,t,i){let{$$slots:e={},$$scope:l}=t;const r=Bt(e);let{options:o=[]}=t,{value:s=o[0].title}=t,{label:f=""}=t,{grow:d=!1}=t;const a=c=>i(0,s=c.title),b=c=>a(c);return n.$$set=c=>{"options"in c&&i(1,o=c.options),"value"in c&&i(0,s=c.value),"label"in c&&i(2,f=c.label),"grow"in c&&i(3,d=c.grow),"$$scope"in c&&i(6,l=c.$$scope)},[s,o,f,d,a,r,l,e,b]}class Le extends dt{constructor(t){super(),gt(this,t,Si,ki,pt,{options:1,value:0,label:2,grow:3})}}function $e(n,t,i){const e=n.slice();return e[15]=t[i],e[16]=t,e[17]=i,e}const Ii=n=>({}),ke=n=>({});function Ei(n){let t;return{c(){t=Y(n[1])},l(i){t=G(i,n[1])},m(i,e){O(i,t,e)},p(i,e){e&2&&lt(t,i[1])},i:nt,o:nt,d(i){i&&w(t)}}}function Di(n){let t;const i=n[9].label,e=vt(i,n,n[8],ke);return{c(){e&&e.c()},l(l){e&&e.l(l)},m(l,r){e&&e.m(l,r),t=!0},p(l,r){e&&e.p&&(!t||r&256)&&wt(e,i,l,l[8],t?$t(i,l[8],r,Ii):yt(l[8]),ke)},i(l){t||(y(e,l),t=!0)},o(l){I(e,l),t=!1},d(l){e&&e.d(l)}}}function Se(n){let t,i,e,l,r,o,s;function f(){n[10].call(i,n[17])}function d(){return n[11](n[17])}return l=new bt({props:{destructive:!0,icon:Ae}}),l.$on("click",d),{c(){t=T("div"),i=T("input"),e=M(),q(l.$$.fragment),this.h()},l(a){t=z(a,"DIV",{class:!0});var b=P(t);i=z(b,"INPUT",{class:!0,type:!0}),e=U(b),B(l.$$.fragment,b),b.forEach(w),this.h()},h(){k(i,"class","w-full"),k(i,"type","date"),k(t,"class","flex gap-2")},m(a,b){O(a,t,b),v(t,i),Q(i,n[0][n[17]]),v(t,e),L(l,t,null),r=!0,o||(s=X(i,"input",f),o=!0)},p(a,b){n=a,b&1&&Q(i,n[0][n[17]])},i(a){r||(y(l.$$.fragment,a),r=!0)},o(a){I(l.$$.fragment,a),r=!1},d(a){a&&w(t),R(l),o=!1,s()}}}function Ie(n){let t,i,e,l,r,o,s;return l=new bt({props:{icon:ie}}),l.$on("click",n[4]),{c(){t=T("div"),i=T("input"),e=M(),q(l.$$.fragment),this.h()},l(f){t=z(f,"DIV",{class:!0});var d=P(t);i=z(d,"INPUT",{class:!0,type:!0}),e=U(d),B(l.$$.fragment,d),d.forEach(w),this.h()},h(){k(i,"class","w-full"),k(i,"type","date"),k(t,"class","newDate flex gap-2")},m(f,d){O(f,t,d),v(t,i),Q(i,n[3]),v(t,e),L(l,t,null),r=!0,o||(s=X(i,"input",n[12]),o=!0)},p(f,d){d&8&&Q(i,f[3])},i(f){r||(y(l.$$.fragment,f),r=!0)},o(f){I(l.$$.fragment,f),r=!1},d(f){f&&w(t),R(l),o=!1,s()}}}function Ti(n){let t,i,e,l,r,o,s,f;const d=[Di,Ei],a=[];function b(p,g){return p[6].label?0:p[1]?1:-1}~(e=b(n))&&(l=a[e]=d[e](n));let c=n[0],h=[];for(let p=0;p<c.length;p+=1)h[p]=Se($e(n,c,p));const m=p=>I(h[p],1,1,()=>{h[p]=null});let u=(n[2]==-1||n[0].length<n[2])&&Ie(n);return{c(){t=T("div"),i=T("div"),l&&l.c(),r=M(),o=T("div");for(let p=0;p<h.length;p+=1)h[p].c();s=M(),u&&u.c(),this.h()},l(p){t=z(p,"DIV",{class:!0});var g=P(t);i=z(g,"DIV",{class:!0});var _=P(i);l&&l.l(_),_.forEach(w),r=U(g),o=z(g,"DIV",{class:!0});var S=P(o);for(let E=0;E<h.length;E+=1)h[E].l(S);s=U(S),u&&u.l(S),S.forEach(w),g.forEach(w),this.h()},h(){k(i,"class","mx-1 mb-px text-sm"),k(o,"class","dates flex flex-col gap-4"),k(t,"class","pb-3")},m(p,g){O(p,t,g),v(t,i),~e&&a[e].m(i,null),v(t,r),v(t,o);for(let _=0;_<h.length;_+=1)h[_].m(o,null);v(o,s),u&&u.m(o,null),f=!0},p(p,[g]){let _=e;if(e=b(p),e===_?~e&&a[e].p(p,g):(l&&(tt(),I(a[_],1,1,()=>{a[_]=null}),et()),~e?(l=a[e],l?l.p(p,g):(l=a[e]=d[e](p),l.c()),y(l,1),l.m(i,null)):l=null),g&33){c=p[0];let S;for(S=0;S<c.length;S+=1){const E=$e(p,c,S);h[S]?(h[S].p(E,g),y(h[S],1)):(h[S]=Se(E),h[S].c(),y(h[S],1),h[S].m(o,s))}for(tt(),S=c.length;S<h.length;S+=1)m(S);et()}p[2]==-1||p[0].length<p[2]?u?(u.p(p,g),g&5&&y(u,1)):(u=Ie(p),u.c(),y(u,1),u.m(o,null)):u&&(tt(),I(u,1,1,()=>{u=null}),et())},i(p){if(!f){y(l);for(let g=0;g<c.length;g+=1)y(h[g]);y(u),f=!0}},o(p){I(l),h=h.filter(Boolean);for(let g=0;g<h.length;g+=1)I(h[g]);I(u),f=!1},d(p){p&&w(t),~e&&a[e].d(),Lt(h,p),u&&u.d()}}}function zi(n,t,i){let{$$slots:e={},$$scope:l}=t;const r=Bt(e);let{dates:o=[]}=t,{dateStrings:s=[]}=t,{label:f=""}=t,{maxDates:d=5}=t,a="",b="";function c(){!a||(i(0,s=[...s,a]),s.sort(),i(3,a=""))}function h(_){i(0,s=[...s.slice(0,_),...s.slice(_+1)])}function m(){s.toString()!=b&&(i(0,s=s.filter(_=>_!="")),i(7,o=s.map(_=>Ot.PlainDate.from(_))),b=s.toString())}function u(_){s[_]=this.value,i(0,s)}const p=_=>h(_);function g(){a=this.value,i(3,a)}return n.$$set=_=>{"dates"in _&&i(7,o=_.dates),"dateStrings"in _&&i(0,s=_.dateStrings),"label"in _&&i(1,f=_.label),"maxDates"in _&&i(2,d=_.maxDates),"$$scope"in _&&i(8,l=_.$$scope)},n.$$.update=()=>{n.$$.dirty&1&&s&&m()},[s,f,d,a,c,h,r,o,l,e,u,p,g]}class Vi extends dt{constructor(t){super(),gt(this,t,zi,Ti,pt,{dates:7,dateStrings:0,label:1,maxDates:2})}}function Ee(n,t,i){const e=n.slice();return e[17]=t[i],e[18]=t,e[19]=i,e}const Ni=n=>({}),De=n=>({});function Pi(n){let t;return{c(){t=Y(n[1])},l(i){t=G(i,n[1])},m(i,e){O(i,t,e)},p(i,e){e&2&&lt(t,i[1])},i:nt,o:nt,d(i){i&&w(t)}}}function Mi(n){let t;const i=n[9].label,e=vt(i,n,n[8],De);return{c(){e&&e.c()},l(l){e&&e.l(l)},m(l,r){e&&e.m(l,r),t=!0},p(l,r){e&&e.p&&(!t||r&256)&&wt(e,i,l,l[8],t?$t(i,l[8],r,Ni):yt(l[8]),De)},i(l){t||(y(e,l),t=!0)},o(l){I(e,l),t=!1},d(l){e&&e.d(l)}}}function Te(n){let t,i,e,l,r,o,s,f,d;function a(){n[10].call(i,n[19])}function b(){n[11].call(l,n[19])}function c(){return n[12](n[19])}return o=new bt({props:{destructive:!0,icon:Ae}}),o.$on("click",c),{c(){t=T("div"),i=T("input"),e=M(),l=T("input"),r=M(),q(o.$$.fragment),this.h()},l(h){t=z(h,"DIV",{class:!0});var m=P(t);i=z(m,"INPUT",{class:!0,type:!0}),e=U(m),l=z(m,"INPUT",{class:!0,type:!0}),r=U(m),B(o.$$.fragment,m),m.forEach(w),this.h()},h(){k(i,"class","w-full"),k(i,"type","time"),k(l,"class","w-full"),k(l,"type","time"),k(t,"class","flex gap-2")},m(h,m){O(h,t,m),v(t,i),Q(i,n[0][n[19]].from),v(t,e),v(t,l),Q(l,n[0][n[19]].to),v(t,r),L(o,t,null),s=!0,f||(d=[X(i,"input",a),X(l,"input",b)],f=!0)},p(h,m){n=h,m&1&&Q(i,n[0][n[19]].from),m&1&&Q(l,n[0][n[19]].to)},i(h){s||(y(o.$$.fragment,h),s=!0)},o(h){I(o.$$.fragment,h),s=!1},d(h){h&&w(t),R(o),f=!1,St(d)}}}function ze(n){let t,i,e,l,r,o,s,f,d;return o=new bt({props:{icon:ie}}),o.$on("click",n[4]),{c(){t=T("div"),i=T("input"),e=M(),l=T("input"),r=M(),q(o.$$.fragment),this.h()},l(a){t=z(a,"DIV",{class:!0});var b=P(t);i=z(b,"INPUT",{class:!0,type:!0}),e=U(b),l=z(b,"INPUT",{class:!0,type:!0}),r=U(b),B(o.$$.fragment,b),b.forEach(w),this.h()},h(){k(i,"class","w-full"),k(i,"type","time"),k(l,"class","w-full"),k(l,"type","time"),k(t,"class","newTime flex gap-2")},m(a,b){O(a,t,b),v(t,i),Q(i,n[3].from),v(t,e),v(t,l),Q(l,n[3].to),v(t,r),L(o,t,null),s=!0,f||(d=[X(i,"input",n[13]),X(l,"input",n[14])],f=!0)},p(a,b){b&8&&Q(i,a[3].from),b&8&&Q(l,a[3].to)},i(a){s||(y(o.$$.fragment,a),s=!0)},o(a){I(o.$$.fragment,a),s=!1},d(a){a&&w(t),R(o),f=!1,St(d)}}}function Ui(n){let t,i,e,l,r,o,s,f;const d=[Mi,Pi],a=[];function b(p,g){return p[6].label?0:p[1]?1:-1}~(e=b(n))&&(l=a[e]=d[e](n));let c=n[0],h=[];for(let p=0;p<c.length;p+=1)h[p]=Te(Ee(n,c,p));const m=p=>I(h[p],1,1,()=>{h[p]=null});let u=(n[2]==-1||n[0].length<n[2])&&ze(n);return{c(){t=T("div"),i=T("div"),l&&l.c(),r=M(),o=T("div");for(let p=0;p<h.length;p+=1)h[p].c();s=M(),u&&u.c(),this.h()},l(p){t=z(p,"DIV",{});var g=P(t);i=z(g,"DIV",{class:!0});var _=P(i);l&&l.l(_),_.forEach(w),r=U(g),o=z(g,"DIV",{class:!0});var S=P(o);for(let E=0;E<h.length;E+=1)h[E].l(S);s=U(S),u&&u.l(S),S.forEach(w),g.forEach(w),this.h()},h(){k(i,"class","mx-1 mb-px text-sm"),k(o,"class","times flex flex-col gap-4")},m(p,g){O(p,t,g),v(t,i),~e&&a[e].m(i,null),v(t,r),v(t,o);for(let _=0;_<h.length;_+=1)h[_].m(o,null);v(o,s),u&&u.m(o,null),f=!0},p(p,[g]){let _=e;if(e=b(p),e===_?~e&&a[e].p(p,g):(l&&(tt(),I(a[_],1,1,()=>{a[_]=null}),et()),~e?(l=a[e],l?l.p(p,g):(l=a[e]=d[e](p),l.c()),y(l,1),l.m(i,null)):l=null),g&33){c=p[0];let S;for(S=0;S<c.length;S+=1){const E=Ee(p,c,S);h[S]?(h[S].p(E,g),y(h[S],1)):(h[S]=Te(E),h[S].c(),y(h[S],1),h[S].m(o,s))}for(tt(),S=c.length;S<h.length;S+=1)m(S);et()}p[2]==-1||p[0].length<p[2]?u?(u.p(p,g),g&5&&y(u,1)):(u=ze(p),u.c(),y(u,1),u.m(o,null)):u&&(tt(),I(u,1,1,()=>{u=null}),et())},i(p){if(!f){y(l);for(let g=0;g<c.length;g+=1)y(h[g]);y(u),f=!0}},o(p){I(l),h=h.filter(Boolean);for(let g=0;g<h.length;g+=1)I(h[g]);I(u),f=!1},d(p){p&&w(t),~e&&a[e].d(),Lt(h,p),u&&u.d()}}}function Wi(n,t,i){let{$$slots:e={},$$scope:l}=t;const r=Bt(e);let{times:o=[]}=t,{timeStrings:s=[]}=t,{label:f="init"}=t,{maxTimes:d=5}=t,a={from:"",to:""},b="";function c(){!a.from||!a.to||(i(0,s=[a,...s]),i(3,a={from:"",to:""}))}function h(E){i(0,s=[...s.slice(0,E),...s.slice(E+1)])}function m(){var W;const E=(W=JSON.stringify(s))!=null?W:"";E!=b&&(i(0,s=s.filter(N=>N.from!=""||N.to!="")),b=E,i(7,o=s.map(N=>{const C=Ot.PlainTime.from(N.from),D=Ot.PlainTime.from(N.to),V={from:D,to:C};return C.until(D).hours<0||C.until(D).hours==0&&C.until(D).minutes<0?V:{from:C,to:D}})))}function u(E){s[E].from=this.value,i(0,s)}function p(E){s[E].to=this.value,i(0,s)}const g=E=>h(E);function _(){a.from=this.value,i(3,a)}function S(){a.to=this.value,i(3,a)}return n.$$set=E=>{"times"in E&&i(7,o=E.times),"timeStrings"in E&&i(0,s=E.timeStrings),"label"in E&&i(1,f=E.label),"maxTimes"in E&&i(2,d=E.maxTimes),"$$scope"in E&&i(8,l=E.$$scope)},n.$$.update=()=>{n.$$.dirty&1&&s&&m()},[s,f,d,a,c,h,r,o,l,e,u,p,g,_,S]}class ji extends dt{constructor(t){super(),gt(this,t,Wi,Ui,pt,{times:7,timeStrings:0,label:1,maxTimes:2})}}function Ve(n){let t,i,e=n[0].editMode?"Edit":"Create New",l,r,o,s,f,d,a,b,c,h,m,u,p,g,_,S,E,W,N,C,D,V,x,at,H,j,rt,Z,mt,kt,zt;function xt($){n[6]($)}let Vt={type:"text",label:"title"};n[0].activity.title!==void 0&&(Vt.value=n[0].activity.title),d=new ht({props:Vt}),ct.push(()=>ut(d,"value",xt));function Jt($){n[7]($)}let Nt={dateStrings:n[2],label:"Enter possible dates"};n[0].activity.dates!==void 0&&(Nt.dates=n[0].activity.dates),c=new Vi({props:Nt}),ct.push(()=>ut(c,"dates",Jt));function Xt($){n[8]($)}let Pt={timeStrings:n[1],label:"Enter possible times"};n[0].activity.times!==void 0&&(Pt.times=n[0].activity.times),u=new ji({props:Pt}),ct.push(()=>ut(u,"times",Xt));function Zt($){n[9]($)}let Mt={type:"text",placeholder:"Where?",label:"Location"};n[0].activity.location!==void 0&&(Mt.value=n[0].activity.location),S=new ht({props:Mt}),ct.push(()=>ut(S,"value",Zt));function Rt($){n[10]($)}let Ut={grow:!0,label:"Get notified if there will be:",options:[{title:"Sun",icon:Ce},{title:"Cloudy"},{title:"Partly-cloudy"},{title:"Snow"}]};n[0].activity.notifyOnWeather!==void 0&&(Ut.value=n[0].activity.notifyOnWeather),N=new Be({props:Ut}),ct.push(()=>ut(N,"value",Rt));function Ft($){n[11]($)}let Wt={grow:!0,label:"Activity type:",options:[{title:"Work",icon:Oe},{title:"Food"},{title:"Fun"},{title:"Workout"},{title:"Relax"}]};return n[0].activity.actitityType!==void 0&&(Wt.value=n[0].activity.actitityType),V=new Le({props:Wt}),ct.push(()=>ut(V,"value",Ft)),j=new bt({props:{destructive:!0,$$slots:{default:[Ai]},$$scope:{ctx:n}}}),j.$on("click",n[5]),{c(){t=T("form"),i=T("h3"),l=Y(e),r=Y(" activity"),o=M(),s=T("div"),f=T("div"),q(d.$$.fragment),b=M(),q(c.$$.fragment),m=M(),q(u.$$.fragment),g=M(),_=T("div"),q(S.$$.fragment),W=M(),q(N.$$.fragment),D=M(),q(V.$$.fragment),at=M(),H=T("div"),q(j.$$.fragment),rt=M(),Z=T("input"),this.h()},l($){t=z($,"FORM",{});var A=P(t);i=z(A,"H3",{class:!0});var st=P(i);l=G(st,e),r=G(st," activity"),st.forEach(w),o=U(A),s=z(A,"DIV",{class:!0});var it=P(s);f=z(it,"DIV",{class:!0});var J=P(f);B(d.$$.fragment,J),b=U(J),B(c.$$.fragment,J),m=U(J),B(u.$$.fragment,J),J.forEach(w),g=U(it),_=z(it,"DIV",{class:!0});var K=P(_);B(S.$$.fragment,K),W=U(K),B(N.$$.fragment,K),D=U(K),B(V.$$.fragment,K),K.forEach(w),it.forEach(w),at=U(A),H=z(A,"DIV",{class:!0});var ot=P(H);B(j.$$.fragment,ot),rt=U(ot),Z=z(ot,"INPUT",{class:!0,type:!0}),ot.forEach(w),A.forEach(w),this.h()},h(){k(i,"class","text-xl border-b border-b-black/50 border-solid mb-4 pb-2 capitalize"),k(f,"class","left grow"),k(_,"class","right grow"),k(s,"class","flex flex-col lg:flex-row gap-4 w-full"),k(Z,"class","bg-slate-100 hover:bg-slate-300 transition-colors px-3 py-2 rounded cursor-pointer"),k(Z,"type","submit"),Z.value="submit",k(H,"class","flex justify-end gap-4")},m($,A){O($,t,A),v(t,i),v(i,l),v(i,r),v(t,o),v(t,s),v(s,f),L(d,f,null),v(f,b),L(c,f,null),v(f,m),L(u,f,null),v(s,g),v(s,_),L(S,_,null),v(_,W),L(N,_,null),v(_,D),L(V,_,null),v(t,at),v(t,H),L(j,H,null),v(H,rt),v(H,Z),mt=!0,kt||(zt=[X(Z,"click",Ht(n[4])),X(t,"submit",Ht(n[4]))],kt=!0)},p($,A){(!mt||A&1)&&e!==(e=$[0].editMode?"Edit":"Create New")&&lt(l,e);const st={};!a&&A&1&&(a=!0,st.value=$[0].activity.title,ft(()=>a=!1)),d.$set(st);const it={};A&4&&(it.dateStrings=$[2]),!h&&A&1&&(h=!0,it.dates=$[0].activity.dates,ft(()=>h=!1)),c.$set(it);const J={};A&2&&(J.timeStrings=$[1]),!p&&A&1&&(p=!0,J.times=$[0].activity.times,ft(()=>p=!1)),u.$set(J);const K={};!E&&A&1&&(E=!0,K.value=$[0].activity.location,ft(()=>E=!1)),S.$set(K);const ot={};!C&&A&1&&(C=!0,ot.value=$[0].activity.notifyOnWeather,ft(()=>C=!1)),N.$set(ot);const jt={};!x&&A&1&&(x=!0,jt.value=$[0].activity.actitityType,ft(()=>x=!1)),V.$set(jt);const At={};A&4097&&(At.$$scope={dirty:A,ctx:$}),j.$set(At)},i($){mt||(y(d.$$.fragment,$),y(c.$$.fragment,$),y(u.$$.fragment,$),y(S.$$.fragment,$),y(N.$$.fragment,$),y(V.$$.fragment,$),y(j.$$.fragment,$),mt=!0)},o($){I(d.$$.fragment,$),I(c.$$.fragment,$),I(u.$$.fragment,$),I(S.$$.fragment,$),I(N.$$.fragment,$),I(V.$$.fragment,$),I(j.$$.fragment,$),mt=!1},d($){$&&w(t),R(d),R(c),R(u),R(S),R(N),R(V),R(j),kt=!1,St(zt)}}}function Ai(n){let t=n[0].editMode?"Remove":"Cancel",i;return{c(){i=Y(t)},l(e){i=G(e,t)},m(e,l){O(e,i,l)},p(e,l){l&1&&t!==(t=e[0].editMode?"Remove":"Cancel")&&lt(i,t)},d(e){e&&w(i)}}}function Ci(n){let t,i,e=n[0]&&n[3]&&Ve(n);return{c(){e&&e.c(),t=_t()},l(l){e&&e.l(l),t=_t()},m(l,r){e&&e.m(l,r),O(l,t,r),i=!0},p(l,[r]){l[0]&&l[3]?e?(e.p(l,r),r&9&&y(e,1)):(e=Ve(l),e.c(),y(e,1),e.m(t.parentNode,t)):e&&(tt(),I(e,1,1,()=>{e=null}),et())},i(l){i||(y(e),i=!0)},o(l){I(e),i=!1},d(l){e&&e.d(l),l&&w(t)}}}function Oi(n,t,i){let e,l,r;It(n,Ct,u=>i(3,r=u));let o=r;function s(){!o||(o.editMode?Et.updateActivity(o.activity):Et.add(o.activity),je("./planning"),Ct.reset())}function f(){o!=null&&o.editMode&&Et.deleteActivity(o.activity),Ct.reset()}function d(u){n.$$.not_equal(o.activity.title,u)&&(o.activity.title=u,i(0,o))}function a(u){n.$$.not_equal(o.activity.dates,u)&&(o.activity.dates=u,i(0,o))}function b(u){n.$$.not_equal(o.activity.times,u)&&(o.activity.times=u,i(0,o))}function c(u){n.$$.not_equal(o.activity.location,u)&&(o.activity.location=u,i(0,o))}function h(u){n.$$.not_equal(o.activity.notifyOnWeather,u)&&(o.activity.notifyOnWeather=u,i(0,o))}function m(u){n.$$.not_equal(o.activity.actitityType,u)&&(o.activity.actitityType=u,i(0,o))}return n.$$.update=()=>{n.$$.dirty&1&&i(2,e=o==null?void 0:o.activity.dates.map(u=>u.toString())),n.$$.dirty&1&&i(1,l=o==null?void 0:o.activity.times.map(({from:u,to:p})=>({from:u.round({smallestUnit:"minute"}).toString(),to:p.round({smallestUnit:"minute"}).toString()})))},[o,l,e,r,s,f,d,a,b,c,h,m]}class qi extends dt{constructor(t){super(),gt(this,t,Oi,Ci,pt,{})}}function Ne(n){var Rt,Ut,Ft,Wt;let t,i,e=n[0].editMode?"Edit":"Create New",l,r,o,s,f,d,a,b,c,h,m,u,p,g,_,S,E,W,N,C,D,V,x,at,H,j,rt,Z,mt,kt,zt;function xt($){n[4]($)}let Vt={type:"text",label:"title"};n[0].activity.title!==void 0&&(Vt.value=n[0].activity.title),d=new ht({props:Vt}),ct.push(()=>ut(d,"value",xt)),c=new ht({props:{type:"date",label:"date *",value:n[0].activity.date.toString()}}),c.$on("change",n[5]),m=new ht({props:{type:"time",label:"from *",value:(Ut=(Rt=n[0])==null?void 0:Rt.activity.time)==null?void 0:Ut.from.toString({smallestUnit:"minute"})}}),m.$on("change",n[6]),p=new ht({props:{type:"time",label:"to *",value:(Wt=(Ft=n[0])==null?void 0:Ft.activity.time)==null?void 0:Wt.to.toString({smallestUnit:"minute"})}}),p.$on("change",n[7]);function Jt($){n[8]($)}let Nt={type:"text",placeholder:"Where?",label:"Location"};n[0].activity.location!==void 0&&(Nt.value=n[0].activity.location),S=new ht({props:Nt}),ct.push(()=>ut(S,"value",Jt));function Xt($){n[9]($)}let Pt={grow:!0,label:"Get notified if there will be:",options:[{title:"Sun",icon:Ce},{title:"Cloudy"},{title:"Partly-cloudy"},{title:"Snow"}]};n[0].activity.notifyOnWeather!==void 0&&(Pt.value=n[0].activity.notifyOnWeather),N=new Be({props:Pt}),ct.push(()=>ut(N,"value",Xt));function Zt($){n[10]($)}let Mt={grow:!0,label:"Activity type:",options:[{title:"Work",icon:Oe},{title:"Food"},{title:"Fun"},{title:"Workout"},{title:"Relax"}]};return n[0].activity.actitityType!==void 0&&(Mt.value=n[0].activity.actitityType),V=new Le({props:Mt}),ct.push(()=>ut(V,"value",Zt)),j=new bt({props:{destructive:!0,$$slots:{default:[Bi]},$$scope:{ctx:n}}}),j.$on("click",n[3]),{c(){t=T("form"),i=T("h3"),l=Y(e),r=Y(" activity"),o=M(),s=T("div"),f=T("div"),q(d.$$.fragment),b=M(),q(c.$$.fragment),h=M(),q(m.$$.fragment),u=M(),q(p.$$.fragment),g=M(),_=T("div"),q(S.$$.fragment),W=M(),q(N.$$.fragment),D=M(),q(V.$$.fragment),at=M(),H=T("div"),q(j.$$.fragment),rt=M(),Z=T("input"),this.h()},l($){t=z($,"FORM",{});var A=P(t);i=z(A,"H3",{class:!0});var st=P(i);l=G(st,e),r=G(st," activity"),st.forEach(w),o=U(A),s=z(A,"DIV",{class:!0});var it=P(s);f=z(it,"DIV",{class:!0});var J=P(f);B(d.$$.fragment,J),b=U(J),B(c.$$.fragment,J),h=U(J),B(m.$$.fragment,J),u=U(J),B(p.$$.fragment,J),J.forEach(w),g=U(it),_=z(it,"DIV",{class:!0});var K=P(_);B(S.$$.fragment,K),W=U(K),B(N.$$.fragment,K),D=U(K),B(V.$$.fragment,K),K.forEach(w),it.forEach(w),at=U(A),H=z(A,"DIV",{class:!0});var ot=P(H);B(j.$$.fragment,ot),rt=U(ot),Z=z(ot,"INPUT",{class:!0,type:!0}),ot.forEach(w),A.forEach(w),this.h()},h(){k(i,"class","text-xl border-b border-b-black/50 border-solid mb-4 pb-2 capitalize"),k(f,"class","left grow"),k(_,"class","right grow"),k(s,"class","flex flex-col lg:flex-row gap-4 w-full"),k(Z,"class","bg-slate-100 hover:bg-slate-300 transition-colors px-3 py-2 rounded cursor-pointer"),k(Z,"type","submit"),Z.value="submit",k(H,"class","flex justify-end gap-4")},m($,A){O($,t,A),v(t,i),v(i,l),v(i,r),v(t,o),v(t,s),v(s,f),L(d,f,null),v(f,b),L(c,f,null),v(f,h),L(m,f,null),v(f,u),L(p,f,null),v(s,g),v(s,_),L(S,_,null),v(_,W),L(N,_,null),v(_,D),L(V,_,null),v(t,at),v(t,H),L(j,H,null),v(H,rt),v(H,Z),mt=!0,kt||(zt=[X(Z,"click",Ht(n[2])),X(t,"submit",Ht(n[2]))],kt=!0)},p($,A){var ne,re,oe,ae;(!mt||A&1)&&e!==(e=$[0].editMode?"Edit":"Create New")&&lt(l,e);const st={};!a&&A&1&&(a=!0,st.value=$[0].activity.title,ft(()=>a=!1)),d.$set(st);const it={};A&1&&(it.value=$[0].activity.date.toString()),c.$set(it);const J={};A&1&&(J.value=(re=(ne=$[0])==null?void 0:ne.activity.time)==null?void 0:re.from.toString({smallestUnit:"minute"})),m.$set(J);const K={};A&1&&(K.value=(ae=(oe=$[0])==null?void 0:oe.activity.time)==null?void 0:ae.to.toString({smallestUnit:"minute"})),p.$set(K);const ot={};!E&&A&1&&(E=!0,ot.value=$[0].activity.location,ft(()=>E=!1)),S.$set(ot);const jt={};!C&&A&1&&(C=!0,jt.value=$[0].activity.notifyOnWeather,ft(()=>C=!1)),N.$set(jt);const At={};!x&&A&1&&(x=!0,At.value=$[0].activity.actitityType,ft(()=>x=!1)),V.$set(At);const le={};A&2049&&(le.$$scope={dirty:A,ctx:$}),j.$set(le)},i($){mt||(y(d.$$.fragment,$),y(c.$$.fragment,$),y(m.$$.fragment,$),y(p.$$.fragment,$),y(S.$$.fragment,$),y(N.$$.fragment,$),y(V.$$.fragment,$),y(j.$$.fragment,$),mt=!0)},o($){I(d.$$.fragment,$),I(c.$$.fragment,$),I(m.$$.fragment,$),I(p.$$.fragment,$),I(S.$$.fragment,$),I(N.$$.fragment,$),I(V.$$.fragment,$),I(j.$$.fragment,$),mt=!1},d($){$&&w(t),R(d),R(c),R(m),R(p),R(S),R(N),R(V),R(j),kt=!1,St(zt)}}}function Bi(n){let t=n[0].editMode?"Remove":"Cancel",i;return{c(){i=Y(t)},l(e){i=G(e,t)},m(e,l){O(e,i,l)},p(e,l){l&1&&t!==(t=e[0].editMode?"Remove":"Cancel")&&lt(i,t)},d(e){e&&w(i)}}}function Li(n){let t,i,e=n[0]&&n[1]&&Ne(n);return{c(){e&&e.c(),t=_t()},l(l){e&&e.l(l),t=_t()},m(l,r){e&&e.m(l,r),O(l,t,r),i=!0},p(l,[r]){l[0]&&l[1]?e?(e.p(l,r),r&3&&y(e,1)):(e=Ne(l),e.c(),y(e,1),e.m(t.parentNode,t)):e&&(tt(),I(e,1,1,()=>{e=null}),et())},i(l){i||(y(e),i=!0)},o(l){I(e),i=!1},d(l){e&&e.d(l),l&&w(t)}}}function Qt(){const n=document.querySelector('input[type="submit"]');if(!n)return;let t=!1;Array.from(document.querySelectorAll('input[type="date"],input[type="time"]')).forEach(e=>{e.value==""&&(console.log(e.value),t=!0)}),t?(n.disabled=!0,n.style.color="gray"):(n.disabled=!1,n.style.color="initial")}function Ri(n,t,i){let e;It(n,Dt,m=>i(1,e=m));let l=e;function r(){var m,u;!l||(l.editMode?Tt.updateActivity(l.activity):Tt.add(l.activity,l.activity.date,(m=l.activity.time)==null?void 0:m.from,(u=l.activity.time)==null?void 0:u.to),Dt.reset())}function o(){l!=null&&l.editMode&&Tt.deleteActivity(l.activity),Dt.reset()}function s(m){n.$$.not_equal(l.activity.title,m)&&(l.activity.title=m,i(0,l))}const f=m=>{Qt(),l==null||l.activity.setDate(m)},d=m=>{Qt(),l==null||l.activity.setFromTime(m)},a=m=>{Qt(),l==null||l.activity.setToTime(m)};function b(m){n.$$.not_equal(l.activity.location,m)&&(l.activity.location=m,i(0,l))}function c(m){n.$$.not_equal(l.activity.notifyOnWeather,m)&&(l.activity.notifyOnWeather=m,i(0,l))}function h(m){n.$$.not_equal(l.activity.actitityType,m)&&(l.activity.actitityType=m,i(0,l))}return[l,e,r,o,s,f,d,a,b,c,h]}class Fi extends dt{constructor(t){super(),gt(this,t,Ri,Li,pt,{})}}const Hi=()=>{const n=Ge("__svelte__");return{page:{subscribe:n.page.subscribe},navigating:{subscribe:n.navigating.subscribe},get preloading(){return console.error("stores.preloading is deprecated; use stores.navigating instead"),{subscribe:n.navigating.subscribe}},session:n.session,updated:n.updated}},Yi={subscribe(n){return Hi().page.subscribe(n)}};function Pe(n,t,i){const e=n.slice();return e[6]=t[i],e}function Me(n){let t,i,e,l=n[6].title+"",r,o,s,f;return i=new ee({props:{src:n[6].icon,size:"16"}}),{c(){t=T("a"),q(i.$$.fragment),e=M(),r=Y(l),o=M(),this.h()},l(d){t=z(d,"A",{href:!0,class:!0});var a=P(t);B(i.$$.fragment,a),e=U(a),r=G(a,l),o=U(a),a.forEach(w),this.h()},h(){k(t,"href",s=We+"/"+n[6].url[0]),k(t,"class","flex flex-row items-center justify-start px-2 gap-3 svelte-g314rs"),F(t,"active",n[6].url.includes(n[0].routeId||"upcomming"))},m(d,a){O(d,t,a),L(i,t,null),v(t,e),v(t,r),v(t,o),f=!0},p(d,a){a&9&&F(t,"active",d[6].url.includes(d[0].routeId||"upcomming"))},i(d){f||(y(i.$$.fragment,d),f=!0)},o(d){I(i.$$.fragment,d),f=!1},d(d){d&&w(t),R(i)}}}function Gi(n){let t;return{c(){t=Y("Create new event")},l(i){t=G(i,"Create new event")},m(i,e){O(i,t,e)},d(i){i&&w(t)}}}function xi(n){let t,i;return t=new qi({}),{c(){q(t.$$.fragment)},l(e){B(t.$$.fragment,e)},m(e,l){L(t,e,l),i=!0},i(e){i||(y(t.$$.fragment,e),i=!0)},o(e){I(t.$$.fragment,e),i=!1},d(e){R(t,e)}}}function Ji(n){let t,i;return t=new Fi({}),{c(){q(t.$$.fragment)},l(e){B(t.$$.fragment,e)},m(e,l){L(t,e,l),i=!0},i(e){i||(y(t.$$.fragment,e),i=!0)},o(e){I(t.$$.fragment,e),i=!1},d(e){R(t,e)}}}function Xi(n){let t,i,e,l,r,o,s,f,d,a,b,c,h,m,u,p,g,_,S=n[3],E=[];for(let D=0;D<S.length;D+=1)E[D]=Me(Pe(n,S,D));const W=D=>I(E[D],1,1,()=>{E[D]=null});a=new bt({props:{icon:ie,$$slots:{default:[Gi]},$$scope:{ctx:n}}}),a.$on("click",Dt.new),c=new di({props:{firstname:"John",lastname:"Doe"}});const N=n[4].default,C=vt(N,n,n[5],null);return u=new ge({props:{visible:n[1]!==void 0,$$slots:{default:[xi]},$$scope:{ctx:n}}}),u.$on("close",Ct.reset),g=new ge({props:{visible:n[2]!==void 0,$$slots:{default:[Ji]},$$scope:{ctx:n}}}),g.$on("close",Dt.reset),{c(){t=T("div"),i=T("nav"),e=T("h1"),l=Y("PodPlanner"),r=M(),o=T("div");for(let D=0;D<E.length;D+=1)E[D].c();s=M(),f=T("main"),d=T("div"),q(a.$$.fragment),b=M(),q(c.$$.fragment),h=M(),C&&C.c(),m=M(),q(u.$$.fragment),p=M(),q(g.$$.fragment),this.h()},l(D){t=z(D,"DIV",{class:!0});var V=P(t);i=z(V,"NAV",{class:!0});var x=P(i);e=z(x,"H1",{class:!0});var at=P(e);l=G(at,"PodPlanner"),at.forEach(w),r=U(x),o=z(x,"DIV",{class:!0});var H=P(o);for(let Z=0;Z<E.length;Z+=1)E[Z].l(H);H.forEach(w),x.forEach(w),s=U(V),f=z(V,"MAIN",{class:!0});var j=P(f);d=z(j,"DIV",{class:!0});var rt=P(d);B(a.$$.fragment,rt),b=U(rt),B(c.$$.fragment,rt),rt.forEach(w),h=U(j),C&&C.l(j),j.forEach(w),V.forEach(w),m=U(D),B(u.$$.fragment,D),p=U(D),B(g.$$.fragment,D),this.h()},h(){k(e,"class","text-3xl font-bold border-b-2 border-green-700 text-green-700 mb-4"),k(o,"class","flex flex-col gap-2"),k(i,"class","flex-shrink-0 w-64 p-4 border-r border-slate-200 h-[100vh]"),k(d,"class","flex gap-4 justify-end mb-10"),k(f,"class","grow p-5"),k(t,"class","flex")},m(D,V){O(D,t,V),v(t,i),v(i,e),v(e,l),v(i,r),v(i,o);for(let x=0;x<E.length;x+=1)E[x].m(o,null);v(t,s),v(t,f),v(f,d),L(a,d,null),v(d,b),L(c,d,null),v(f,h),C&&C.m(f,null),O(D,m,V),L(u,D,V),O(D,p,V),L(g,D,V),_=!0},p(D,[V]){if(V&9){S=D[3];let j;for(j=0;j<S.length;j+=1){const rt=Pe(D,S,j);E[j]?(E[j].p(rt,V),y(E[j],1)):(E[j]=Me(rt),E[j].c(),y(E[j],1),E[j].m(o,null))}for(tt(),j=S.length;j<E.length;j+=1)W(j);et()}const x={};V&32&&(x.$$scope={dirty:V,ctx:D}),a.$set(x),C&&C.p&&(!_||V&32)&&wt(C,N,D,D[5],_?$t(N,D[5],V,null):yt(D[5]),null);const at={};V&2&&(at.visible=D[1]!==void 0),V&32&&(at.$$scope={dirty:V,ctx:D}),u.$set(at);const H={};V&4&&(H.visible=D[2]!==void 0),V&32&&(H.$$scope={dirty:V,ctx:D}),g.$set(H)},i(D){if(!_){for(let V=0;V<S.length;V+=1)y(E[V]);y(a.$$.fragment,D),y(c.$$.fragment,D),y(C,D),y(u.$$.fragment,D),y(g.$$.fragment,D),_=!0}},o(D){E=E.filter(Boolean);for(let V=0;V<E.length;V+=1)I(E[V]);I(a.$$.fragment,D),I(c.$$.fragment,D),I(C,D),I(u.$$.fragment,D),I(g.$$.fragment,D),_=!1},d(D){D&&w(t),Lt(E,D),R(a),R(c),C&&C.d(D),D&&w(m),R(u,D),D&&w(p),R(g,D)}}}function Zi(n,t,i){let e,l,r;It(n,Yi,d=>i(0,e=d)),It(n,Ct,d=>i(1,l=d)),It(n,Dt,d=>i(2,r=d));let{$$slots:o={},$$scope:s}=t;const f=[{title:"Planning view",url:["planning",""],icon:Kt},{title:"Upcomming activities",url:["upcomming"],icon:Kt},{title:"Past activities",url:["past"],icon:Kt}];return n.$$set=d=>{"$$scope"in d&&i(5,s=d.$$scope)},[e,l,r,f,o,s]}class Ki extends dt{constructor(t){super(),gt(this,t,Zi,Xi,pt,{})}}const qt=Ot.Now.plainDateISO(qe),Re=qt.add({days:1}),Qi=qt.add({days:2}),Gt=Ot.Now.plainTimeISO(qe),Fe={from:Gt,to:Gt.add({minutes:30})},tl={from:Gt.add({minutes:90}),to:Gt.add({minutes:180})};function el(){const n=new ce("","Test1","Work",new Set(["Windy","Rain"]),"Brussels",[qt,Re]),t=new ce("","Test2","Fun",new Set(["Windy","Rain"]),"Brussels",[qt,Qi],[Fe,tl]);Et.add(n),Et.add(t)}function il(){const n=new ue("","Test1","Work",new Set(["Windy","Rain"]),"Brussels",Re),t=new ue("","Test2","Fun",new Set(["Windy","Rain"]),"Brussels",qt.subtract({days:1}),Fe);Tt.add(n),Tt.add(t)}function ll(){const n=se(Et),t=se(Tt);n.length||el(),t.length||il()}function nl(n){let t,i;return t=new ci({}),{c(){q(t.$$.fragment)},l(e){B(t.$$.fragment,e)},m(e,l){L(t,e,l),i=!0},p:nt,i(e){i||(y(t.$$.fragment,e),i=!0)},o(e){I(t.$$.fragment,e),i=!1},d(e){R(t,e)}}}function rl(n){let t,i;return t=new Ki({props:{$$slots:{default:[al]},$$scope:{ctx:n}}}),{c(){q(t.$$.fragment)},l(e){B(t.$$.fragment,e)},m(e,l){L(t,e,l),i=!0},p(e,l){const r={};l&4&&(r.$$scope={dirty:l,ctx:e}),t.$set(r)},i(e){i||(y(t.$$.fragment,e),i=!0)},o(e){I(t.$$.fragment,e),i=!1},d(e){R(t,e)}}}function ol(n){let t,i,e;return{c(){t=T("div"),i=T("img"),this.h()},l(l){t=z(l,"DIV",{class:!0});var r=P(t);i=z(r,"IMG",{class:!0,src:!0,alt:!0,height:!0}),r.forEach(w),this.h()},h(){k(i,"class","h-80 rounded-lg"),xe(i.src,e=We+"/loading.gif")||k(i,"src",e),k(i,"alt","loading"),k(i,"height","400"),k(t,"class","w-full h-[100vh] flex items-center justify-center antialiased")},m(l,r){O(l,t,r),v(t,i)},p:nt,i:nt,o:nt,d(l){l&&w(t)}}}function al(n){let t;const i=n[1].default,e=vt(i,n,n[2],null);return{c(){e&&e.c()},l(l){e&&e.l(l)},m(l,r){e&&e.m(l,r),t=!0},p(l,r){e&&e.p&&(!t||r&4)&&wt(e,i,l,l[2],t?$t(i,l[2],r,null):yt(l[2]),null)},i(l){t||(y(e,l),t=!0)},o(l){I(e,l),t=!1},d(l){e&&e.d(l)}}}function sl(n){let t,i,e,l;const r=[ol,rl,nl],o=[];function s(f,d){return f[0].loading?0:f[0].userSession.isLoggedIn?1:2}return t=s(n),i=o[t]=r[t](n),{c(){i.c(),e=_t()},l(f){i.l(f),e=_t()},m(f,d){o[t].m(f,d),O(f,e,d),l=!0},p(f,[d]){let a=t;t=s(f),t===a?o[t].p(f,d):(tt(),I(o[a],1,1,()=>{o[a]=null}),et(),i=o[t],i?i.p(f,d):(i=o[t]=r[t](f),i.c()),y(i,1),i.m(e.parentNode,e))},i(f){l||(y(i),l=!0)},o(f){I(i),l=!1},d(f){o[t].d(f),f&&w(e)}}}function cl(n,t,i){let e;It(n,Yt,o=>i(0,e=o));let{$$slots:l={},$$scope:r}=t;return Ue(()=>{Yt.init(),window.setupActivities=ll}),n.$$set=o=>{"$$scope"in o&&i(2,r=o.$$scope)},[e,l,r]}class _l extends dt{constructor(t){super(),gt(this,t,cl,sl,pt,{})}}export{_l as default};
