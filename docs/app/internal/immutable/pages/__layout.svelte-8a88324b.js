import{I as ae,S as gt,i as pt,s as mt,e as D,k as N,t as X,c as T,a as V,d as w,m as M,h as J,b as $,J as L,g as j,K as v,n as et,o as I,p as it,q as y,j as ot,L as Rt,M as xt,E as at,N as vt,O as wt,P as yt,Q as kt,R as tt,T as Q,G as St,U as ut,V as ft,w as A,x as B,y as O,W as dt,B as C,v as Pe,X as Fe,l as _t,Y as He,Z as Lt,_ as Ht,$ as Et,a0 as Ye,a1 as Ge}from"../chunks/index-d2039bb9.js";import{b as Ue}from"../chunks/singletons-bd1dfc1a.js";import{t as Ot,T as We,U as se,u as It,P as ce,p as Dt,a as Xe,m as Tt,b as Bt}from"../chunks/calendarEvents-5b5396b8.js";import{B as $t,I as te}from"../chunks/Button-f4d5fd62.js";import{u as Yt,t as Je}from"../chunks/userStore-1328782f.js";import{T as je,P as ee,S as Ae,L as Be,B as Oe,C as Qt}from"../chunks/index-dd833d83.js";import{g as Ze}from"../chunks/navigation-3ebc45bc.js";import"../chunks/preload-helper-ed63bd61.js";import"../chunks/index-ae43794d.js";const Ct=Ot.Now.plainDateISO(We),Ce=Ct.add({days:1}),Ke=Ct.add({days:2}),Gt=Ot.Now.plainTimeISO(We),Re={from:Gt,to:Gt.add({minutes:30})},Qe={from:Gt.add({minutes:90}),to:Gt.add({minutes:180})};function xe(){const l=new se("Test1","Work",new Set(["Windy","Rain"]),"Brussels",[Ct,Ce]),t=new se("Test2","Fun",new Set(["Windy","Rain"]),"Brussels",[Ct,Ke],[Re,Qe]);It.add(l),It.add(t)}function ti(){const l=new ce("Test1","Work",new Set(["Windy","Rain"]),"Brussels",Ce),t=new ce("Test2","Fun",new Set(["Windy","Rain"]),"Brussels",Ct.subtract({days:1}),Re);Dt.add(l),Dt.add(t)}function ei(){const l=ae(It),t=ae(Dt);l.length||xe(),t.length||ti()}const ii=l=>({}),ue=l=>({});function ni(l){let t;return{c(){t=X(l[1])},l(n){t=J(n,l[1])},m(n,e){j(n,t,e)},p(n,e){e&2&&ot(t,n[1])},i:at,o:at,d(n){n&&w(t)}}}function li(l){let t;const n=l[8].label,e=vt(n,l,l[7],ue);return{c(){e&&e.c()},l(i){e&&e.l(i)},m(i,r){e&&e.m(i,r),t=!0},p(i,r){e&&e.p&&(!t||r&128)&&wt(e,n,i,i[7],t?kt(n,i[7],r,ii):yt(i[7]),ue)},i(i){t||(y(e,i),t=!0)},o(i){I(e,i),t=!1},d(i){e&&e.d(i)}}}function ri(l){let t,n,e,i;return{c(){t=D("input"),this.h()},l(r){t=T(r,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0}),this.h()},h(){$(t,"id",l[5]),$(t,"class","rounded-md p-2 w-full bg-slate-100 hover:ring transition-all"),$(t,"type","text"),$(t,"placeholder",n=l[2]||l[1]),L(t,"ring",l[3]),L(t,"ring-red-500",l[3])},m(r,o){j(r,t,o),tt(t,l[0]),e||(i=Q(t,"input",l[13]),e=!0)},p(r,o){o&6&&n!==(n=r[2]||r[1])&&$(t,"placeholder",n),o&1&&t.value!==r[0]&&tt(t,r[0]),o&8&&L(t,"ring",r[3]),o&8&&L(t,"ring-red-500",r[3])},d(r){r&&w(t),e=!1,i()}}}function oi(l){let t,n,e,i;return{c(){t=D("input"),this.h()},l(r){t=T(r,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0}),this.h()},h(){$(t,"id",l[5]),$(t,"class","rounded-md p-2 w-full bg-slate-100 hover:ring transition-all"),$(t,"type","time"),$(t,"placeholder",n=l[2]||l[1]),L(t,"ring",l[3]),L(t,"ring-red-500",l[3])},m(r,o){j(r,t,o),tt(t,l[0]),e||(i=[Q(t,"input",l[12]),Q(t,"change",l[10])],e=!0)},p(r,o){o&6&&n!==(n=r[2]||r[1])&&$(t,"placeholder",n),o&1&&tt(t,r[0]),o&8&&L(t,"ring",r[3]),o&8&&L(t,"ring-red-500",r[3])},d(r){r&&w(t),e=!1,St(i)}}}function ai(l){let t,n,e,i;return{c(){t=D("input"),this.h()},l(r){t=T(r,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0}),this.h()},h(){$(t,"id",l[5]),$(t,"class","rounded-md p-2 w-full bg-slate-100 hover:ring transition-all"),$(t,"type","date"),$(t,"placeholder",n=l[2]||l[1]),L(t,"ring",l[3]),L(t,"ring-red-500",l[3])},m(r,o){j(r,t,o),tt(t,l[0]),e||(i=[Q(t,"input",l[11]),Q(t,"change",l[9])],e=!0)},p(r,o){o&6&&n!==(n=r[2]||r[1])&&$(t,"placeholder",n),o&1&&tt(t,r[0]),o&8&&L(t,"ring",r[3]),o&8&&L(t,"ring-red-500",r[3])},d(r){r&&w(t),e=!1,St(i)}}}function si(l){let t,n,e,i,r,o,s,d,f;const a=[li,ni],_=[];function u(g,c){return g[6].label?0:g[1]?1:-1}~(e=u(l))&&(i=_[e]=a[e](l));function h(g,c){return g[4]=="date"?ai:g[4]=="time"?oi:ri}let m=h(l),p=m(l);return{c(){t=D("label"),n=D("div"),i&&i.c(),r=N(),p.c(),o=N(),s=D("div"),d=X(l[3]),this.h()},l(g){t=T(g,"LABEL",{class:!0,for:!0});var c=V(t);n=T(c,"DIV",{class:!0});var b=V(n);i&&i.l(b),b.forEach(w),r=M(c),p.l(c),o=M(c),s=T(c,"DIV",{class:!0});var S=V(s);d=J(S,l[3]),S.forEach(w),c.forEach(w),this.h()},h(){$(n,"class","mx-1 mb-px text-sm capitalize"),$(s,"class","text-sm h-2 text-red-700 "),L(s,"opacity-0",!l[3]),$(t,"class","my-4 block"),$(t,"for",l[5])},m(g,c){j(g,t,c),v(t,n),~e&&_[e].m(n,null),v(t,r),p.m(t,null),v(t,o),v(t,s),v(s,d),f=!0},p(g,[c]){let b=e;e=u(g),e===b?~e&&_[e].p(g,c):(i&&(et(),I(_[b],1,1,()=>{_[b]=null}),it()),~e?(i=_[e],i?i.p(g,c):(i=_[e]=a[e](g),i.c()),y(i,1),i.m(n,null)):i=null),m===(m=h(g))&&p?p.p(g,c):(p.d(1),p=m(g),p&&(p.c(),p.m(t,o))),(!f||c&8)&&ot(d,g[3]),c&8&&L(s,"opacity-0",!g[3])},i(g){f||(y(i),f=!0)},o(g){I(i),f=!1},d(g){g&&w(t),~e&&_[e].d(),p.d()}}}function ci(l,t,n){let{$$slots:e={},$$scope:i}=t;const r=Rt(e);let{label:o=""}=t,{placeholder:s=""}=t,{error:d=""}=t,{value:f=""}=t,{type:a="text"}=t,_=Xe();function u(c){xt.call(this,l,c)}function h(c){xt.call(this,l,c)}function m(){f=this.value,n(0,f)}function p(){f=this.value,n(0,f)}function g(){f=this.value,n(0,f)}return l.$$set=c=>{"label"in c&&n(1,o=c.label),"placeholder"in c&&n(2,s=c.placeholder),"error"in c&&n(3,d=c.error),"value"in c&&n(0,f=c.value),"type"in c&&n(4,a=c.type),"$$scope"in c&&n(7,i=c.$$scope)},[f,o,s,d,a,_,r,i,e,u,h,m,p,g]}class bt extends gt{constructor(t){super(),pt(this,t,ci,si,mt,{label:1,placeholder:2,error:3,value:0,type:4})}}function ui(l){let t;return{c(){t=X("Login with pod")},l(n){t=J(n,"Login with pod")},m(n,e){j(n,t,e)},d(n){n&&w(t)}}}function fi(l){let t,n,e,i,r,o,s,d,f,a,_,u;function h(c){l[4](c)}let m={label:"pod url",error:l[1]};l[0]!==void 0&&(m.value=l[0]),r=new bt({props:m}),ut.push(()=>ft(r,"value",h));function p(c){l[5](c)}let g={label:"Storage location"};return l[2]!==void 0&&(g.value=l[2]),d=new bt({props:g}),ut.push(()=>ft(d,"value",p)),_=new $t({props:{focused:!0,$$slots:{default:[ui]},$$scope:{ctx:l}}}),_.$on("click",l[3]),{c(){t=D("div"),n=D("h1"),e=X("Welcome to the pod"),i=N(),A(r.$$.fragment),s=N(),A(d.$$.fragment),a=N(),A(_.$$.fragment),this.h()},l(c){t=T(c,"DIV",{class:!0});var b=V(t);n=T(b,"H1",{class:!0});var S=V(n);e=J(S,"Welcome to the pod"),S.forEach(w),i=M(b),B(r.$$.fragment,b),s=M(b),B(d.$$.fragment,b),a=M(b),B(_.$$.fragment,b),b.forEach(w),this.h()},h(){$(n,"class","text-2xl"),$(t,"class","max-w-lg my-16 mx-auto")},m(c,b){j(c,t,b),v(t,n),v(n,e),v(t,i),O(r,t,null),v(t,s),O(d,t,null),v(t,a),O(_,t,null),u=!0},p(c,[b]){const S={};b&2&&(S.error=c[1]),!o&&b&1&&(o=!0,S.value=c[0],dt(()=>o=!1)),r.$set(S);const z={};!f&&b&4&&(f=!0,z.value=c[2],dt(()=>f=!1)),d.$set(z);const P={};b&128&&(P.$$scope={dirty:b,ctx:c}),_.$set(P)},i(c){u||(y(r.$$.fragment,c),y(d.$$.fragment,c),y(_.$$.fragment,c),u=!0)},o(c){I(r.$$.fragment,c),I(d.$$.fragment,c),I(_.$$.fragment,c),u=!1},d(c){c&&w(t),C(r),C(d),C(_)}}}function di(l,t,n){let e,i="http://localhost:3000",r="",o="http://localhost:3000/johndoe";async function s(){try{await Yt.signIn(i,o,e)}catch(a){n(1,r=Je(a).message)}}Pe(async()=>{e=window.location.href,n(0,i=localStorage.getItem("podUrl")||"http://localhost:3000"),n(2,o=localStorage.getItem("storageLocation")||"http://localhost:3000/johndoe")});function d(a){i=a,n(0,i)}function f(a){o=a,n(2,o)}return[i,r,o,s,d,f]}class gi extends gt{constructor(t){super(),pt(this,t,di,fi,mt,{})}}function pi(l){let t,n,e,i,r=l[0][0]+"",o,s=l[2][l[2].length-1][0]+"",d,f,a,_,u,h,m,p,g;return{c(){t=D("button"),n=D("div"),e=D("div"),i=D("span"),o=X(r),d=X(s),f=N(),a=D("div"),_=D("p"),u=X(l[0]),h=N(),m=X(l[1]),this.h()},l(c){t=T(c,"BUTTON",{class:!0});var b=V(t);n=T(b,"DIV",{});var S=V(n);e=T(S,"DIV",{class:!0});var z=V(e);i=T(z,"SPAN",{class:!0});var P=V(i);o=J(P,r),d=J(P,s),P.forEach(w),z.forEach(w),S.forEach(w),f=M(b),a=T(b,"DIV",{class:!0});var R=V(a);_=T(R,"P",{class:!0});var Z=V(_);u=J(Z,l[0]),h=M(Z),m=J(Z,l[1]),Z.forEach(w),R.forEach(w),b.forEach(w),this.h()},h(){$(i,"class","leading-none p-2 text-sm"),$(e,"class","rounded-full bg-green-700 text-green-100 h-8 w-8 flex items-center justify-center cursor-pointer"),$(_,"class","text-sm font-medium text-gray-700 group-hover:text-gray-900"),$(a,"class","ml-3"),$(t,"class","flex items-center hover:bg-gray-200 rounded-xl px-2 py-2 transition-colors cursor-pointer")},m(c,b){j(c,t,b),v(t,n),v(n,e),v(e,i),v(i,o),v(i,d),v(t,f),v(t,a),v(a,_),v(_,u),v(_,h),v(_,m),p||(g=Q(t,"click",l[3]),p=!0)},p(c,[b]){b&1&&r!==(r=c[0][0]+"")&&ot(o,r),b&4&&s!==(s=c[2][c[2].length-1][0]+"")&&ot(d,s),b&1&&ot(u,c[0]),b&2&&ot(m,c[1])},i:at,o:at,d(c){c&&w(t),p=!1,g()}}}function mi(l,t,n){let e,{firstname:i}=t,{lastname:r}=t;async function o(){await Yt.signOut()}return l.$$set=s=>{"firstname"in s&&n(0,i=s.firstname),"lastname"in s&&n(1,r=s.lastname)},l.$$.update=()=>{l.$$.dirty&2&&n(2,e=r.split(" "))},[i,r,e,o]}class hi extends gt{constructor(t){super(),pt(this,t,mi,pi,mt,{firstname:0,lastname:1})}}function fe(l){let t,n,e,i,r;const o=l[3].default,s=vt(o,l,l[2],null);return{c(){t=D("div"),n=D("div"),s&&s.c(),this.h()},l(d){t=T(d,"DIV",{class:!0});var f=V(t);n=T(f,"DIV",{class:!0});var a=V(n);s&&s.l(a),a.forEach(w),f.forEach(w),this.h()},h(){$(n,"class","fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-3xl bg-white z-20 p-4 rounded-lg"),$(t,"class","fixed top-0 left-0 w-full h-[100%] bg-slate-900/30 z-10 cursor-pointer")},m(d,f){j(d,t,f),v(t,n),s&&s.m(n,null),e=!0,i||(r=[Q(n,"click",Fe(l[4])),Q(t,"click",l[1])],i=!0)},p(d,f){s&&s.p&&(!e||f&4)&&wt(s,o,d,d[2],e?kt(o,d[2],f,null):yt(d[2]),null)},i(d){e||(y(s,d),e=!0)},o(d){I(s,d),e=!1},d(d){d&&w(t),s&&s.d(d),i=!1,St(r)}}}function bi(l){let t,n,e=l[0]&&fe(l);return{c(){e&&e.c(),t=_t()},l(i){e&&e.l(i),t=_t()},m(i,r){e&&e.m(i,r),j(i,t,r),n=!0},p(i,[r]){i[0]?e?(e.p(i,r),r&1&&y(e,1)):(e=fe(i),e.c(),y(e,1),e.m(t.parentNode,t)):e&&(et(),I(e,1,1,()=>{e=null}),it())},i(i){n||(y(e),n=!0)},o(i){I(e),n=!1},d(i){e&&e.d(i),i&&w(t)}}}function _i(l,t,n){let{$$slots:e={},$$scope:i}=t,{visible:r=!1}=t;const o=He();function s(){o("close"),n(0,r=!1)}function d(f){xt.call(this,l,f)}return l.$$set=f=>{"visible"in f&&n(0,r=f.visible),"$$scope"in f&&n(2,i=f.$$scope)},[r,s,i,e,d]}class de extends gt{constructor(t){super(),pt(this,t,_i,bi,mt,{visible:0})}}function ge(l,t,n){const e=l.slice();return e[9]=t[n],e}const vi=l=>({}),pe=l=>({});function wi(l){let t;return{c(){t=X(l[2])},l(n){t=J(n,l[2])},m(n,e){j(n,t,e)},p(n,e){e&4&&ot(t,n[2])},i:at,o:at,d(n){n&&w(t)}}}function yi(l){let t;const n=l[7].label,e=vt(n,l,l[6],pe);return{c(){e&&e.c()},l(i){e&&e.l(i)},m(i,r){e&&e.m(i,r),t=!0},p(i,r){e&&e.p&&(!t||r&64)&&wt(e,n,i,i[6],t?kt(n,i[6],r,vi):yt(i[6]),pe)},i(i){t||(y(e,i),t=!0)},o(i){I(e,i),t=!1},d(i){e&&e.d(i)}}}function me(l){let t,n;return t=new te({props:{src:l[9].icon,size:"16"}}),{c(){A(t.$$.fragment)},l(e){B(t.$$.fragment,e)},m(e,i){O(t,e,i),n=!0},p(e,i){const r={};i&2&&(r.src=e[9].icon),t.$set(r)},i(e){n||(y(t.$$.fragment,e),n=!0)},o(e){I(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function he(l){let t,n,e,i=l[9].title+"",r,o,s,d,f,a=l[9].icon&&me(l);function _(){return l[8](l[9])}return{c(){t=D("div"),a&&a.c(),n=N(),e=D("div"),r=X(i),o=N(),this.h()},l(u){t=T(u,"DIV",{class:!0});var h=V(t);a&&a.l(h),n=M(h),e=T(h,"DIV",{});var m=V(e);r=J(m,i),m.forEach(w),o=M(h),h.forEach(w),this.h()},h(){L(e,"text-sm",l[9].icon),$(t,"class","px-3 py-2 rounded bg-blue-50 text-blue-700 flex flex-col items-center justify-center svelte-1mwawgl"),L(t,"active",l[0].has(l[9].title)),L(t,"grow",l[3])},m(u,h){j(u,t,h),a&&a.m(t,null),v(t,n),v(t,e),v(e,r),v(t,o),s=!0,d||(f=Q(t,"click",_),d=!0)},p(u,h){l=u,l[9].icon?a?(a.p(l,h),h&2&&y(a,1)):(a=me(l),a.c(),y(a,1),a.m(t,n)):a&&(et(),I(a,1,1,()=>{a=null}),it()),(!s||h&2)&&i!==(i=l[9].title+"")&&ot(r,i),h&2&&L(e,"text-sm",l[9].icon),h&3&&L(t,"active",l[0].has(l[9].title)),h&8&&L(t,"grow",l[3])},i(u){s||(y(a),s=!0)},o(u){I(a),s=!1},d(u){u&&w(t),a&&a.d(),d=!1,f()}}}function ki(l){let t,n,e,i,r,o,s;const d=[yi,wi],f=[];function a(m,p){return m[5].label?0:m[2]?1:-1}~(e=a(l))&&(i=f[e]=d[e](l));let _=l[1],u=[];for(let m=0;m<_.length;m+=1)u[m]=he(ge(l,_,m));const h=m=>I(u[m],1,1,()=>{u[m]=null});return{c(){t=D("div"),n=D("div"),i&&i.c(),r=N(),o=D("div");for(let m=0;m<u.length;m+=1)u[m].c();this.h()},l(m){t=T(m,"DIV",{class:!0});var p=V(t);n=T(p,"DIV",{class:!0});var g=V(n);i&&i.l(g),g.forEach(w),r=M(p),o=T(p,"DIV",{class:!0});var c=V(o);for(let b=0;b<u.length;b+=1)u[b].l(c);c.forEach(w),p.forEach(w),this.h()},h(){$(n,"class","mx-1 mb-px text-sm"),$(o,"class","flex gap-2"),$(t,"class","my-4 block box-border")},m(m,p){j(m,t,p),v(t,n),~e&&f[e].m(n,null),v(t,r),v(t,o);for(let g=0;g<u.length;g+=1)u[g].m(o,null);s=!0},p(m,[p]){let g=e;if(e=a(m),e===g?~e&&f[e].p(m,p):(i&&(et(),I(f[g],1,1,()=>{f[g]=null}),it()),~e?(i=f[e],i?i.p(m,p):(i=f[e]=d[e](m),i.c()),y(i,1),i.m(n,null)):i=null),p&27){_=m[1];let c;for(c=0;c<_.length;c+=1){const b=ge(m,_,c);u[c]?(u[c].p(b,p),y(u[c],1)):(u[c]=he(b),u[c].c(),y(u[c],1),u[c].m(o,null))}for(et(),c=_.length;c<u.length;c+=1)h(c);it()}},i(m){if(!s){y(i);for(let p=0;p<_.length;p+=1)y(u[p]);s=!0}},o(m){I(i),u=u.filter(Boolean);for(let p=0;p<u.length;p+=1)I(u[p]);s=!1},d(m){m&&w(t),~e&&f[e].d(),Lt(u,m)}}}function $i(l,t,n){let{$$slots:e={},$$scope:i}=t;const r=Rt(e);let{value:o=new Set([])}=t,{options:s=[]}=t,{label:d=""}=t,{grow:f=!1}=t;function a(u){o.has(u.title)?(o.delete(u.title),n(0,o=new Set(o))):(o.add(u.title),n(0,o=new Set(o)))}const _=u=>a(u);return l.$$set=u=>{"value"in u&&n(0,o=u.value),"options"in u&&n(1,s=u.options),"label"in u&&n(2,d=u.label),"grow"in u&&n(3,f=u.grow),"$$scope"in u&&n(6,i=u.$$scope)},[o,s,d,f,a,r,i,e,_]}class Le extends gt{constructor(t){super(),pt(this,t,$i,ki,mt,{value:0,options:1,label:2,grow:3})}}function be(l,t,n){const e=l.slice();return e[9]=t[n],e}const Si=l=>({}),_e=l=>({});function Ei(l){let t;return{c(){t=X(l[2])},l(n){t=J(n,l[2])},m(n,e){j(n,t,e)},p(n,e){e&4&&ot(t,n[2])},i:at,o:at,d(n){n&&w(t)}}}function Ii(l){let t;const n=l[7].label,e=vt(n,l,l[6],_e);return{c(){e&&e.c()},l(i){e&&e.l(i)},m(i,r){e&&e.m(i,r),t=!0},p(i,r){e&&e.p&&(!t||r&64)&&wt(e,n,i,i[6],t?kt(n,i[6],r,Si):yt(i[6]),_e)},i(i){t||(y(e,i),t=!0)},o(i){I(e,i),t=!1},d(i){e&&e.d(i)}}}function ve(l){let t,n;return t=new te({props:{src:l[9].icon,size:"16"}}),{c(){A(t.$$.fragment)},l(e){B(t.$$.fragment,e)},m(e,i){O(t,e,i),n=!0},p(e,i){const r={};i&2&&(r.src=e[9].icon),t.$set(r)},i(e){n||(y(t.$$.fragment,e),n=!0)},o(e){I(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function we(l){let t,n,e,i=l[9].title+"",r,o,s,d,f,a=l[9].icon&&ve(l);function _(){return l[8](l[9])}return{c(){t=D("div"),a&&a.c(),n=N(),e=D("div"),r=X(i),o=N(),this.h()},l(u){t=T(u,"DIV",{class:!0});var h=V(t);a&&a.l(h),n=M(h),e=T(h,"DIV",{});var m=V(e);r=J(m,i),m.forEach(w),o=M(h),h.forEach(w),this.h()},h(){L(e,"text-sm",l[9].icon),$(t,"class","px-3 py-2 rounded bg-blue-50 text-blue-700 flex flex-col items-center justify-center svelte-1mwawgl"),L(t,"active",l[0]==l[9].title),L(t,"grow",l[3])},m(u,h){j(u,t,h),a&&a.m(t,null),v(t,n),v(t,e),v(e,r),v(t,o),s=!0,d||(f=Q(t,"click",_),d=!0)},p(u,h){l=u,l[9].icon?a?(a.p(l,h),h&2&&y(a,1)):(a=ve(l),a.c(),y(a,1),a.m(t,n)):a&&(et(),I(a,1,1,()=>{a=null}),it()),(!s||h&2)&&i!==(i=l[9].title+"")&&ot(r,i),h&2&&L(e,"text-sm",l[9].icon),h&3&&L(t,"active",l[0]==l[9].title),h&8&&L(t,"grow",l[3])},i(u){s||(y(a),s=!0)},o(u){I(a),s=!1},d(u){u&&w(t),a&&a.d(),d=!1,f()}}}function Di(l){let t,n,e,i,r,o,s;const d=[Ii,Ei],f=[];function a(m,p){return m[5].label?0:m[2]?1:-1}~(e=a(l))&&(i=f[e]=d[e](l));let _=l[1],u=[];for(let m=0;m<_.length;m+=1)u[m]=we(be(l,_,m));const h=m=>I(u[m],1,1,()=>{u[m]=null});return{c(){t=D("div"),n=D("div"),i&&i.c(),r=N(),o=D("div");for(let m=0;m<u.length;m+=1)u[m].c();this.h()},l(m){t=T(m,"DIV",{class:!0});var p=V(t);n=T(p,"DIV",{class:!0});var g=V(n);i&&i.l(g),g.forEach(w),r=M(p),o=T(p,"DIV",{class:!0});var c=V(o);for(let b=0;b<u.length;b+=1)u[b].l(c);c.forEach(w),p.forEach(w),this.h()},h(){$(n,"class","mx-1 mb-px text-sm"),$(o,"class","flex gap-2"),$(t,"class","my-4 block box-border")},m(m,p){j(m,t,p),v(t,n),~e&&f[e].m(n,null),v(t,r),v(t,o);for(let g=0;g<u.length;g+=1)u[g].m(o,null);s=!0},p(m,[p]){let g=e;if(e=a(m),e===g?~e&&f[e].p(m,p):(i&&(et(),I(f[g],1,1,()=>{f[g]=null}),it()),~e?(i=f[e],i?i.p(m,p):(i=f[e]=d[e](m),i.c()),y(i,1),i.m(n,null)):i=null),p&27){_=m[1];let c;for(c=0;c<_.length;c+=1){const b=be(m,_,c);u[c]?(u[c].p(b,p),y(u[c],1)):(u[c]=we(b),u[c].c(),y(u[c],1),u[c].m(o,null))}for(et(),c=_.length;c<u.length;c+=1)h(c);it()}},i(m){if(!s){y(i);for(let p=0;p<_.length;p+=1)y(u[p]);s=!0}},o(m){I(i),u=u.filter(Boolean);for(let p=0;p<u.length;p+=1)I(u[p]);s=!1},d(m){m&&w(t),~e&&f[e].d(),Lt(u,m)}}}function Ti(l,t,n){let{$$slots:e={},$$scope:i}=t;const r=Rt(e);let{options:o=[]}=t,{value:s=o[0].title}=t,{label:d=""}=t,{grow:f=!1}=t;const a=u=>n(0,s=u.title),_=u=>a(u);return l.$$set=u=>{"options"in u&&n(1,o=u.options),"value"in u&&n(0,s=u.value),"label"in u&&n(2,d=u.label),"grow"in u&&n(3,f=u.grow),"$$scope"in u&&n(6,i=u.$$scope)},[s,o,d,f,a,r,i,e,_]}class qe extends gt{constructor(t){super(),pt(this,t,Ti,Di,mt,{options:1,value:0,label:2,grow:3})}}function ye(l,t,n){const e=l.slice();return e[15]=t[n],e[16]=t,e[17]=n,e}const zi=l=>({}),ke=l=>({});function Vi(l){let t;return{c(){t=X(l[1])},l(n){t=J(n,l[1])},m(n,e){j(n,t,e)},p(n,e){e&2&&ot(t,n[1])},i:at,o:at,d(n){n&&w(t)}}}function Ni(l){let t;const n=l[9].label,e=vt(n,l,l[8],ke);return{c(){e&&e.c()},l(i){e&&e.l(i)},m(i,r){e&&e.m(i,r),t=!0},p(i,r){e&&e.p&&(!t||r&256)&&wt(e,n,i,i[8],t?kt(n,i[8],r,zi):yt(i[8]),ke)},i(i){t||(y(e,i),t=!0)},o(i){I(e,i),t=!1},d(i){e&&e.d(i)}}}function $e(l){let t,n,e,i,r,o,s;function d(){l[10].call(n,l[17])}function f(){return l[11](l[17])}return i=new $t({props:{destructive:!0,icon:je}}),i.$on("click",f),{c(){t=D("div"),n=D("input"),e=N(),A(i.$$.fragment),this.h()},l(a){t=T(a,"DIV",{class:!0});var _=V(t);n=T(_,"INPUT",{class:!0,type:!0}),e=M(_),B(i.$$.fragment,_),_.forEach(w),this.h()},h(){$(n,"class","w-full"),$(n,"type","date"),$(t,"class","flex gap-2")},m(a,_){j(a,t,_),v(t,n),tt(n,l[0][l[17]]),v(t,e),O(i,t,null),r=!0,o||(s=Q(n,"input",d),o=!0)},p(a,_){l=a,_&1&&tt(n,l[0][l[17]])},i(a){r||(y(i.$$.fragment,a),r=!0)},o(a){I(i.$$.fragment,a),r=!1},d(a){a&&w(t),C(i),o=!1,s()}}}function Se(l){let t,n,e,i,r,o,s;return i=new $t({props:{icon:ee}}),i.$on("click",l[4]),{c(){t=D("div"),n=D("input"),e=N(),A(i.$$.fragment),this.h()},l(d){t=T(d,"DIV",{class:!0});var f=V(t);n=T(f,"INPUT",{class:!0,type:!0}),e=M(f),B(i.$$.fragment,f),f.forEach(w),this.h()},h(){$(n,"class","w-full"),$(n,"type","date"),$(t,"class","newDate flex gap-2")},m(d,f){j(d,t,f),v(t,n),tt(n,l[3]),v(t,e),O(i,t,null),r=!0,o||(s=Q(n,"input",l[12]),o=!0)},p(d,f){f&8&&tt(n,d[3])},i(d){r||(y(i.$$.fragment,d),r=!0)},o(d){I(i.$$.fragment,d),r=!1},d(d){d&&w(t),C(i),o=!1,s()}}}function Mi(l){let t,n,e,i,r,o,s,d;const f=[Ni,Vi],a=[];function _(g,c){return g[6].label?0:g[1]?1:-1}~(e=_(l))&&(i=a[e]=f[e](l));let u=l[0],h=[];for(let g=0;g<u.length;g+=1)h[g]=$e(ye(l,u,g));const m=g=>I(h[g],1,1,()=>{h[g]=null});let p=(l[2]==-1||l[0].length<l[2])&&Se(l);return{c(){t=D("div"),n=D("div"),i&&i.c(),r=N(),o=D("div");for(let g=0;g<h.length;g+=1)h[g].c();s=N(),p&&p.c(),this.h()},l(g){t=T(g,"DIV",{class:!0});var c=V(t);n=T(c,"DIV",{class:!0});var b=V(n);i&&i.l(b),b.forEach(w),r=M(c),o=T(c,"DIV",{class:!0});var S=V(o);for(let z=0;z<h.length;z+=1)h[z].l(S);s=M(S),p&&p.l(S),S.forEach(w),c.forEach(w),this.h()},h(){$(n,"class","mx-1 mb-px text-sm"),$(o,"class","dates flex flex-col gap-4"),$(t,"class","pb-3")},m(g,c){j(g,t,c),v(t,n),~e&&a[e].m(n,null),v(t,r),v(t,o);for(let b=0;b<h.length;b+=1)h[b].m(o,null);v(o,s),p&&p.m(o,null),d=!0},p(g,[c]){let b=e;if(e=_(g),e===b?~e&&a[e].p(g,c):(i&&(et(),I(a[b],1,1,()=>{a[b]=null}),it()),~e?(i=a[e],i?i.p(g,c):(i=a[e]=f[e](g),i.c()),y(i,1),i.m(n,null)):i=null),c&33){u=g[0];let S;for(S=0;S<u.length;S+=1){const z=ye(g,u,S);h[S]?(h[S].p(z,c),y(h[S],1)):(h[S]=$e(z),h[S].c(),y(h[S],1),h[S].m(o,s))}for(et(),S=u.length;S<h.length;S+=1)m(S);it()}g[2]==-1||g[0].length<g[2]?p?(p.p(g,c),c&5&&y(p,1)):(p=Se(g),p.c(),y(p,1),p.m(o,null)):p&&(et(),I(p,1,1,()=>{p=null}),it())},i(g){if(!d){y(i);for(let c=0;c<u.length;c+=1)y(h[c]);y(p),d=!0}},o(g){I(i),h=h.filter(Boolean);for(let c=0;c<h.length;c+=1)I(h[c]);I(p),d=!1},d(g){g&&w(t),~e&&a[e].d(),Lt(h,g),p&&p.d()}}}function Pi(l,t,n){let{$$slots:e={},$$scope:i}=t;const r=Rt(e);let{dates:o=[]}=t,{dateStrings:s=[]}=t,{label:d=""}=t,{maxDates:f=5}=t,a="",_="";function u(){!a||(n(0,s=[...s,a]),s.sort(),n(3,a=""))}function h(b){n(0,s=[...s.slice(0,b),...s.slice(b+1)])}function m(){s.toString()!=_&&(n(0,s=s.filter(b=>b!="")),n(7,o=s.map(b=>Ot.PlainDate.from(b))),_=s.toString())}function p(b){s[b]=this.value,n(0,s)}const g=b=>h(b);function c(){a=this.value,n(3,a)}return l.$$set=b=>{"dates"in b&&n(7,o=b.dates),"dateStrings"in b&&n(0,s=b.dateStrings),"label"in b&&n(1,d=b.label),"maxDates"in b&&n(2,f=b.maxDates),"$$scope"in b&&n(8,i=b.$$scope)},l.$$.update=()=>{l.$$.dirty&1&&s&&m()},[s,d,f,a,u,h,r,o,i,e,p,g,c]}class Ui extends gt{constructor(t){super(),pt(this,t,Pi,Mi,mt,{dates:7,dateStrings:0,label:1,maxDates:2})}}function Ee(l,t,n){const e=l.slice();return e[17]=t[n],e[18]=t,e[19]=n,e}const Wi=l=>({}),Ie=l=>({});function ji(l){let t;return{c(){t=X(l[1])},l(n){t=J(n,l[1])},m(n,e){j(n,t,e)},p(n,e){e&2&&ot(t,n[1])},i:at,o:at,d(n){n&&w(t)}}}function Ai(l){let t;const n=l[9].label,e=vt(n,l,l[8],Ie);return{c(){e&&e.c()},l(i){e&&e.l(i)},m(i,r){e&&e.m(i,r),t=!0},p(i,r){e&&e.p&&(!t||r&256)&&wt(e,n,i,i[8],t?kt(n,i[8],r,Wi):yt(i[8]),Ie)},i(i){t||(y(e,i),t=!0)},o(i){I(e,i),t=!1},d(i){e&&e.d(i)}}}function De(l){let t,n,e,i,r,o,s,d,f;function a(){l[10].call(n,l[19])}function _(){l[11].call(i,l[19])}function u(){return l[12](l[19])}return o=new $t({props:{destructive:!0,icon:je}}),o.$on("click",u),{c(){t=D("div"),n=D("input"),e=N(),i=D("input"),r=N(),A(o.$$.fragment),this.h()},l(h){t=T(h,"DIV",{class:!0});var m=V(t);n=T(m,"INPUT",{class:!0,type:!0}),e=M(m),i=T(m,"INPUT",{class:!0,type:!0}),r=M(m),B(o.$$.fragment,m),m.forEach(w),this.h()},h(){$(n,"class","w-full"),$(n,"type","time"),$(i,"class","w-full"),$(i,"type","time"),$(t,"class","flex gap-2")},m(h,m){j(h,t,m),v(t,n),tt(n,l[0][l[19]].from),v(t,e),v(t,i),tt(i,l[0][l[19]].to),v(t,r),O(o,t,null),s=!0,d||(f=[Q(n,"input",a),Q(i,"input",_)],d=!0)},p(h,m){l=h,m&1&&tt(n,l[0][l[19]].from),m&1&&tt(i,l[0][l[19]].to)},i(h){s||(y(o.$$.fragment,h),s=!0)},o(h){I(o.$$.fragment,h),s=!1},d(h){h&&w(t),C(o),d=!1,St(f)}}}function Te(l){let t,n,e,i,r,o,s,d,f;return o=new $t({props:{icon:ee}}),o.$on("click",l[4]),{c(){t=D("div"),n=D("input"),e=N(),i=D("input"),r=N(),A(o.$$.fragment),this.h()},l(a){t=T(a,"DIV",{class:!0});var _=V(t);n=T(_,"INPUT",{class:!0,type:!0}),e=M(_),i=T(_,"INPUT",{class:!0,type:!0}),r=M(_),B(o.$$.fragment,_),_.forEach(w),this.h()},h(){$(n,"class","w-full"),$(n,"type","time"),$(i,"class","w-full"),$(i,"type","time"),$(t,"class","newTime flex gap-2")},m(a,_){j(a,t,_),v(t,n),tt(n,l[3].from),v(t,e),v(t,i),tt(i,l[3].to),v(t,r),O(o,t,null),s=!0,d||(f=[Q(n,"input",l[13]),Q(i,"input",l[14])],d=!0)},p(a,_){_&8&&tt(n,a[3].from),_&8&&tt(i,a[3].to)},i(a){s||(y(o.$$.fragment,a),s=!0)},o(a){I(o.$$.fragment,a),s=!1},d(a){a&&w(t),C(o),d=!1,St(f)}}}function Bi(l){let t,n,e,i,r,o,s,d;const f=[Ai,ji],a=[];function _(g,c){return g[6].label?0:g[1]?1:-1}~(e=_(l))&&(i=a[e]=f[e](l));let u=l[0],h=[];for(let g=0;g<u.length;g+=1)h[g]=De(Ee(l,u,g));const m=g=>I(h[g],1,1,()=>{h[g]=null});let p=(l[2]==-1||l[0].length<l[2])&&Te(l);return{c(){t=D("div"),n=D("div"),i&&i.c(),r=N(),o=D("div");for(let g=0;g<h.length;g+=1)h[g].c();s=N(),p&&p.c(),this.h()},l(g){t=T(g,"DIV",{});var c=V(t);n=T(c,"DIV",{class:!0});var b=V(n);i&&i.l(b),b.forEach(w),r=M(c),o=T(c,"DIV",{class:!0});var S=V(o);for(let z=0;z<h.length;z+=1)h[z].l(S);s=M(S),p&&p.l(S),S.forEach(w),c.forEach(w),this.h()},h(){$(n,"class","mx-1 mb-px text-sm"),$(o,"class","times flex flex-col gap-4")},m(g,c){j(g,t,c),v(t,n),~e&&a[e].m(n,null),v(t,r),v(t,o);for(let b=0;b<h.length;b+=1)h[b].m(o,null);v(o,s),p&&p.m(o,null),d=!0},p(g,[c]){let b=e;if(e=_(g),e===b?~e&&a[e].p(g,c):(i&&(et(),I(a[b],1,1,()=>{a[b]=null}),it()),~e?(i=a[e],i?i.p(g,c):(i=a[e]=f[e](g),i.c()),y(i,1),i.m(n,null)):i=null),c&33){u=g[0];let S;for(S=0;S<u.length;S+=1){const z=Ee(g,u,S);h[S]?(h[S].p(z,c),y(h[S],1)):(h[S]=De(z),h[S].c(),y(h[S],1),h[S].m(o,s))}for(et(),S=u.length;S<h.length;S+=1)m(S);it()}g[2]==-1||g[0].length<g[2]?p?(p.p(g,c),c&5&&y(p,1)):(p=Te(g),p.c(),y(p,1),p.m(o,null)):p&&(et(),I(p,1,1,()=>{p=null}),it())},i(g){if(!d){y(i);for(let c=0;c<u.length;c+=1)y(h[c]);y(p),d=!0}},o(g){I(i),h=h.filter(Boolean);for(let c=0;c<h.length;c+=1)I(h[c]);I(p),d=!1},d(g){g&&w(t),~e&&a[e].d(),Lt(h,g),p&&p.d()}}}function Oi(l,t,n){let{$$slots:e={},$$scope:i}=t;const r=Rt(e);let{times:o=[]}=t,{timeStrings:s=[]}=t,{label:d="init"}=t,{maxTimes:f=5}=t,a={from:"",to:""},_="";function u(){!a.from||!a.to||(n(0,s=[a,...s]),n(3,a={from:"",to:""}))}function h(z){n(0,s=[...s.slice(0,z),...s.slice(z+1)])}function m(){var P;const z=(P=JSON.stringify(s))!=null?P:"";z!=_&&(n(0,s=s.filter(R=>R.from!=""||R.to!="")),_=z,n(7,o=s.map(R=>{const Z=Ot.PlainTime.from(R.from),q=Ot.PlainTime.from(R.to),E={from:q,to:Z};return Z.until(q).hours<0||Z.until(q).hours==0&&Z.until(q).minutes<0?E:{from:Z,to:q}})))}function p(z){s[z].from=this.value,n(0,s)}function g(z){s[z].to=this.value,n(0,s)}const c=z=>h(z);function b(){a.from=this.value,n(3,a)}function S(){a.to=this.value,n(3,a)}return l.$$set=z=>{"times"in z&&n(7,o=z.times),"timeStrings"in z&&n(0,s=z.timeStrings),"label"in z&&n(1,d=z.label),"maxTimes"in z&&n(2,f=z.maxTimes),"$$scope"in z&&n(8,i=z.$$scope)},l.$$.update=()=>{l.$$.dirty&1&&s&&m()},[s,d,f,a,u,h,r,o,i,e,p,g,c,b,S]}class Ci extends gt{constructor(t){super(),pt(this,t,Oi,Bi,mt,{times:7,timeStrings:0,label:1,maxTimes:2})}}function ze(l){let t,n,e=l[0].editMode?"Edit":"Create New",i,r,o,s,d,f,a,_,u,h,m,p,g,c,b,S,z,P,R,Z,q,E,W,nt,F,H,Y,G,lt,ht,zt;function Xt(k){l[6](k)}let Vt={type:"text",label:"title"};l[0].activity.title!==void 0&&(Vt.value=l[0].activity.title),f=new bt({props:Vt}),ut.push(()=>ft(f,"value",Xt));function Jt(k){l[7](k)}let Nt={dateStrings:l[2],label:"Enter possible dates"};l[0].activity.dates!==void 0&&(Nt.dates=l[0].activity.dates),u=new Ui({props:Nt}),ut.push(()=>ft(u,"dates",Jt));function Zt(k){l[8](k)}let Mt={timeStrings:l[1],label:"Enter possible times"};l[0].activity.times!==void 0&&(Mt.times=l[0].activity.times),p=new Ci({props:Mt}),ut.push(()=>ft(p,"times",Zt));function Kt(k){l[9](k)}let Pt={type:"text",placeholder:"Where?",label:"Location"};l[0].activity.location!==void 0&&(Pt.value=l[0].activity.location),S=new bt({props:Pt}),ut.push(()=>ft(S,"value",Kt));function qt(k){l[10](k)}let Ut={grow:!0,label:"Get notified if it will",options:[{title:"Sun",icon:Ae},{title:"Windy"},{title:"Rain"},{title:"Snow"},{title:"Thunder",icon:Be}]};l[0].activity.notifyOnWeather!==void 0&&(Ut.value=l[0].activity.notifyOnWeather),R=new Le({props:Ut}),ut.push(()=>ft(R,"value",qt));function Ft(k){l[11](k)}let Wt={grow:!0,label:"Activity type",options:[{title:"Work",icon:Oe},{title:"Food"},{title:"Fun"},{title:"Workout"},{title:"Relax"}]};return l[0].activity.actitityType!==void 0&&(Wt.value=l[0].activity.actitityType),E=new qe({props:Wt}),ut.push(()=>ft(E,"value",Ft)),H=new $t({props:{destructive:!0,$$slots:{default:[Ri]},$$scope:{ctx:l}}}),H.$on("click",l[5]),{c(){t=D("form"),n=D("h3"),i=X(e),r=X(" activity"),o=N(),s=D("div"),d=D("div"),A(f.$$.fragment),_=N(),A(u.$$.fragment),m=N(),A(p.$$.fragment),c=N(),b=D("div"),A(S.$$.fragment),P=N(),A(R.$$.fragment),q=N(),A(E.$$.fragment),nt=N(),F=D("div"),A(H.$$.fragment),Y=N(),G=D("input"),this.h()},l(k){t=T(k,"FORM",{});var U=V(t);n=T(U,"H3",{class:!0});var ct=V(n);i=J(ct,e),r=J(ct," activity"),ct.forEach(w),o=M(U),s=T(U,"DIV",{class:!0});var rt=V(s);d=T(rt,"DIV",{class:!0});var K=V(d);B(f.$$.fragment,K),_=M(K),B(u.$$.fragment,K),m=M(K),B(p.$$.fragment,K),K.forEach(w),c=M(rt),b=T(rt,"DIV",{class:!0});var x=V(b);B(S.$$.fragment,x),P=M(x),B(R.$$.fragment,x),q=M(x),B(E.$$.fragment,x),x.forEach(w),rt.forEach(w),nt=M(U),F=T(U,"DIV",{class:!0});var st=V(F);B(H.$$.fragment,st),Y=M(st),G=T(st,"INPUT",{class:!0,type:!0}),st.forEach(w),U.forEach(w),this.h()},h(){$(n,"class","text-xl border-b border-b-black/50 border-solid mb-4 pb-2 capitalize"),$(d,"class","left grow"),$(b,"class","right grow"),$(s,"class","flex gap-4 w-full"),$(G,"class","bg-slate-100 hover:bg-slate-300 transition-colors px-3 py-2 rounded cursor-pointer"),$(G,"type","submit"),G.value="submit",$(F,"class","flex justify-end gap-4")},m(k,U){j(k,t,U),v(t,n),v(n,i),v(n,r),v(t,o),v(t,s),v(s,d),O(f,d,null),v(d,_),O(u,d,null),v(d,m),O(p,d,null),v(s,c),v(s,b),O(S,b,null),v(b,P),O(R,b,null),v(b,q),O(E,b,null),v(t,nt),v(t,F),O(H,F,null),v(F,Y),v(F,G),lt=!0,ht||(zt=[Q(G,"click",Ht(l[4])),Q(t,"submit",Ht(l[4]))],ht=!0)},p(k,U){(!lt||U&1)&&e!==(e=k[0].editMode?"Edit":"Create New")&&ot(i,e);const ct={};!a&&U&1&&(a=!0,ct.value=k[0].activity.title,dt(()=>a=!1)),f.$set(ct);const rt={};U&4&&(rt.dateStrings=k[2]),!h&&U&1&&(h=!0,rt.dates=k[0].activity.dates,dt(()=>h=!1)),u.$set(rt);const K={};U&2&&(K.timeStrings=k[1]),!g&&U&1&&(g=!0,K.times=k[0].activity.times,dt(()=>g=!1)),p.$set(K);const x={};!z&&U&1&&(z=!0,x.value=k[0].activity.location,dt(()=>z=!1)),S.$set(x);const st={};!Z&&U&1&&(Z=!0,st.value=k[0].activity.notifyOnWeather,dt(()=>Z=!1)),R.$set(st);const jt={};!W&&U&1&&(W=!0,jt.value=k[0].activity.actitityType,dt(()=>W=!1)),E.$set(jt);const At={};U&4097&&(At.$$scope={dirty:U,ctx:k}),H.$set(At)},i(k){lt||(y(f.$$.fragment,k),y(u.$$.fragment,k),y(p.$$.fragment,k),y(S.$$.fragment,k),y(R.$$.fragment,k),y(E.$$.fragment,k),y(H.$$.fragment,k),lt=!0)},o(k){I(f.$$.fragment,k),I(u.$$.fragment,k),I(p.$$.fragment,k),I(S.$$.fragment,k),I(R.$$.fragment,k),I(E.$$.fragment,k),I(H.$$.fragment,k),lt=!1},d(k){k&&w(t),C(f),C(u),C(p),C(S),C(R),C(E),C(H),ht=!1,St(zt)}}}function Ri(l){let t=l[0].editMode?"Remove":"Cancel",n;return{c(){n=X(t)},l(e){n=J(e,t)},m(e,i){j(e,n,i)},p(e,i){i&1&&t!==(t=e[0].editMode?"Remove":"Cancel")&&ot(n,t)},d(e){e&&w(n)}}}function Li(l){let t,n,e=l[0]&&l[3]&&ze(l);return{c(){e&&e.c(),t=_t()},l(i){e&&e.l(i),t=_t()},m(i,r){e&&e.m(i,r),j(i,t,r),n=!0},p(i,[r]){i[0]&&i[3]?e?(e.p(i,r),r&9&&y(e,1)):(e=ze(i),e.c(),y(e,1),e.m(t.parentNode,t)):e&&(et(),I(e,1,1,()=>{e=null}),it())},i(i){n||(y(e),n=!0)},o(i){I(e),n=!1},d(i){e&&e.d(i),i&&w(t)}}}function qi(l,t,n){let e,i,r;Et(l,Tt,p=>n(3,r=p));let o=r;function s(){!o||(o.editMode?It.updateActivity(o.activity):It.add(o.activity),Ze("./planning"),Tt.reset())}function d(){o!=null&&o.editMode&&It.deleteActivity(o.activity),Tt.reset()}function f(p){l.$$.not_equal(o.activity.title,p)&&(o.activity.title=p,n(0,o))}function a(p){l.$$.not_equal(o.activity.dates,p)&&(o.activity.dates=p,n(0,o))}function _(p){l.$$.not_equal(o.activity.times,p)&&(o.activity.times=p,n(0,o))}function u(p){l.$$.not_equal(o.activity.location,p)&&(o.activity.location=p,n(0,o))}function h(p){l.$$.not_equal(o.activity.notifyOnWeather,p)&&(o.activity.notifyOnWeather=p,n(0,o))}function m(p){l.$$.not_equal(o.activity.actitityType,p)&&(o.activity.actitityType=p,n(0,o))}return l.$$.update=()=>{l.$$.dirty&1&&n(2,e=o==null?void 0:o.activity.dates.map(p=>p.toString())),l.$$.dirty&1&&n(1,i=o==null?void 0:o.activity.times.map(({from:p,to:g})=>({from:p.round({smallestUnit:"minute"}).toString(),to:g.round({smallestUnit:"minute"}).toString()})))},[o,i,e,r,s,d,f,a,_,u,h,m]}class Fi extends gt{constructor(t){super(),pt(this,t,qi,Li,mt,{})}}function Ve(l){var qt,Ut,Ft,Wt;let t,n,e=l[0].editMode?"Edit":"Create New",i,r,o,s,d,f,a,_,u,h,m,p,g,c,b,S,z,P,R,Z,q,E,W,nt,F,H,Y,G,lt,ht,zt;function Xt(k){l[4](k)}let Vt={type:"text",label:"title"};l[0].activity.title!==void 0&&(Vt.value=l[0].activity.title),f=new bt({props:Vt}),ut.push(()=>ft(f,"value",Xt)),u=new bt({props:{type:"date",label:"date",value:l[0].activity.date.toString()}}),u.$on("change",l[5]),m=new bt({props:{type:"time",label:"from",value:(Ut=(qt=l[0])==null?void 0:qt.activity.time)==null?void 0:Ut.from.toString({smallestUnit:"minute"})}}),m.$on("change",l[6]),g=new bt({props:{type:"time",label:"to",value:(Wt=(Ft=l[0])==null?void 0:Ft.activity.time)==null?void 0:Wt.to.toString({smallestUnit:"minute"})}}),g.$on("change",l[7]);function Jt(k){l[8](k)}let Nt={type:"text",placeholder:"Where?",label:"Location"};l[0].activity.location!==void 0&&(Nt.value=l[0].activity.location),S=new bt({props:Nt}),ut.push(()=>ft(S,"value",Jt));function Zt(k){l[9](k)}let Mt={grow:!0,label:"Get notified if it will",options:[{title:"Sun",icon:Ae},{title:"Windy"},{title:"Rain"},{title:"Snow"},{title:"Thunder",icon:Be}]};l[0].activity.notifyOnWeather!==void 0&&(Mt.value=l[0].activity.notifyOnWeather),R=new Le({props:Mt}),ut.push(()=>ft(R,"value",Zt));function Kt(k){l[10](k)}let Pt={grow:!0,label:"Activity type",options:[{title:"Work",icon:Oe},{title:"Food"},{title:"Fun"},{title:"Workout"},{title:"Relax"}]};return l[0].activity.actitityType!==void 0&&(Pt.value=l[0].activity.actitityType),E=new qe({props:Pt}),ut.push(()=>ft(E,"value",Kt)),H=new $t({props:{destructive:!0,$$slots:{default:[Hi]},$$scope:{ctx:l}}}),H.$on("click",l[3]),{c(){t=D("form"),n=D("h3"),i=X(e),r=X(" activity"),o=N(),s=D("div"),d=D("div"),A(f.$$.fragment),_=N(),A(u.$$.fragment),h=N(),A(m.$$.fragment),p=N(),A(g.$$.fragment),c=N(),b=D("div"),A(S.$$.fragment),P=N(),A(R.$$.fragment),q=N(),A(E.$$.fragment),nt=N(),F=D("div"),A(H.$$.fragment),Y=N(),G=D("input"),this.h()},l(k){t=T(k,"FORM",{});var U=V(t);n=T(U,"H3",{class:!0});var ct=V(n);i=J(ct,e),r=J(ct," activity"),ct.forEach(w),o=M(U),s=T(U,"DIV",{class:!0});var rt=V(s);d=T(rt,"DIV",{class:!0});var K=V(d);B(f.$$.fragment,K),_=M(K),B(u.$$.fragment,K),h=M(K),B(m.$$.fragment,K),p=M(K),B(g.$$.fragment,K),K.forEach(w),c=M(rt),b=T(rt,"DIV",{class:!0});var x=V(b);B(S.$$.fragment,x),P=M(x),B(R.$$.fragment,x),q=M(x),B(E.$$.fragment,x),x.forEach(w),rt.forEach(w),nt=M(U),F=T(U,"DIV",{class:!0});var st=V(F);B(H.$$.fragment,st),Y=M(st),G=T(st,"INPUT",{class:!0,type:!0}),st.forEach(w),U.forEach(w),this.h()},h(){$(n,"class","text-xl border-b border-b-black/50 border-solid mb-4 pb-2 capitalize"),$(d,"class","left grow"),$(b,"class","right grow"),$(s,"class","flex gap-4 w-full"),$(G,"class","bg-slate-100 hover:bg-slate-300 transition-colors px-3 py-2 rounded cursor-pointer"),$(G,"type","submit"),G.value="submit",$(F,"class","flex justify-end gap-4")},m(k,U){j(k,t,U),v(t,n),v(n,i),v(n,r),v(t,o),v(t,s),v(s,d),O(f,d,null),v(d,_),O(u,d,null),v(d,h),O(m,d,null),v(d,p),O(g,d,null),v(s,c),v(s,b),O(S,b,null),v(b,P),O(R,b,null),v(b,q),O(E,b,null),v(t,nt),v(t,F),O(H,F,null),v(F,Y),v(F,G),lt=!0,ht||(zt=[Q(G,"click",Ht(l[2])),Q(t,"submit",Ht(l[2]))],ht=!0)},p(k,U){var ne,le,re,oe;(!lt||U&1)&&e!==(e=k[0].editMode?"Edit":"Create New")&&ot(i,e);const ct={};!a&&U&1&&(a=!0,ct.value=k[0].activity.title,dt(()=>a=!1)),f.$set(ct);const rt={};U&1&&(rt.value=k[0].activity.date.toString()),u.$set(rt);const K={};U&1&&(K.value=(le=(ne=k[0])==null?void 0:ne.activity.time)==null?void 0:le.from.toString({smallestUnit:"minute"})),m.$set(K);const x={};U&1&&(x.value=(oe=(re=k[0])==null?void 0:re.activity.time)==null?void 0:oe.to.toString({smallestUnit:"minute"})),g.$set(x);const st={};!z&&U&1&&(z=!0,st.value=k[0].activity.location,dt(()=>z=!1)),S.$set(st);const jt={};!Z&&U&1&&(Z=!0,jt.value=k[0].activity.notifyOnWeather,dt(()=>Z=!1)),R.$set(jt);const At={};!W&&U&1&&(W=!0,At.value=k[0].activity.actitityType,dt(()=>W=!1)),E.$set(At);const ie={};U&2049&&(ie.$$scope={dirty:U,ctx:k}),H.$set(ie)},i(k){lt||(y(f.$$.fragment,k),y(u.$$.fragment,k),y(m.$$.fragment,k),y(g.$$.fragment,k),y(S.$$.fragment,k),y(R.$$.fragment,k),y(E.$$.fragment,k),y(H.$$.fragment,k),lt=!0)},o(k){I(f.$$.fragment,k),I(u.$$.fragment,k),I(m.$$.fragment,k),I(g.$$.fragment,k),I(S.$$.fragment,k),I(R.$$.fragment,k),I(E.$$.fragment,k),I(H.$$.fragment,k),lt=!1},d(k){k&&w(t),C(f),C(u),C(m),C(g),C(S),C(R),C(E),C(H),ht=!1,St(zt)}}}function Hi(l){let t=l[0].editMode?"Remove":"Cancel",n;return{c(){n=X(t)},l(e){n=J(e,t)},m(e,i){j(e,n,i)},p(e,i){i&1&&t!==(t=e[0].editMode?"Remove":"Cancel")&&ot(n,t)},d(e){e&&w(n)}}}function Yi(l){let t,n,e=l[0]&&l[1]&&Ve(l);return{c(){e&&e.c(),t=_t()},l(i){e&&e.l(i),t=_t()},m(i,r){e&&e.m(i,r),j(i,t,r),n=!0},p(i,[r]){i[0]&&i[1]?e?(e.p(i,r),r&3&&y(e,1)):(e=Ve(i),e.c(),y(e,1),e.m(t.parentNode,t)):e&&(et(),I(e,1,1,()=>{e=null}),it())},i(i){n||(y(e),n=!0)},o(i){I(e),n=!1},d(i){e&&e.d(i),i&&w(t)}}}function Gi(l,t,n){let e;Et(l,Bt,m=>n(1,e=m));let i=e;function r(){var m,p;!i||(i.editMode?Dt.updateActivity(i.activity):Dt.add(i.activity,i.activity.date,(m=i.activity.time)==null?void 0:m.from,(p=i.activity.time)==null?void 0:p.to),Bt.reset())}function o(){i!=null&&i.editMode&&Dt.deleteActivity(i.activity),Bt.reset()}function s(m){l.$$.not_equal(i.activity.title,m)&&(i.activity.title=m,n(0,i))}const d=m=>i==null?void 0:i.activity.setDate(m),f=m=>i==null?void 0:i.activity.setFromTime(m),a=m=>i==null?void 0:i.activity.setToTime(m);function _(m){l.$$.not_equal(i.activity.location,m)&&(i.activity.location=m,n(0,i))}function u(m){l.$$.not_equal(i.activity.notifyOnWeather,m)&&(i.activity.notifyOnWeather=m,n(0,i))}function h(m){l.$$.not_equal(i.activity.actitityType,m)&&(i.activity.actitityType=m,n(0,i))}return[i,e,r,o,s,d,f,a,_,u,h]}class Xi extends gt{constructor(t){super(),pt(this,t,Gi,Yi,mt,{})}}const Ji=()=>{const l=Ye("__svelte__");return{page:{subscribe:l.page.subscribe},navigating:{subscribe:l.navigating.subscribe},get preloading(){return console.error("stores.preloading is deprecated; use stores.navigating instead"),{subscribe:l.navigating.subscribe}},session:l.session,updated:l.updated}},Zi={subscribe(l){return Ji().page.subscribe(l)}};function Ne(l,t,n){const e=l.slice();return e[6]=t[n],e}function Me(l){let t,n,e,i=l[6].title+"",r,o,s,d;return n=new te({props:{src:l[6].icon,size:"16"}}),{c(){t=D("a"),A(n.$$.fragment),e=N(),r=X(i),o=N(),this.h()},l(f){t=T(f,"A",{href:!0,class:!0});var a=V(t);B(n.$$.fragment,a),e=M(a),r=J(a,i),o=M(a),a.forEach(w),this.h()},h(){$(t,"href",s=Ue+"/"+l[6].url[0]),$(t,"class","flex flex-row items-center justify-start px-2 gap-3 svelte-g314rs"),L(t,"active",l[6].url.includes(l[0].routeId||"upcomming"))},m(f,a){j(f,t,a),O(n,t,null),v(t,e),v(t,r),v(t,o),d=!0},p(f,a){a&9&&L(t,"active",f[6].url.includes(f[0].routeId||"upcomming"))},i(f){d||(y(n.$$.fragment,f),d=!0)},o(f){I(n.$$.fragment,f),d=!1},d(f){f&&w(t),C(n)}}}function Ki(l){let t;return{c(){t=X("Create new event")},l(n){t=J(n,"Create new event")},m(n,e){j(n,t,e)},d(n){n&&w(t)}}}function Qi(l){let t,n;return t=new Fi({}),{c(){A(t.$$.fragment)},l(e){B(t.$$.fragment,e)},m(e,i){O(t,e,i),n=!0},i(e){n||(y(t.$$.fragment,e),n=!0)},o(e){I(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function xi(l){let t,n;return t=new Xi({}),{c(){A(t.$$.fragment)},l(e){B(t.$$.fragment,e)},m(e,i){O(t,e,i),n=!0},i(e){n||(y(t.$$.fragment,e),n=!0)},o(e){I(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function tn(l){let t,n,e,i,r,o,s,d,f,a,_,u,h,m,p,g,c,b,S,z=l[3],P=[];for(let E=0;E<z.length;E+=1)P[E]=Me(Ne(l,z,E));const R=E=>I(P[E],1,1,()=>{P[E]=null});_=new $t({props:{icon:ee,$$slots:{default:[Ki]},$$scope:{ctx:l}}}),_.$on("click",Tt.new),h=new hi({props:{firstname:"Abel",lastname:"de Bruijn"}});const Z=l[4].default,q=vt(Z,l,l[5],null);return g=new de({props:{visible:l[1]!==void 0,$$slots:{default:[Qi]},$$scope:{ctx:l}}}),g.$on("close",Tt.reset),b=new de({props:{visible:l[2]!==void 0,$$slots:{default:[xi]},$$scope:{ctx:l}}}),b.$on("close",Bt.reset),{c(){t=D("div"),n=D("aside"),e=D("nav"),i=D("h1"),r=X("PodPlanner"),o=N(),s=D("div");for(let E=0;E<P.length;E+=1)P[E].c();d=N(),f=D("main"),a=D("div"),A(_.$$.fragment),u=N(),A(h.$$.fragment),m=N(),q&&q.c(),p=N(),A(g.$$.fragment),c=N(),A(b.$$.fragment),this.h()},l(E){t=T(E,"DIV",{class:!0});var W=V(t);n=T(W,"ASIDE",{class:!0});var nt=V(n);e=T(nt,"NAV",{class:!0});var F=V(e);i=T(F,"H1",{class:!0});var H=V(i);r=J(H,"PodPlanner"),H.forEach(w),o=M(F),s=T(F,"DIV",{class:!0});var Y=V(s);for(let ht=0;ht<P.length;ht+=1)P[ht].l(Y);Y.forEach(w),F.forEach(w),nt.forEach(w),d=M(W),f=T(W,"MAIN",{class:!0});var G=V(f);a=T(G,"DIV",{class:!0});var lt=V(a);B(_.$$.fragment,lt),u=M(lt),B(h.$$.fragment,lt),lt.forEach(w),m=M(G),q&&q.l(G),G.forEach(w),W.forEach(w),p=M(E),B(g.$$.fragment,E),c=M(E),B(b.$$.fragment,E),this.h()},h(){$(i,"class","text-3xl font-bold border-b-2 border-green-700 text-green-700 mb-4"),$(s,"class","flex flex-col gap-2"),$(e,"class","w-64 p-4 border-r-2 border-slate-200 fixed left-0 top-0 h-[100vh]"),$(n,"class","w-64 p-4"),$(a,"class","flex gap-4 justify-end mb-10"),$(f,"class","grow p-5"),$(t,"class","flex")},m(E,W){j(E,t,W),v(t,n),v(n,e),v(e,i),v(i,r),v(e,o),v(e,s);for(let nt=0;nt<P.length;nt+=1)P[nt].m(s,null);v(t,d),v(t,f),v(f,a),O(_,a,null),v(a,u),O(h,a,null),v(f,m),q&&q.m(f,null),j(E,p,W),O(g,E,W),j(E,c,W),O(b,E,W),S=!0},p(E,[W]){if(W&9){z=E[3];let Y;for(Y=0;Y<z.length;Y+=1){const G=Ne(E,z,Y);P[Y]?(P[Y].p(G,W),y(P[Y],1)):(P[Y]=Me(G),P[Y].c(),y(P[Y],1),P[Y].m(s,null))}for(et(),Y=z.length;Y<P.length;Y+=1)R(Y);it()}const nt={};W&32&&(nt.$$scope={dirty:W,ctx:E}),_.$set(nt),q&&q.p&&(!S||W&32)&&wt(q,Z,E,E[5],S?kt(Z,E[5],W,null):yt(E[5]),null);const F={};W&2&&(F.visible=E[1]!==void 0),W&32&&(F.$$scope={dirty:W,ctx:E}),g.$set(F);const H={};W&4&&(H.visible=E[2]!==void 0),W&32&&(H.$$scope={dirty:W,ctx:E}),b.$set(H)},i(E){if(!S){for(let W=0;W<z.length;W+=1)y(P[W]);y(_.$$.fragment,E),y(h.$$.fragment,E),y(q,E),y(g.$$.fragment,E),y(b.$$.fragment,E),S=!0}},o(E){P=P.filter(Boolean);for(let W=0;W<P.length;W+=1)I(P[W]);I(_.$$.fragment,E),I(h.$$.fragment,E),I(q,E),I(g.$$.fragment,E),I(b.$$.fragment,E),S=!1},d(E){E&&w(t),Lt(P,E),C(_),C(h),q&&q.d(E),E&&w(p),C(g,E),E&&w(c),C(b,E)}}}function en(l,t,n){let e,i,r;Et(l,Zi,f=>n(0,e=f)),Et(l,Tt,f=>n(1,i=f)),Et(l,Bt,f=>n(2,r=f));let{$$slots:o={},$$scope:s}=t;const d=[{title:"Planning view",url:["planning",""],icon:Qt},{title:"Upcomming activities",url:["upcomming"],icon:Qt},{title:"Past activities",url:["past"],icon:Qt}];return l.$$set=f=>{"$$scope"in f&&n(5,s=f.$$scope)},[e,i,r,d,o,s]}class nn extends gt{constructor(t){super(),pt(this,t,en,tn,mt,{})}}function ln(l){let t,n;return t=new gi({}),{c(){A(t.$$.fragment)},l(e){B(t.$$.fragment,e)},m(e,i){O(t,e,i),n=!0},p:at,i(e){n||(y(t.$$.fragment,e),n=!0)},o(e){I(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function rn(l){let t,n;return t=new nn({props:{$$slots:{default:[an]},$$scope:{ctx:l}}}),{c(){A(t.$$.fragment)},l(e){B(t.$$.fragment,e)},m(e,i){O(t,e,i),n=!0},p(e,i){const r={};i&4&&(r.$$scope={dirty:i,ctx:e}),t.$set(r)},i(e){n||(y(t.$$.fragment,e),n=!0)},o(e){I(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function on(l){let t,n,e;return{c(){t=D("div"),n=D("img"),this.h()},l(i){t=T(i,"DIV",{class:!0});var r=V(t);n=T(r,"IMG",{class:!0,src:!0,alt:!0,height:!0}),r.forEach(w),this.h()},h(){$(n,"class","h-80 rounded-lg"),Ge(n.src,e=Ue+"/loading.gif")||$(n,"src",e),$(n,"alt","loading"),$(n,"height","400"),$(t,"class","w-full h-[100vh] flex items-center justify-center")},m(i,r){j(i,t,r),v(t,n)},p:at,i:at,o:at,d(i){i&&w(t)}}}function an(l){let t;const n=l[1].default,e=vt(n,l,l[2],null);return{c(){e&&e.c()},l(i){e&&e.l(i)},m(i,r){e&&e.m(i,r),t=!0},p(i,r){e&&e.p&&(!t||r&4)&&wt(e,n,i,i[2],t?kt(n,i[2],r,null):yt(i[2]),null)},i(i){t||(y(e,i),t=!0)},o(i){I(e,i),t=!1},d(i){e&&e.d(i)}}}function sn(l){let t,n,e,i;const r=[on,rn,ln],o=[];function s(d,f){return d[0].loading?0:d[0].userSession.isLoggedIn?1:2}return t=s(l),n=o[t]=r[t](l),{c(){n.c(),e=_t()},l(d){n.l(d),e=_t()},m(d,f){o[t].m(d,f),j(d,e,f),i=!0},p(d,[f]){let a=t;t=s(d),t===a?o[t].p(d,f):(et(),I(o[a],1,1,()=>{o[a]=null}),it(),n=o[t],n?n.p(d,f):(n=o[t]=r[t](d),n.c()),y(n,1),n.m(e.parentNode,e))},i(d){i||(y(n),i=!0)},o(d){I(n),i=!1},d(d){o[t].d(d),d&&w(e)}}}function cn(l,t,n){let e;Et(l,Yt,o=>n(0,e=o));let{$$slots:i={},$$scope:r}=t;return Pe(()=>{Yt.init(),ei()}),l.$$set=o=>{"$$scope"in o&&n(2,r=o.$$scope)},[e,i,r]}class vn extends gt{constructor(t){super(),pt(this,t,cn,sn,mt,{})}}export{vn as default};
