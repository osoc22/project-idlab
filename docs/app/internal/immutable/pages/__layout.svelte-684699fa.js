import{S as ve,i as we,s as ye,e as D,k as U,t as G,c as T,a as z,d as w,m as M,h as Z,b as k,I as A,g as O,J as b,n as re,o as S,p as le,q as y,j as $e,K as Ge,L as tt,E as ae,M as Ne,N as Ue,O as Me,P as Pe,Q as ne,R as K,G as We,T as he,U as be,w as B,x as L,y as R,V as _e,B as q,v as Mt,W as At,l as Ve,X as Ft,Y as Ze,Z as Xe,_ as Oe,$ as Ht,a0 as at,a1 as Yt}from"../chunks/index-6d6fbed6.js";import{b as Pt}from"../chunks/singletons-bd1dfc1a.js";import{g as Wt}from"../chunks/navigation-3ebc45bc.js";import{B as De,I as Fe,T as jt,P as Qe,S as Ct,a as Ot,M as Gt,C as Zt,b as et}from"../chunks/Button-6bd27824.js";import{u as Xt,t as He,m as Be,a as Le,b as Re,p as qe,T as Bt,U as st,P as ct}from"../chunks/eventStore-fb328c09.js";import{u as Je,t as Jt}from"../chunks/userStore-ad134bbc.js";import"../chunks/preload-helper-ed63bd61.js";import"../chunks/index-b2bed869.js";const Kt=l=>({}),ut=l=>({});function Qt(l){let e;return{c(){e=G(l[1])},l(i){e=Z(i,l[1])},m(i,t){O(i,e,t)},p(i,t){t&2&&$e(e,i[1])},i:ae,o:ae,d(i){i&&w(e)}}}function ei(l){let e;const i=l[8].label,t=Ne(i,l,l[7],ut);return{c(){t&&t.c()},l(r){t&&t.l(r)},m(r,n){t&&t.m(r,n),e=!0},p(r,n){t&&t.p&&(!e||n&128)&&Ue(t,i,r,r[7],e?Pe(i,r[7],n,Kt):Me(r[7]),ut)},i(r){e||(y(t,r),e=!0)},o(r){S(t,r),e=!1},d(r){t&&t.d(r)}}}function ti(l){let e,i,t,r;return{c(){e=D("input"),this.h()},l(n){e=T(n,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0}),this.h()},h(){k(e,"id",l[5]),k(e,"class","rounded-md p-2 w-full bg-slate-100 hover:ring transition-all"),k(e,"type","text"),k(e,"placeholder",i=l[2]||l[1]),A(e,"ring",l[3]),A(e,"ring-red-500",l[3])},m(n,o){O(n,e,o),ne(e,l[0]),t||(r=K(e,"input",l[13]),t=!0)},p(n,o){o&6&&i!==(i=n[2]||n[1])&&k(e,"placeholder",i),o&1&&e.value!==n[0]&&ne(e,n[0]),o&8&&A(e,"ring",n[3]),o&8&&A(e,"ring-red-500",n[3])},d(n){n&&w(e),t=!1,r()}}}function ii(l){let e,i,t,r;return{c(){e=D("input"),this.h()},l(n){e=T(n,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0}),this.h()},h(){k(e,"id",l[5]),k(e,"class","rounded-md p-2 w-full bg-slate-100 hover:ring transition-all"),k(e,"type","time"),k(e,"placeholder",i=l[2]||l[1]),A(e,"ring",l[3]),A(e,"ring-red-500",l[3])},m(n,o){O(n,e,o),ne(e,l[0]),t||(r=[K(e,"input",l[12]),K(e,"change",l[10])],t=!0)},p(n,o){o&6&&i!==(i=n[2]||n[1])&&k(e,"placeholder",i),o&1&&ne(e,n[0]),o&8&&A(e,"ring",n[3]),o&8&&A(e,"ring-red-500",n[3])},d(n){n&&w(e),t=!1,We(r)}}}function ri(l){let e,i,t,r;return{c(){e=D("input"),this.h()},l(n){e=T(n,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0}),this.h()},h(){k(e,"id",l[5]),k(e,"class","rounded-md p-2 w-full bg-slate-100 hover:ring transition-all"),k(e,"type","date"),k(e,"placeholder",i=l[2]||l[1]),A(e,"ring",l[3]),A(e,"ring-red-500",l[3])},m(n,o){O(n,e,o),ne(e,l[0]),t||(r=[K(e,"input",l[11]),K(e,"change",l[9])],t=!0)},p(n,o){o&6&&i!==(i=n[2]||n[1])&&k(e,"placeholder",i),o&1&&ne(e,n[0]),o&8&&A(e,"ring",n[3]),o&8&&A(e,"ring-red-500",n[3])},d(n){n&&w(e),t=!1,We(r)}}}function li(l){let e,i,t,r,n,o,u,d,g;const c=[ei,Qt],v=[];function s(a,p){return a[6].label?0:a[1]?1:-1}~(t=s(l))&&(r=v[t]=c[t](l));function m(a,p){return a[4]=="date"?ri:a[4]=="time"?ii:ti}let h=m(l),f=h(l);return{c(){e=D("label"),i=D("div"),r&&r.c(),n=U(),f.c(),o=U(),u=D("div"),d=G(l[3]),this.h()},l(a){e=T(a,"LABEL",{class:!0,for:!0});var p=z(e);i=T(p,"DIV",{class:!0});var _=z(i);r&&r.l(_),_.forEach(w),n=M(p),f.l(p),o=M(p),u=T(p,"DIV",{class:!0});var I=z(u);d=Z(I,l[3]),I.forEach(w),p.forEach(w),this.h()},h(){k(i,"class","mx-1 mb-px text-sm capitalize"),k(u,"class","text-sm h-2 text-red-700 "),A(u,"opacity-0",!l[3]),k(e,"class","my-4 block"),k(e,"for",l[5])},m(a,p){O(a,e,p),b(e,i),~t&&v[t].m(i,null),b(e,n),f.m(e,null),b(e,o),b(e,u),b(u,d),g=!0},p(a,[p]){let _=t;t=s(a),t===_?~t&&v[t].p(a,p):(r&&(re(),S(v[_],1,1,()=>{v[_]=null}),le()),~t?(r=v[t],r?r.p(a,p):(r=v[t]=c[t](a),r.c()),y(r,1),r.m(i,null)):r=null),h===(h=m(a))&&f?f.p(a,p):(f.d(1),f=h(a),f&&(f.c(),f.m(e,o))),(!g||p&8)&&$e(d,a[3]),p&8&&A(u,"opacity-0",!a[3])},i(a){g||(y(r),g=!0)},o(a){S(r),g=!1},d(a){a&&w(e),~t&&v[t].d(),f.d()}}}function ni(l,e,i){let{$$slots:t={},$$scope:r}=e;const n=Ge(t);let{label:o=""}=e,{placeholder:u=""}=e,{error:d=""}=e,{value:g=""}=e,{type:c="text"}=e,v=Xt();function s(p){tt.call(this,l,p)}function m(p){tt.call(this,l,p)}function h(){g=this.value,i(0,g)}function f(){g=this.value,i(0,g)}function a(){g=this.value,i(0,g)}return l.$$set=p=>{"label"in p&&i(1,o=p.label),"placeholder"in p&&i(2,u=p.placeholder),"error"in p&&i(3,d=p.error),"value"in p&&i(0,g=p.value),"type"in p&&i(4,c=p.type),"$$scope"in p&&i(7,r=p.$$scope)},[g,o,u,d,c,v,n,r,t,s,m,h,f,a]}class ze extends ve{constructor(e){super(),we(this,e,ni,li,ye,{label:1,placeholder:2,error:3,value:0,type:4})}}function oi(l){let e;return{c(){e=G("Login with pod")},l(i){e=Z(i,"Login with pod")},m(i,t){O(i,e,t)},d(i){i&&w(e)}}}function ai(l){let e;return{c(){e=G("Learn how to obtain your own pod")},l(i){e=Z(i,"Learn how to obtain your own pod")},m(i,t){O(i,e,t)},d(i){i&&w(e)}}}function si(l){let e,i,t,r,n,o,u,d,g,c,v,s,m,h,f,a;function p(W){l[5](W)}let _={label:"pod url",error:l[1]};l[0]!==void 0&&(_.value=l[0]),n=new ze({props:_}),he.push(()=>be(n,"value",p));function I(W){l[6](W)}let V={label:"Storage location"};return l[2]!==void 0&&(V.value=l[2]),d=new ze({props:V}),he.push(()=>be(d,"value",I)),v=new De({props:{focused:!0,$$slots:{default:[oi]},$$scope:{ctx:l}}}),v.$on("click",l[3]),f=new De({props:{$$slots:{default:[ai]},$$scope:{ctx:l}}}),f.$on("click",l[4]),{c(){e=D("div"),i=D("h1"),t=G("Welcome to the pod"),r=U(),B(n.$$.fragment),u=U(),B(d.$$.fragment),c=U(),B(v.$$.fragment),s=U(),m=D("br"),h=U(),B(f.$$.fragment),this.h()},l(W){e=T(W,"DIV",{class:!0});var N=z(e);i=T(N,"H1",{class:!0});var H=z(i);t=Z(H,"Welcome to the pod"),H.forEach(w),r=M(N),L(n.$$.fragment,N),u=M(N),L(d.$$.fragment,N),c=M(N),L(v.$$.fragment,N),s=M(N),m=T(N,"BR",{}),h=M(N),L(f.$$.fragment,N),N.forEach(w),this.h()},h(){k(i,"class","text-2xl"),k(e,"class","max-w-lg my-16 mx-auto")},m(W,N){O(W,e,N),b(e,i),b(i,t),b(e,r),R(n,e,null),b(e,u),R(d,e,null),b(e,c),R(v,e,null),b(e,s),b(e,m),b(e,h),R(f,e,null),a=!0},p(W,[N]){const H={};N&2&&(H.error=W[1]),!o&&N&1&&(o=!0,H.value=W[0],_e(()=>o=!1)),n.$set(H);const F={};!g&&N&4&&(g=!0,F.value=W[2],_e(()=>g=!1)),d.$set(F);const x={};N&256&&(x.$$scope={dirty:N,ctx:W}),v.$set(x);const ee={};N&256&&(ee.$$scope={dirty:N,ctx:W}),f.$set(ee)},i(W){a||(y(n.$$.fragment,W),y(d.$$.fragment,W),y(v.$$.fragment,W),y(f.$$.fragment,W),a=!0)},o(W){S(n.$$.fragment,W),S(d.$$.fragment,W),S(v.$$.fragment,W),S(f.$$.fragment,W),a=!1},d(W){W&&w(e),q(n),q(d),q(v),q(f)}}}function ci(l,e,i){let t,r="http://localhost:3000",n="",o="http://localhost:3000/johndoe";async function u(){try{await Je.signIn(r,o,t)}catch(v){i(1,n=Jt(v).message)}}function d(){Wt("https://osoc22.github.io/project-idlab/")}Mt(async()=>{t=window.location.href,i(0,r=localStorage.getItem("podUrl")||"http://localhost:3000"),i(2,o=localStorage.getItem("storageLocation")||"http://localhost:3000/johndoe")});function g(v){r=v,i(0,r)}function c(v){o=v,i(2,o)}return[r,n,o,u,d,g,c]}class ui extends ve{constructor(e){super(),we(this,e,ci,si,ye,{})}}function fi(l){let e,i,t,r,n,o,u,d,g,c,v;return{c(){e=D("button"),i=D("div"),t=D("div"),r=D("span"),n=G("SU"),o=U(),u=D("div"),d=D("p"),g=G("Welcome, Solid User"),this.h()},l(s){e=T(s,"BUTTON",{class:!0});var m=z(e);i=T(m,"DIV",{});var h=z(i);t=T(h,"DIV",{class:!0});var f=z(t);r=T(f,"SPAN",{class:!0});var a=z(r);n=Z(a,"SU"),a.forEach(w),f.forEach(w),h.forEach(w),o=M(m),u=T(m,"DIV",{class:!0});var p=z(u);d=T(p,"P",{class:!0});var _=z(d);g=Z(_,"Welcome, Solid User"),_.forEach(w),p.forEach(w),m.forEach(w),this.h()},h(){k(r,"class","leading-none p-2 text-sm"),k(t,"class","rounded-full bg-green-700 text-green-100 h-8 w-8 flex items-center justify-center cursor-pointer"),k(d,"class","text-sm font-medium text-gray-700 group-hover:text-gray-900"),k(u,"class","ml-3"),k(e,"class","flex items-center hover:bg-gray-200 rounded-xl px-2 py-2 transition-colors cursor-pointer")},m(s,m){O(s,e,m),b(e,i),b(i,t),b(t,r),b(r,n),b(e,o),b(e,u),b(u,d),b(d,g),c||(v=K(e,"click",l[0]),c=!0)},p:ae,i:ae,o:ae,d(s){s&&w(e),c=!1,v()}}}function di(l){async function e(){await Je.signOut()}return[e]}class gi extends ve{constructor(e){super(),we(this,e,di,fi,ye,{})}}function ft(l){let e,i,t,r,n;const o=l[3].default,u=Ne(o,l,l[2],null);return{c(){e=D("div"),i=D("div"),u&&u.c(),this.h()},l(d){e=T(d,"DIV",{class:!0});var g=z(e);i=T(g,"DIV",{class:!0});var c=z(i);u&&u.l(c),c.forEach(w),g.forEach(w),this.h()},h(){k(i,"class","fixed max-h-[90vh] overflow-auto top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-3xl bg-white z-20 p-4 rounded-lg"),k(e,"class","fixed top-0 left-0 w-full h-[100%] bg-slate-900/30 z-10 cursor-pointer")},m(d,g){O(d,e,g),b(e,i),u&&u.m(i,null),t=!0,r||(n=[K(i,"click",At(l[4])),K(e,"click",l[1])],r=!0)},p(d,g){u&&u.p&&(!t||g&4)&&Ue(u,o,d,d[2],t?Pe(o,d[2],g,null):Me(d[2]),null)},i(d){t||(y(u,d),t=!0)},o(d){S(u,d),t=!1},d(d){d&&w(e),u&&u.d(d),r=!1,We(n)}}}function pi(l){let e,i,t=l[0]&&ft(l);return{c(){t&&t.c(),e=Ve()},l(r){t&&t.l(r),e=Ve()},m(r,n){t&&t.m(r,n),O(r,e,n),i=!0},p(r,[n]){r[0]?t?(t.p(r,n),n&1&&y(t,1)):(t=ft(r),t.c(),y(t,1),t.m(e.parentNode,e)):t&&(re(),S(t,1,1,()=>{t=null}),le())},i(r){i||(y(t),i=!0)},o(r){S(t),i=!1},d(r){t&&t.d(r),r&&w(e)}}}function mi(l,e,i){let{$$slots:t={},$$scope:r}=e,{visible:n=!1}=e;const o=Ft();function u(){o("close"),i(0,n=!1)}function d(g){tt.call(this,l,g)}return l.$$set=g=>{"visible"in g&&i(0,n=g.visible),"$$scope"in g&&i(2,r=g.$$scope)},[n,u,r,t,d]}class dt extends ve{constructor(e){super(),we(this,e,mi,pi,ye,{visible:0})}}function gt(l,e,i){const t=l.slice();return t[9]=e[i],t}const hi=l=>({}),pt=l=>({});function bi(l){let e;return{c(){e=G(l[2])},l(i){e=Z(i,l[2])},m(i,t){O(i,e,t)},p(i,t){t&4&&$e(e,i[2])},i:ae,o:ae,d(i){i&&w(e)}}}function _i(l){let e;const i=l[7].label,t=Ne(i,l,l[6],pt);return{c(){t&&t.c()},l(r){t&&t.l(r)},m(r,n){t&&t.m(r,n),e=!0},p(r,n){t&&t.p&&(!e||n&64)&&Ue(t,i,r,r[6],e?Pe(i,r[6],n,hi):Me(r[6]),pt)},i(r){e||(y(t,r),e=!0)},o(r){S(t,r),e=!1},d(r){t&&t.d(r)}}}function mt(l){let e,i;return e=new Fe({props:{src:l[9].icon,size:"16"}}),{c(){B(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,r){R(e,t,r),i=!0},p(t,r){const n={};r&2&&(n.src=t[9].icon),e.$set(n)},i(t){i||(y(e.$$.fragment,t),i=!0)},o(t){S(e.$$.fragment,t),i=!1},d(t){q(e,t)}}}function ht(l){let e,i,t,r=l[9].title+"",n,o,u,d,g,c=l[9].icon&&mt(l);function v(){return l[8](l[9])}return{c(){e=D("div"),c&&c.c(),i=U(),t=D("div"),n=G(r),o=U(),this.h()},l(s){e=T(s,"DIV",{class:!0});var m=z(e);c&&c.l(m),i=M(m),t=T(m,"DIV",{});var h=z(t);n=Z(h,r),h.forEach(w),o=M(m),m.forEach(w),this.h()},h(){A(t,"text-sm",l[9].icon),k(e,"class","px-3 py-2 rounded bg-blue-50 text-blue-700 flex flex-col items-center justify-center svelte-1mwawgl"),A(e,"active",l[0].has(l[9].title)),A(e,"grow",l[3])},m(s,m){O(s,e,m),c&&c.m(e,null),b(e,i),b(e,t),b(t,n),b(e,o),u=!0,d||(g=K(e,"click",v),d=!0)},p(s,m){l=s,l[9].icon?c?(c.p(l,m),m&2&&y(c,1)):(c=mt(l),c.c(),y(c,1),c.m(e,i)):c&&(re(),S(c,1,1,()=>{c=null}),le()),(!u||m&2)&&r!==(r=l[9].title+"")&&$e(n,r),m&2&&A(t,"text-sm",l[9].icon),m&3&&A(e,"active",l[0].has(l[9].title)),m&8&&A(e,"grow",l[3])},i(s){u||(y(c),u=!0)},o(s){S(c),u=!1},d(s){s&&w(e),c&&c.d(),d=!1,g()}}}function vi(l){let e,i,t,r,n,o,u;const d=[_i,bi],g=[];function c(h,f){return h[5].label?0:h[2]?1:-1}~(t=c(l))&&(r=g[t]=d[t](l));let v=l[1],s=[];for(let h=0;h<v.length;h+=1)s[h]=ht(gt(l,v,h));const m=h=>S(s[h],1,1,()=>{s[h]=null});return{c(){e=D("div"),i=D("div"),r&&r.c(),n=U(),o=D("div");for(let h=0;h<s.length;h+=1)s[h].c();this.h()},l(h){e=T(h,"DIV",{class:!0});var f=z(e);i=T(f,"DIV",{class:!0});var a=z(i);r&&r.l(a),a.forEach(w),n=M(f),o=T(f,"DIV",{class:!0});var p=z(o);for(let _=0;_<s.length;_+=1)s[_].l(p);p.forEach(w),f.forEach(w),this.h()},h(){k(i,"class","mx-1 mb-px text-sm"),k(o,"class","flex gap-2"),k(e,"class","my-4 block box-border")},m(h,f){O(h,e,f),b(e,i),~t&&g[t].m(i,null),b(e,n),b(e,o);for(let a=0;a<s.length;a+=1)s[a].m(o,null);u=!0},p(h,[f]){let a=t;if(t=c(h),t===a?~t&&g[t].p(h,f):(r&&(re(),S(g[a],1,1,()=>{g[a]=null}),le()),~t?(r=g[t],r?r.p(h,f):(r=g[t]=d[t](h),r.c()),y(r,1),r.m(i,null)):r=null),f&27){v=h[1];let p;for(p=0;p<v.length;p+=1){const _=gt(h,v,p);s[p]?(s[p].p(_,f),y(s[p],1)):(s[p]=ht(_),s[p].c(),y(s[p],1),s[p].m(o,null))}for(re(),p=v.length;p<s.length;p+=1)m(p);le()}},i(h){if(!u){y(r);for(let f=0;f<v.length;f+=1)y(s[f]);u=!0}},o(h){S(r),s=s.filter(Boolean);for(let f=0;f<s.length;f+=1)S(s[f]);u=!1},d(h){h&&w(e),~t&&g[t].d(),Ze(s,h)}}}function wi(l,e,i){let{$$slots:t={},$$scope:r}=e;const n=Ge(t);let{value:o=new Set([])}=e,{options:u=[]}=e,{label:d=""}=e,{grow:g=!1}=e;function c(s){o.has(s.title)?(o.delete(s.title),i(0,o=new Set(o))):(o.add(s.title),i(0,o=new Set(o)))}const v=s=>c(s);return l.$$set=s=>{"value"in s&&i(0,o=s.value),"options"in s&&i(1,u=s.options),"label"in s&&i(2,d=s.label),"grow"in s&&i(3,g=s.grow),"$$scope"in s&&i(6,r=s.$$scope)},[o,u,d,g,c,n,r,t,v]}class Lt extends ve{constructor(e){super(),we(this,e,wi,vi,ye,{value:0,options:1,label:2,grow:3})}}function bt(l,e,i){const t=l.slice();return t[9]=e[i],t}const yi=l=>({}),_t=l=>({});function $i(l){let e;return{c(){e=G(l[2])},l(i){e=Z(i,l[2])},m(i,t){O(i,e,t)},p(i,t){t&4&&$e(e,i[2])},i:ae,o:ae,d(i){i&&w(e)}}}function ki(l){let e;const i=l[7].label,t=Ne(i,l,l[6],_t);return{c(){t&&t.c()},l(r){t&&t.l(r)},m(r,n){t&&t.m(r,n),e=!0},p(r,n){t&&t.p&&(!e||n&64)&&Ue(t,i,r,r[6],e?Pe(i,r[6],n,yi):Me(r[6]),_t)},i(r){e||(y(t,r),e=!0)},o(r){S(t,r),e=!1},d(r){t&&t.d(r)}}}function vt(l){let e,i;return e=new Fe({props:{src:l[9].icon,size:"16"}}),{c(){B(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,r){R(e,t,r),i=!0},p(t,r){const n={};r&2&&(n.src=t[9].icon),e.$set(n)},i(t){i||(y(e.$$.fragment,t),i=!0)},o(t){S(e.$$.fragment,t),i=!1},d(t){q(e,t)}}}function wt(l){let e,i,t,r=l[9].title+"",n,o,u,d,g,c=l[9].icon&&vt(l);function v(){return l[8](l[9])}return{c(){e=D("div"),c&&c.c(),i=U(),t=D("div"),n=G(r),o=U(),this.h()},l(s){e=T(s,"DIV",{class:!0});var m=z(e);c&&c.l(m),i=M(m),t=T(m,"DIV",{});var h=z(t);n=Z(h,r),h.forEach(w),o=M(m),m.forEach(w),this.h()},h(){A(t,"text-sm",l[9].icon),k(e,"class","px-3 py-2 rounded bg-blue-50 text-blue-700 flex flex-col items-center justify-center svelte-1mwawgl"),A(e,"active",l[0]==l[9].title),A(e,"grow",l[3])},m(s,m){O(s,e,m),c&&c.m(e,null),b(e,i),b(e,t),b(t,n),b(e,o),u=!0,d||(g=K(e,"click",v),d=!0)},p(s,m){l=s,l[9].icon?c?(c.p(l,m),m&2&&y(c,1)):(c=vt(l),c.c(),y(c,1),c.m(e,i)):c&&(re(),S(c,1,1,()=>{c=null}),le()),(!u||m&2)&&r!==(r=l[9].title+"")&&$e(n,r),m&2&&A(t,"text-sm",l[9].icon),m&3&&A(e,"active",l[0]==l[9].title),m&8&&A(e,"grow",l[3])},i(s){u||(y(c),u=!0)},o(s){S(c),u=!1},d(s){s&&w(e),c&&c.d(),d=!1,g()}}}function Si(l){let e,i,t,r,n,o,u;const d=[ki,$i],g=[];function c(h,f){return h[5].label?0:h[2]?1:-1}~(t=c(l))&&(r=g[t]=d[t](l));let v=l[1],s=[];for(let h=0;h<v.length;h+=1)s[h]=wt(bt(l,v,h));const m=h=>S(s[h],1,1,()=>{s[h]=null});return{c(){e=D("div"),i=D("div"),r&&r.c(),n=U(),o=D("div");for(let h=0;h<s.length;h+=1)s[h].c();this.h()},l(h){e=T(h,"DIV",{class:!0});var f=z(e);i=T(f,"DIV",{class:!0});var a=z(i);r&&r.l(a),a.forEach(w),n=M(f),o=T(f,"DIV",{class:!0});var p=z(o);for(let _=0;_<s.length;_+=1)s[_].l(p);p.forEach(w),f.forEach(w),this.h()},h(){k(i,"class","mx-1 mb-px text-sm"),k(o,"class","flex gap-2"),k(e,"class","my-4 block box-border")},m(h,f){O(h,e,f),b(e,i),~t&&g[t].m(i,null),b(e,n),b(e,o);for(let a=0;a<s.length;a+=1)s[a].m(o,null);u=!0},p(h,[f]){let a=t;if(t=c(h),t===a?~t&&g[t].p(h,f):(r&&(re(),S(g[a],1,1,()=>{g[a]=null}),le()),~t?(r=g[t],r?r.p(h,f):(r=g[t]=d[t](h),r.c()),y(r,1),r.m(i,null)):r=null),f&27){v=h[1];let p;for(p=0;p<v.length;p+=1){const _=bt(h,v,p);s[p]?(s[p].p(_,f),y(s[p],1)):(s[p]=wt(_),s[p].c(),y(s[p],1),s[p].m(o,null))}for(re(),p=v.length;p<s.length;p+=1)m(p);le()}},i(h){if(!u){y(r);for(let f=0;f<v.length;f+=1)y(s[f]);u=!0}},o(h){S(r),s=s.filter(Boolean);for(let f=0;f<s.length;f+=1)S(s[f]);u=!1},d(h){h&&w(e),~t&&g[t].d(),Ze(s,h)}}}function Ii(l,e,i){let{$$slots:t={},$$scope:r}=e;const n=Ge(t);let{options:o=[]}=e,{value:u=o[0].title}=e,{label:d=""}=e,{grow:g=!1}=e;const c=s=>i(0,u=s.title),v=s=>c(s);return l.$$set=s=>{"options"in s&&i(1,o=s.options),"value"in s&&i(0,u=s.value),"label"in s&&i(2,d=s.label),"grow"in s&&i(3,g=s.grow),"$$scope"in s&&i(6,r=s.$$scope)},[u,o,d,g,c,n,r,t,v]}class Rt extends ve{constructor(e){super(),we(this,e,Ii,Si,ye,{options:1,value:0,label:2,grow:3})}}function yt(l,e,i){const t=l.slice();return t[15]=e[i],t[16]=e,t[17]=i,t}const Ei=l=>({}),$t=l=>({});function Di(l){let e;return{c(){e=G(l[1])},l(i){e=Z(i,l[1])},m(i,t){O(i,e,t)},p(i,t){t&2&&$e(e,i[1])},i:ae,o:ae,d(i){i&&w(e)}}}function Ti(l){let e;const i=l[9].label,t=Ne(i,l,l[8],$t);return{c(){t&&t.c()},l(r){t&&t.l(r)},m(r,n){t&&t.m(r,n),e=!0},p(r,n){t&&t.p&&(!e||n&256)&&Ue(t,i,r,r[8],e?Pe(i,r[8],n,Ei):Me(r[8]),$t)},i(r){e||(y(t,r),e=!0)},o(r){S(t,r),e=!1},d(r){t&&t.d(r)}}}function kt(l){let e,i,t,r,n,o,u;function d(){l[10].call(i,l[17])}function g(){return l[11](l[17])}return r=new De({props:{destructive:!0,icon:jt}}),r.$on("click",g),{c(){e=D("div"),i=D("input"),t=U(),B(r.$$.fragment),this.h()},l(c){e=T(c,"DIV",{class:!0});var v=z(e);i=T(v,"INPUT",{class:!0,type:!0}),t=M(v),L(r.$$.fragment,v),v.forEach(w),this.h()},h(){k(i,"class","w-full"),k(i,"type","date"),k(e,"class","flex gap-2")},m(c,v){O(c,e,v),b(e,i),ne(i,l[0][l[17]]),b(e,t),R(r,e,null),n=!0,o||(u=K(i,"input",d),o=!0)},p(c,v){l=c,v&1&&ne(i,l[0][l[17]])},i(c){n||(y(r.$$.fragment,c),n=!0)},o(c){S(r.$$.fragment,c),n=!1},d(c){c&&w(e),q(r),o=!1,u()}}}function St(l){let e,i,t,r,n,o,u;return r=new De({props:{icon:Qe}}),r.$on("click",l[4]),{c(){e=D("div"),i=D("input"),t=U(),B(r.$$.fragment),this.h()},l(d){e=T(d,"DIV",{class:!0});var g=z(e);i=T(g,"INPUT",{class:!0,type:!0}),t=M(g),L(r.$$.fragment,g),g.forEach(w),this.h()},h(){k(i,"class","w-full"),k(i,"type","date"),k(e,"class","newDate flex gap-2")},m(d,g){O(d,e,g),b(e,i),ne(i,l[3]),b(e,t),R(r,e,null),n=!0,o||(u=K(i,"input",l[12]),o=!0)},p(d,g){g&8&&ne(i,d[3])},i(d){n||(y(r.$$.fragment,d),n=!0)},o(d){S(r.$$.fragment,d),n=!1},d(d){d&&w(e),q(r),o=!1,u()}}}function zi(l){let e,i,t,r,n,o,u,d;const g=[Ti,Di],c=[];function v(a,p){return a[6].label?0:a[1]?1:-1}~(t=v(l))&&(r=c[t]=g[t](l));let s=l[0],m=[];for(let a=0;a<s.length;a+=1)m[a]=kt(yt(l,s,a));const h=a=>S(m[a],1,1,()=>{m[a]=null});let f=(l[2]==-1||l[0].length<l[2])&&St(l);return{c(){e=D("div"),i=D("div"),r&&r.c(),n=U(),o=D("div");for(let a=0;a<m.length;a+=1)m[a].c();u=U(),f&&f.c(),this.h()},l(a){e=T(a,"DIV",{class:!0});var p=z(e);i=T(p,"DIV",{class:!0});var _=z(i);r&&r.l(_),_.forEach(w),n=M(p),o=T(p,"DIV",{class:!0});var I=z(o);for(let V=0;V<m.length;V+=1)m[V].l(I);u=M(I),f&&f.l(I),I.forEach(w),p.forEach(w),this.h()},h(){k(i,"class","mx-1 mb-px text-sm"),k(o,"class","dates flex flex-col gap-4"),k(e,"class","pb-3")},m(a,p){O(a,e,p),b(e,i),~t&&c[t].m(i,null),b(e,n),b(e,o);for(let _=0;_<m.length;_+=1)m[_].m(o,null);b(o,u),f&&f.m(o,null),d=!0},p(a,[p]){let _=t;if(t=v(a),t===_?~t&&c[t].p(a,p):(r&&(re(),S(c[_],1,1,()=>{c[_]=null}),le()),~t?(r=c[t],r?r.p(a,p):(r=c[t]=g[t](a),r.c()),y(r,1),r.m(i,null)):r=null),p&33){s=a[0];let I;for(I=0;I<s.length;I+=1){const V=yt(a,s,I);m[I]?(m[I].p(V,p),y(m[I],1)):(m[I]=kt(V),m[I].c(),y(m[I],1),m[I].m(o,u))}for(re(),I=s.length;I<m.length;I+=1)h(I);le()}a[2]==-1||a[0].length<a[2]?f?(f.p(a,p),p&5&&y(f,1)):(f=St(a),f.c(),y(f,1),f.m(o,null)):f&&(re(),S(f,1,1,()=>{f=null}),le())},i(a){if(!d){y(r);for(let p=0;p<s.length;p+=1)y(m[p]);y(f),d=!0}},o(a){S(r),m=m.filter(Boolean);for(let p=0;p<m.length;p+=1)S(m[p]);S(f),d=!1},d(a){a&&w(e),~t&&c[t].d(),Ze(m,a),f&&f.d()}}}function Vi(l,e,i){let{$$slots:t={},$$scope:r}=e;const n=Ge(t);let{dates:o=[]}=e,{dateStrings:u=[]}=e,{label:d=""}=e,{maxDates:g=5}=e,c="",v="";function s(){!c||(i(0,u=[...u,c]),u.sort(),i(3,c=""))}function m(_){i(0,u=[...u.slice(0,_),...u.slice(_+1)])}function h(){u.toString()!=v&&(i(0,u=u.filter(_=>_!="")),i(7,o=u.map(_=>He.PlainDate.from(_))),v=u.toString())}function f(_){u[_]=this.value,i(0,u)}const a=_=>m(_);function p(){c=this.value,i(3,c)}return l.$$set=_=>{"dates"in _&&i(7,o=_.dates),"dateStrings"in _&&i(0,u=_.dateStrings),"label"in _&&i(1,d=_.label),"maxDates"in _&&i(2,g=_.maxDates),"$$scope"in _&&i(8,r=_.$$scope)},l.$$.update=()=>{l.$$.dirty&1&&u&&h()},[u,d,g,c,s,m,n,o,r,t,f,a,p]}class Ni extends ve{constructor(e){super(),we(this,e,Vi,zi,ye,{dates:7,dateStrings:0,label:1,maxDates:2})}}function It(l,e,i){const t=l.slice();return t[17]=e[i],t[18]=e,t[19]=i,t}const Ui=l=>({}),Et=l=>({});function Mi(l){let e;return{c(){e=G(l[1])},l(i){e=Z(i,l[1])},m(i,t){O(i,e,t)},p(i,t){t&2&&$e(e,i[1])},i:ae,o:ae,d(i){i&&w(e)}}}function Pi(l){let e;const i=l[9].label,t=Ne(i,l,l[8],Et);return{c(){t&&t.c()},l(r){t&&t.l(r)},m(r,n){t&&t.m(r,n),e=!0},p(r,n){t&&t.p&&(!e||n&256)&&Ue(t,i,r,r[8],e?Pe(i,r[8],n,Ui):Me(r[8]),Et)},i(r){e||(y(t,r),e=!0)},o(r){S(t,r),e=!1},d(r){t&&t.d(r)}}}function Dt(l){let e,i,t,r,n,o,u,d,g;function c(){l[10].call(i,l[19])}function v(){l[11].call(r,l[19])}function s(){return l[12](l[19])}return o=new De({props:{destructive:!0,icon:jt}}),o.$on("click",s),{c(){e=D("div"),i=D("input"),t=U(),r=D("input"),n=U(),B(o.$$.fragment),this.h()},l(m){e=T(m,"DIV",{class:!0});var h=z(e);i=T(h,"INPUT",{class:!0,type:!0}),t=M(h),r=T(h,"INPUT",{class:!0,type:!0}),n=M(h),L(o.$$.fragment,h),h.forEach(w),this.h()},h(){k(i,"class","w-full"),k(i,"type","time"),k(r,"class","w-full"),k(r,"type","time"),k(e,"class","flex gap-2")},m(m,h){O(m,e,h),b(e,i),ne(i,l[0][l[19]].from),b(e,t),b(e,r),ne(r,l[0][l[19]].to),b(e,n),R(o,e,null),u=!0,d||(g=[K(i,"input",c),K(r,"input",v)],d=!0)},p(m,h){l=m,h&1&&ne(i,l[0][l[19]].from),h&1&&ne(r,l[0][l[19]].to)},i(m){u||(y(o.$$.fragment,m),u=!0)},o(m){S(o.$$.fragment,m),u=!1},d(m){m&&w(e),q(o),d=!1,We(g)}}}function Tt(l){let e,i,t,r,n,o,u,d,g;return o=new De({props:{icon:Qe}}),o.$on("click",l[4]),{c(){e=D("div"),i=D("input"),t=U(),r=D("input"),n=U(),B(o.$$.fragment),this.h()},l(c){e=T(c,"DIV",{class:!0});var v=z(e);i=T(v,"INPUT",{class:!0,type:!0}),t=M(v),r=T(v,"INPUT",{class:!0,type:!0}),n=M(v),L(o.$$.fragment,v),v.forEach(w),this.h()},h(){k(i,"class","w-full"),k(i,"type","time"),k(r,"class","w-full"),k(r,"type","time"),k(e,"class","newTime flex gap-2")},m(c,v){O(c,e,v),b(e,i),ne(i,l[3].from),b(e,t),b(e,r),ne(r,l[3].to),b(e,n),R(o,e,null),u=!0,d||(g=[K(i,"input",l[13]),K(r,"input",l[14])],d=!0)},p(c,v){v&8&&ne(i,c[3].from),v&8&&ne(r,c[3].to)},i(c){u||(y(o.$$.fragment,c),u=!0)},o(c){S(o.$$.fragment,c),u=!1},d(c){c&&w(e),q(o),d=!1,We(g)}}}function Wi(l){let e,i,t,r,n,o,u,d;const g=[Pi,Mi],c=[];function v(a,p){return a[6].label?0:a[1]?1:-1}~(t=v(l))&&(r=c[t]=g[t](l));let s=l[0],m=[];for(let a=0;a<s.length;a+=1)m[a]=Dt(It(l,s,a));const h=a=>S(m[a],1,1,()=>{m[a]=null});let f=(l[2]==-1||l[0].length<l[2])&&Tt(l);return{c(){e=D("div"),i=D("div"),r&&r.c(),n=U(),o=D("div");for(let a=0;a<m.length;a+=1)m[a].c();u=U(),f&&f.c(),this.h()},l(a){e=T(a,"DIV",{});var p=z(e);i=T(p,"DIV",{class:!0});var _=z(i);r&&r.l(_),_.forEach(w),n=M(p),o=T(p,"DIV",{class:!0});var I=z(o);for(let V=0;V<m.length;V+=1)m[V].l(I);u=M(I),f&&f.l(I),I.forEach(w),p.forEach(w),this.h()},h(){k(i,"class","mx-1 mb-px text-sm"),k(o,"class","times flex flex-col gap-4")},m(a,p){O(a,e,p),b(e,i),~t&&c[t].m(i,null),b(e,n),b(e,o);for(let _=0;_<m.length;_+=1)m[_].m(o,null);b(o,u),f&&f.m(o,null),d=!0},p(a,[p]){let _=t;if(t=v(a),t===_?~t&&c[t].p(a,p):(r&&(re(),S(c[_],1,1,()=>{c[_]=null}),le()),~t?(r=c[t],r?r.p(a,p):(r=c[t]=g[t](a),r.c()),y(r,1),r.m(i,null)):r=null),p&33){s=a[0];let I;for(I=0;I<s.length;I+=1){const V=It(a,s,I);m[I]?(m[I].p(V,p),y(m[I],1)):(m[I]=Dt(V),m[I].c(),y(m[I],1),m[I].m(o,u))}for(re(),I=s.length;I<m.length;I+=1)h(I);le()}a[2]==-1||a[0].length<a[2]?f?(f.p(a,p),p&5&&y(f,1)):(f=Tt(a),f.c(),y(f,1),f.m(o,null)):f&&(re(),S(f,1,1,()=>{f=null}),le())},i(a){if(!d){y(r);for(let p=0;p<s.length;p+=1)y(m[p]);y(f),d=!0}},o(a){S(r),m=m.filter(Boolean);for(let p=0;p<m.length;p+=1)S(m[p]);S(f),d=!1},d(a){a&&w(e),~t&&c[t].d(),Ze(m,a),f&&f.d()}}}function ji(l,e,i){let{$$slots:t={},$$scope:r}=e;const n=Ge(t);let{times:o=[]}=e,{timeStrings:u=[]}=e,{label:d="init"}=e,{maxTimes:g=5}=e,c={from:"",to:""},v="";function s(){!c.from||!c.to||(i(0,u=[c,...u]),i(3,c={from:"",to:""}))}function m(V){i(0,u=[...u.slice(0,V),...u.slice(V+1)])}function h(){var W;const V=(W=JSON.stringify(u))!=null?W:"";V!=v&&(i(0,u=u.filter(N=>N.from!=""||N.to!="")),v=V,i(7,o=u.map(N=>{const H=He.PlainTime.from(N.from),F=He.PlainTime.from(N.to),x={from:F,to:H};return H.until(F).hours<0||H.until(F).hours==0&&H.until(F).minutes<0?x:{from:H,to:F}})))}function f(V){u[V].from=this.value,i(0,u)}function a(V){u[V].to=this.value,i(0,u)}const p=V=>m(V);function _(){c.from=this.value,i(3,c)}function I(){c.to=this.value,i(3,c)}return l.$$set=V=>{"times"in V&&i(7,o=V.times),"timeStrings"in V&&i(0,u=V.timeStrings),"label"in V&&i(1,d=V.label),"maxTimes"in V&&i(2,g=V.maxTimes),"$$scope"in V&&i(8,r=V.$$scope)},l.$$.update=()=>{l.$$.dirty&1&&u&&h()},[u,d,g,c,s,m,n,o,r,t,f,a,p,_,I]}class Ci extends ve{constructor(e){super(),we(this,e,ji,Wi,ye,{times:7,timeStrings:0,label:1,maxTimes:2})}}function zt(l){let e,i,t=l[0].editMode?"Edit":"Create New",r,n,o,u,d,g,c,v,s,m,h,f,a,p,_,I,V,W,N,H,F,x,ee,de,Q,X,ue,j,ge,Se,pe;function Ce($){l[6]($)}let Te={type:"text",label:"title"};l[0].activity.title!==void 0&&(Te.value=l[0].activity.title),g=new ze({props:Te}),he.push(()=>be(g,"value",Ce));function oe($){l[7]($)}let E={dateStrings:l[2],label:"Enter possible dates"};l[0].activity.dates!==void 0&&(E.dates=l[0].activity.dates),s=new Ni({props:E}),he.push(()=>be(s,"dates",oe));function C($){l[8]($)}let te={timeStrings:l[1],label:"Enter possible times"};l[0].activity.times!==void 0&&(te.times=l[0].activity.times),f=new Ci({props:te}),he.push(()=>be(f,"times",C));function Ie($){l[9]($)}let se={type:"text",placeholder:"Where?",label:"Location"};l[0].activity.location!==void 0&&(se.value=l[0].activity.location),I=new ze({props:se}),he.push(()=>be(I,"value",Ie));function Y($){l[10]($)}let ke={grow:!0,label:"Get notified if there will be:",options:[{title:"Sun",icon:Ct},{title:"Cloudy"},{title:"Partly-cloudy"},{title:"Snow"}]};l[0].activity.notifyOnWeather!==void 0&&(ke.value=l[0].activity.notifyOnWeather),N=new Lt({props:ke}),he.push(()=>be(N,"value",Y));function je($){l[11]($)}let Ee={grow:!0,label:"Activity type:",options:[{title:"Work",icon:Ot},{title:"Food"},{title:"Fun"},{title:"Workout"},{title:"Relax"}]};return l[0].activity.actitityType!==void 0&&(Ee.value=l[0].activity.actitityType),x=new Rt({props:Ee}),he.push(()=>be(x,"value",je)),X=new De({props:{destructive:!0,$$slots:{default:[Oi]},$$scope:{ctx:l}}}),X.$on("click",l[5]),{c(){e=D("form"),i=D("h3"),r=G(t),n=G(" activity"),o=U(),u=D("div"),d=D("div"),B(g.$$.fragment),v=U(),B(s.$$.fragment),h=U(),B(f.$$.fragment),p=U(),_=D("div"),B(I.$$.fragment),W=U(),B(N.$$.fragment),F=U(),B(x.$$.fragment),de=U(),Q=D("div"),B(X.$$.fragment),ue=U(),j=D("input"),this.h()},l($){e=T($,"FORM",{});var P=z(e);i=T(P,"H3",{class:!0});var me=z(i);r=Z(me,t),n=Z(me," activity"),me.forEach(w),o=M(P),u=T(P,"DIV",{class:!0});var ce=z(u);d=T(ce,"DIV",{class:!0});var J=z(d);L(g.$$.fragment,J),v=M(J),L(s.$$.fragment,J),h=M(J),L(f.$$.fragment,J),J.forEach(w),p=M(ce),_=T(ce,"DIV",{class:!0});var ie=z(_);L(I.$$.fragment,ie),W=M(ie),L(N.$$.fragment,ie),F=M(ie),L(x.$$.fragment,ie),ie.forEach(w),ce.forEach(w),de=M(P),Q=T(P,"DIV",{class:!0});var fe=z(Q);L(X.$$.fragment,fe),ue=M(fe),j=T(fe,"INPUT",{class:!0,type:!0}),fe.forEach(w),P.forEach(w),this.h()},h(){k(i,"class","text-xl border-b border-b-black/50 border-solid mb-4 pb-2 capitalize"),k(d,"class","left grow"),k(_,"class","right grow"),k(u,"class","flex flex-col lg:flex-row gap-4 w-full"),k(j,"class","bg-slate-100 hover:bg-slate-300 transition-colors px-3 py-2 rounded cursor-pointer"),k(j,"type","submit"),j.value="submit",k(Q,"class","flex justify-end gap-4")},m($,P){O($,e,P),b(e,i),b(i,r),b(i,n),b(e,o),b(e,u),b(u,d),R(g,d,null),b(d,v),R(s,d,null),b(d,h),R(f,d,null),b(u,p),b(u,_),R(I,_,null),b(_,W),R(N,_,null),b(_,F),R(x,_,null),b(e,de),b(e,Q),R(X,Q,null),b(Q,ue),b(Q,j),ge=!0,Se||(pe=[K(j,"click",Xe(l[4])),K(e,"submit",Xe(l[4]))],Se=!0)},p($,P){(!ge||P&1)&&t!==(t=$[0].editMode?"Edit":"Create New")&&$e(r,t);const me={};!c&&P&1&&(c=!0,me.value=$[0].activity.title,_e(()=>c=!1)),g.$set(me);const ce={};P&4&&(ce.dateStrings=$[2]),!m&&P&1&&(m=!0,ce.dates=$[0].activity.dates,_e(()=>m=!1)),s.$set(ce);const J={};P&2&&(J.timeStrings=$[1]),!a&&P&1&&(a=!0,J.times=$[0].activity.times,_e(()=>a=!1)),f.$set(J);const ie={};!V&&P&1&&(V=!0,ie.value=$[0].activity.location,_e(()=>V=!1)),I.$set(ie);const fe={};!H&&P&1&&(H=!0,fe.value=$[0].activity.notifyOnWeather,_e(()=>H=!1)),N.$set(fe);const xe={};!ee&&P&1&&(ee=!0,xe.value=$[0].activity.actitityType,_e(()=>ee=!1)),x.$set(xe);const Ae={};P&4097&&(Ae.$$scope={dirty:P,ctx:$}),X.$set(Ae)},i($){ge||(y(g.$$.fragment,$),y(s.$$.fragment,$),y(f.$$.fragment,$),y(I.$$.fragment,$),y(N.$$.fragment,$),y(x.$$.fragment,$),y(X.$$.fragment,$),ge=!0)},o($){S(g.$$.fragment,$),S(s.$$.fragment,$),S(f.$$.fragment,$),S(I.$$.fragment,$),S(N.$$.fragment,$),S(x.$$.fragment,$),S(X.$$.fragment,$),ge=!1},d($){$&&w(e),q(g),q(s),q(f),q(I),q(N),q(x),q(X),Se=!1,We(pe)}}}function Oi(l){let e=l[0].editMode?"Remove":"Cancel",i;return{c(){i=G(e)},l(t){i=Z(t,e)},m(t,r){O(t,i,r)},p(t,r){r&1&&e!==(e=t[0].editMode?"Remove":"Cancel")&&$e(i,e)},d(t){t&&w(i)}}}function Bi(l){let e,i,t=l[0]&&l[3]&&zt(l);return{c(){t&&t.c(),e=Ve()},l(r){t&&t.l(r),e=Ve()},m(r,n){t&&t.m(r,n),O(r,e,n),i=!0},p(r,[n]){r[0]&&r[3]?t?(t.p(r,n),n&9&&y(t,1)):(t=zt(r),t.c(),y(t,1),t.m(e.parentNode,e)):t&&(re(),S(t,1,1,()=>{t=null}),le())},i(r){i||(y(t),i=!0)},o(r){S(t),i=!1},d(r){t&&t.d(r),r&&w(e)}}}function Li(l,e,i){let t,r,n;Oe(l,Be,f=>i(3,n=f));let o=n;function u(){!o||(o.editMode?Le.updateActivity(o.activity):Le.add(o.activity),Wt("./planning"),Be.reset())}function d(){o!=null&&o.editMode&&Le.deleteActivity(o.activity),Be.reset()}function g(f){l.$$.not_equal(o.activity.title,f)&&(o.activity.title=f,i(0,o))}function c(f){l.$$.not_equal(o.activity.dates,f)&&(o.activity.dates=f,i(0,o))}function v(f){l.$$.not_equal(o.activity.times,f)&&(o.activity.times=f,i(0,o))}function s(f){l.$$.not_equal(o.activity.location,f)&&(o.activity.location=f,i(0,o))}function m(f){l.$$.not_equal(o.activity.notifyOnWeather,f)&&(o.activity.notifyOnWeather=f,i(0,o))}function h(f){l.$$.not_equal(o.activity.actitityType,f)&&(o.activity.actitityType=f,i(0,o))}return l.$$.update=()=>{l.$$.dirty&1&&i(2,t=o==null?void 0:o.activity.dates.map(f=>f.toString())),l.$$.dirty&1&&i(1,r=o==null?void 0:o.activity.times.map(({from:f,to:a})=>({from:f.round({smallestUnit:"minute"}).toString(),to:a.round({smallestUnit:"minute"}).toString()})))},[o,r,t,n,u,d,g,c,v,s,m,h]}class Ri extends ve{constructor(e){super(),we(this,e,Li,Bi,ye,{})}}function Vt(l){var Y,ke,je,Ee;let e,i,t=l[0].editMode?"Edit":"Create New",r,n,o,u,d,g,c,v,s,m,h,f,a,p,_,I,V,W,N,H,F,x,ee,de,Q,X,ue,j,ge,Se,pe;function Ce($){l[6]($)}let Te={type:"text",label:"title"};l[0].activity.title!==void 0&&(Te.value=l[0].activity.title),g=new ze({props:Te}),he.push(()=>be(g,"value",Ce)),s=new ze({props:{type:"date",label:"date *",value:l[0].activity.date.toString()}}),s.$on("change",l[7]),h=new ze({props:{type:"time",label:"from *",value:(ke=(Y=l[0])==null?void 0:Y.activity.time)==null?void 0:ke.from.toString({smallestUnit:"minute"})}}),h.$on("change",l[8]),a=new ze({props:{type:"time",label:"to *",value:(Ee=(je=l[0])==null?void 0:je.activity.time)==null?void 0:Ee.to.toString({smallestUnit:"minute"})}}),a.$on("change",l[9]);function oe($){l[10]($)}let E={type:"text",placeholder:"Where?",label:"Location"};l[0].activity.location!==void 0&&(E.value=l[0].activity.location),I=new ze({props:E}),he.push(()=>be(I,"value",oe));function C($){l[11]($)}let te={grow:!0,label:"Get notified if there will be:",options:[{title:"Sun",icon:Ct},{title:"Cloudy"},{title:"Partly-cloudy"},{title:"Snow"}]};l[0].activity.notifyOnWeather!==void 0&&(te.value=l[0].activity.notifyOnWeather),N=new Lt({props:te}),he.push(()=>be(N,"value",C));function Ie($){l[12]($)}let se={grow:!0,label:"Activity type:",options:[{title:"Work",icon:Ot},{title:"Food"},{title:"Fun"},{title:"Workout"},{title:"Relax"}]};return l[0].activity.actitityType!==void 0&&(se.value=l[0].activity.actitityType),x=new Rt({props:se}),he.push(()=>be(x,"value",Ie)),X=new De({props:{destructive:!0,$$slots:{default:[qi]},$$scope:{ctx:l}}}),X.$on("click",l[4]),{c(){e=D("form"),i=D("h3"),r=G(t),n=G(" activity"),o=U(),u=D("div"),d=D("div"),B(g.$$.fragment),v=U(),B(s.$$.fragment),m=U(),B(h.$$.fragment),f=U(),B(a.$$.fragment),p=U(),_=D("div"),B(I.$$.fragment),W=U(),B(N.$$.fragment),F=U(),B(x.$$.fragment),de=U(),Q=D("div"),B(X.$$.fragment),ue=U(),j=D("input"),this.h()},l($){e=T($,"FORM",{});var P=z(e);i=T(P,"H3",{class:!0});var me=z(i);r=Z(me,t),n=Z(me," activity"),me.forEach(w),o=M(P),u=T(P,"DIV",{class:!0});var ce=z(u);d=T(ce,"DIV",{class:!0});var J=z(d);L(g.$$.fragment,J),v=M(J),L(s.$$.fragment,J),m=M(J),L(h.$$.fragment,J),f=M(J),L(a.$$.fragment,J),J.forEach(w),p=M(ce),_=T(ce,"DIV",{class:!0});var ie=z(_);L(I.$$.fragment,ie),W=M(ie),L(N.$$.fragment,ie),F=M(ie),L(x.$$.fragment,ie),ie.forEach(w),ce.forEach(w),de=M(P),Q=T(P,"DIV",{class:!0});var fe=z(Q);L(X.$$.fragment,fe),ue=M(fe),j=T(fe,"INPUT",{class:!0,type:!0}),fe.forEach(w),P.forEach(w),this.h()},h(){k(i,"class","text-xl border-b border-b-black/50 border-solid mb-4 pb-2 capitalize"),k(d,"class","left grow"),k(_,"class","right grow"),k(u,"class","flex flex-col lg:flex-row gap-4 w-full"),k(j,"class","bg-slate-100 disabled:text-slate-300 enabled:hover:bg-slate-300 transition-colors px-3 py-2 rounded cursor-pointer"),k(j,"type","submit"),j.value="submit",j.disabled=l[1],k(Q,"class","flex justify-end gap-4")},m($,P){O($,e,P),b(e,i),b(i,r),b(i,n),b(e,o),b(e,u),b(u,d),R(g,d,null),b(d,v),R(s,d,null),b(d,m),R(h,d,null),b(d,f),R(a,d,null),b(u,p),b(u,_),R(I,_,null),b(_,W),R(N,_,null),b(_,F),R(x,_,null),b(e,de),b(e,Q),R(X,Q,null),b(Q,ue),b(Q,j),ge=!0,Se||(pe=[K(j,"click",Xe(l[3])),K(e,"submit",Xe(l[3]))],Se=!0)},p($,P){var rt,lt,nt,ot;(!ge||P&1)&&t!==(t=$[0].editMode?"Edit":"Create New")&&$e(r,t);const me={};!c&&P&1&&(c=!0,me.value=$[0].activity.title,_e(()=>c=!1)),g.$set(me);const ce={};P&1&&(ce.value=$[0].activity.date.toString()),s.$set(ce);const J={};P&1&&(J.value=(lt=(rt=$[0])==null?void 0:rt.activity.time)==null?void 0:lt.from.toString({smallestUnit:"minute"})),h.$set(J);const ie={};P&1&&(ie.value=(ot=(nt=$[0])==null?void 0:nt.activity.time)==null?void 0:ot.to.toString({smallestUnit:"minute"})),a.$set(ie);const fe={};!V&&P&1&&(V=!0,fe.value=$[0].activity.location,_e(()=>V=!1)),I.$set(fe);const xe={};!H&&P&1&&(H=!0,xe.value=$[0].activity.notifyOnWeather,_e(()=>H=!1)),N.$set(xe);const Ae={};!ee&&P&1&&(ee=!0,Ae.value=$[0].activity.actitityType,_e(()=>ee=!1)),x.$set(Ae);const it={};P&8193&&(it.$$scope={dirty:P,ctx:$}),X.$set(it),(!ge||P&2)&&(j.disabled=$[1])},i($){ge||(y(g.$$.fragment,$),y(s.$$.fragment,$),y(h.$$.fragment,$),y(a.$$.fragment,$),y(I.$$.fragment,$),y(N.$$.fragment,$),y(x.$$.fragment,$),y(X.$$.fragment,$),ge=!0)},o($){S(g.$$.fragment,$),S(s.$$.fragment,$),S(h.$$.fragment,$),S(a.$$.fragment,$),S(I.$$.fragment,$),S(N.$$.fragment,$),S(x.$$.fragment,$),S(X.$$.fragment,$),ge=!1},d($){$&&w(e),q(g),q(s),q(h),q(a),q(I),q(N),q(x),q(X),Se=!1,We(pe)}}}function qi(l){let e=l[0].editMode?"Remove":"Cancel",i;return{c(){i=G(e)},l(t){i=Z(t,e)},m(t,r){O(t,i,r)},p(t,r){r&1&&e!==(e=t[0].editMode?"Remove":"Cancel")&&$e(i,e)},d(t){t&&w(i)}}}function xi(l){let e,i,t=l[0]&&l[2]&&Vt(l);return{c(){t&&t.c(),e=Ve()},l(r){t&&t.l(r),e=Ve()},m(r,n){t&&t.m(r,n),O(r,e,n),i=!0},p(r,[n]){r[0]&&r[2]?t?(t.p(r,n),n&5&&y(t,1)):(t=Vt(r),t.c(),y(t,1),t.m(e.parentNode,e)):t&&(re(),S(t,1,1,()=>{t=null}),le())},i(r){i||(y(t),i=!0)},o(r){S(t),i=!1},d(r){t&&t.d(r),r&&w(e)}}}function Ai(l,e,i){let t;Oe(l,Re,a=>i(2,t=a));let r=t,n=!0;function o(){var a,p;!r||(r.editMode?qe.updateActivity(r.activity):qe.add(r.activity,r.activity.date,(a=r.activity.time)==null?void 0:a.from,(p=r.activity.time)==null?void 0:p.to),Re.reset())}function u(){r!=null&&r.editMode&&qe.deleteActivity(r.activity),Re.reset()}function d(){var a,p;if(!r)return i(1,n=!0);if(!(r!=null&&r.activity.date.toString())||!((a=r==null?void 0:r.activity.time)!=null&&a.from.toString())||!((p=r==null?void 0:r.activity.time)!=null&&p.to.toString())){i(1,n=!0);return}i(1,n=!1)}function g(a){l.$$.not_equal(r.activity.title,a)&&(r.activity.title=a,i(0,r))}const c=a=>{r==null||r.activity.setDate(a),d()},v=a=>{r==null||r.activity.toZonedTime(a,"from"),d()},s=a=>{r==null||r.activity.toZonedTime(a,"to"),d()};function m(a){l.$$.not_equal(r.activity.location,a)&&(r.activity.location=a,i(0,r))}function h(a){l.$$.not_equal(r.activity.notifyOnWeather,a)&&(r.activity.notifyOnWeather=a,i(0,r))}function f(a){l.$$.not_equal(r.activity.actitityType,a)&&(r.activity.actitityType=a,i(0,r))}return[r,n,t,o,u,d,g,c,v,s,m,h,f]}class Fi extends ve{constructor(e){super(),we(this,e,Ai,xi,ye,{})}}const Hi=()=>{const l=Ht("__svelte__");return{page:{subscribe:l.page.subscribe},navigating:{subscribe:l.navigating.subscribe},get preloading(){return console.error("stores.preloading is deprecated; use stores.navigating instead"),{subscribe:l.navigating.subscribe}},session:l.session,updated:l.updated}},Yi={subscribe(l){return Hi().page.subscribe(l)}};function Nt(l,e,i){const t=l.slice();return t[9]=e[i],t}function Ut(l){let e,i,t,r=l[9].title+"",n,o,u,d;return i=new Fe({props:{src:l[9].icon,size:"16"}}),{c(){e=D("a"),B(i.$$.fragment),t=U(),n=G(r),o=U(),this.h()},l(g){e=T(g,"A",{href:!0,class:!0});var c=z(e);L(i.$$.fragment,c),t=M(c),n=Z(c,r),o=M(c),c.forEach(w),this.h()},h(){k(e,"href",u=Pt+"/"+l[9].url[0]),k(e,"class","flex flex-row items-center justify-start px-2 gap-3 svelte-1edphk7"),A(e,"active",l[9].url.includes(l[1].routeId||"upcomming"))},m(g,c){O(g,e,c),R(i,e,null),b(e,t),b(e,n),b(e,o),d=!0},p(g,c){c&18&&A(e,"active",g[9].url.includes(g[1].routeId||"upcomming"))},i(g){d||(y(i.$$.fragment,g),d=!0)},o(g){S(i.$$.fragment,g),d=!1},d(g){g&&w(e),q(i)}}}function Gi(l){let e,i;return e=new De({props:{icon:Qe,$$slots:{default:[Xi]},$$scope:{ctx:l}}}),e.$on("click",Re.new),{c(){B(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,r){R(e,t,r),i=!0},p(t,r){const n={};r&256&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){i||(y(e.$$.fragment,t),i=!0)},o(t){S(e.$$.fragment,t),i=!1},d(t){q(e,t)}}}function Zi(l){let e,i;return e=new De({props:{icon:Qe,$$slots:{default:[Ji]},$$scope:{ctx:l}}}),e.$on("click",Be.new),{c(){B(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,r){R(e,t,r),i=!0},p(t,r){const n={};r&256&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){i||(y(e.$$.fragment,t),i=!0)},o(t){S(e.$$.fragment,t),i=!1},d(t){q(e,t)}}}function Xi(l){let e;return{c(){e=G("Create new event")},l(i){e=Z(i,"Create new event")},m(i,t){O(i,e,t)},d(i){i&&w(e)}}}function Ji(l){let e;return{c(){e=G("Create new event")},l(i){e=Z(i,"Create new event")},m(i,t){O(i,e,t)},d(i){i&&w(e)}}}function Ki(l){let e,i;return e=new Ri({}),{c(){B(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,r){R(e,t,r),i=!0},i(t){i||(y(e.$$.fragment,t),i=!0)},o(t){S(e.$$.fragment,t),i=!1},d(t){q(e,t)}}}function Qi(l){let e,i;return e=new Fi({}),{c(){B(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,r){R(e,t,r),i=!0},i(t){i||(y(e.$$.fragment,t),i=!0)},o(t){S(e.$$.fragment,t),i=!1},d(t){q(e,t)}}}function er(l){let e,i,t,r,n,o,u,d,g,c,v,s,m,h,f,a,p,_,I,V,W,N,H,F,x,ee,de,Q,X;t=new Fe({props:{src:Gt,size:"16"}});let ue=l[4],j=[];for(let E=0;E<ue.length;E+=1)j[E]=Ut(Nt(l,ue,E));const ge=E=>S(j[E],1,1,()=>{j[E]=null});m=new Fe({props:{src:Zt,size:"16"}});const Se=[Zi,Gi],pe=[];function Ce(E,C){var te;return C&2&&(p=null),p==null&&(p=!!((te=E[1].routeId)!=null&&te.includes("planning"))),p?0:1}_=Ce(l,-1),I=pe[_]=Se[_](l),W=new gi({});const Te=l[5].default,oe=Ne(Te,l,l[8],null);return F=new dt({props:{visible:l[2]!==void 0,$$slots:{default:[Ki]},$$scope:{ctx:l}}}),F.$on("close",Be.reset),ee=new dt({props:{visible:l[3]!==void 0,$$slots:{default:[Qi]},$$scope:{ctx:l}}}),ee.$on("close",Re.reset),{c(){e=D("div"),i=D("div"),B(t.$$.fragment),r=U(),n=D("div"),o=D("nav"),u=D("h1"),d=G("PodPlanner"),g=U(),c=D("div");for(let E=0;E<j.length;E+=1)j[E].c();v=U(),s=D("div"),B(m.$$.fragment),h=U(),f=D("main"),a=D("div"),I.c(),V=U(),B(W.$$.fragment),N=U(),oe&&oe.c(),H=U(),B(F.$$.fragment),x=U(),B(ee.$$.fragment),this.h()},l(E){e=T(E,"DIV",{class:!0});var C=z(e);i=T(C,"DIV",{class:!0});var te=z(i);L(t.$$.fragment,te),te.forEach(w),r=M(C),n=T(C,"DIV",{class:!0});var Ie=z(n);o=T(Ie,"NAV",{class:!0});var se=z(o);u=T(se,"H1",{class:!0});var Y=z(u);d=Z(Y,"PodPlanner"),Y.forEach(w),g=M(se),c=T(se,"DIV",{class:!0});var ke=z(c);for(let P=0;P<j.length;P+=1)j[P].l(ke);ke.forEach(w),v=M(se),s=T(se,"DIV",{class:!0});var je=z(s);L(m.$$.fragment,je),je.forEach(w),se.forEach(w),Ie.forEach(w),h=M(C),f=T(C,"MAIN",{class:!0});var Ee=z(f);a=T(Ee,"DIV",{class:!0});var $=z(a);I.l($),V=M($),L(W.$$.fragment,$),$.forEach(w),N=M(Ee),oe&&oe.l(Ee),Ee.forEach(w),C.forEach(w),H=M(E),L(F.$$.fragment,E),x=M(E),L(ee.$$.fragment,E),this.h()},h(){k(i,"class","absolute left-4 top-4 w-14 h-14 bg-green-400 hover:bg-green-500 cursor-pointer rounded-full flex items-center justify-center"),k(u,"class","text-3xl font-bold border-b-2 border-green-700 text-green-700 mb-4"),k(c,"class","flex flex-col gap-2"),k(s,"class","absolute -right-7 bottom-7 w-14 h-14 bg-green-400 hover:bg-green-500 cursor-pointer rounded-full flex items-center justify-center"),k(o,"class","fixed -left-72 transition-all bg-white flex-shrink-0 border-r w-64 p-4 border-slate-200 h-[100vh] svelte-1edphk7"),k(n,"class","transition-all svelte-1edphk7"),A(n,"showNav",l[0]),k(a,"class","flex gap-4 justify-end mb-10"),k(f,"class","grow p-5"),k(e,"class","flex")},m(E,C){O(E,e,C),b(e,i),R(t,i,null),b(e,r),b(e,n),b(n,o),b(o,u),b(u,d),b(o,g),b(o,c);for(let te=0;te<j.length;te+=1)j[te].m(c,null);b(o,v),b(o,s),R(m,s,null),b(e,h),b(e,f),b(f,a),pe[_].m(a,null),b(a,V),R(W,a,null),b(f,N),oe&&oe.m(f,null),O(E,H,C),R(F,E,C),O(E,x,C),R(ee,E,C),de=!0,Q||(X=[K(i,"click",l[6]),K(s,"click",l[7])],Q=!0)},p(E,[C]){if(C&18){ue=E[4];let Y;for(Y=0;Y<ue.length;Y+=1){const ke=Nt(E,ue,Y);j[Y]?(j[Y].p(ke,C),y(j[Y],1)):(j[Y]=Ut(ke),j[Y].c(),y(j[Y],1),j[Y].m(c,null))}for(re(),Y=ue.length;Y<j.length;Y+=1)ge(Y);le()}C&1&&A(n,"showNav",E[0]);let te=_;_=Ce(E,C),_===te?pe[_].p(E,C):(re(),S(pe[te],1,1,()=>{pe[te]=null}),le(),I=pe[_],I?I.p(E,C):(I=pe[_]=Se[_](E),I.c()),y(I,1),I.m(a,V)),oe&&oe.p&&(!de||C&256)&&Ue(oe,Te,E,E[8],de?Pe(Te,E[8],C,null):Me(E[8]),null);const Ie={};C&4&&(Ie.visible=E[2]!==void 0),C&256&&(Ie.$$scope={dirty:C,ctx:E}),F.$set(Ie);const se={};C&8&&(se.visible=E[3]!==void 0),C&256&&(se.$$scope={dirty:C,ctx:E}),ee.$set(se)},i(E){if(!de){y(t.$$.fragment,E);for(let C=0;C<ue.length;C+=1)y(j[C]);y(m.$$.fragment,E),y(I),y(W.$$.fragment,E),y(oe,E),y(F.$$.fragment,E),y(ee.$$.fragment,E),de=!0}},o(E){S(t.$$.fragment,E),j=j.filter(Boolean);for(let C=0;C<j.length;C+=1)S(j[C]);S(m.$$.fragment,E),S(I),S(W.$$.fragment,E),S(oe,E),S(F.$$.fragment,E),S(ee.$$.fragment,E),de=!1},d(E){E&&w(e),q(t),Ze(j,E),q(m),pe[_].d(),q(W),oe&&oe.d(E),E&&w(H),q(F,E),E&&w(x),q(ee,E),Q=!1,We(X)}}}function tr(l,e,i){let t,r,n;Oe(l,Yi,s=>i(1,t=s)),Oe(l,Be,s=>i(2,r=s)),Oe(l,Re,s=>i(3,n=s));let{$$slots:o={},$$scope:u}=e;const d=[{title:"Planning view",url:["planning",""],icon:et},{title:"Upcomming activities",url:["upcomming"],icon:et},{title:"Past activities",url:["past"],icon:et}];let g=!1;const c=()=>i(0,g=!g),v=()=>i(0,g=!g);return l.$$set=s=>{"$$scope"in s&&i(8,u=s.$$scope)},[g,t,r,n,d,o,c,v,u]}class ir extends ve{constructor(e){super(),we(this,e,tr,er,ye,{})}}const Ye=He.Now.plainDateISO(Bt),qt=Ye.add({days:1}),rr=Ye.add({days:2}),Ke=He.Now.plainTimeISO(Bt),xt={from:Ke,to:Ke.add({minutes:30})},lr={from:Ke.add({minutes:90}),to:Ke.add({minutes:180})};function nr(){const l=new st("","Test1","Work",new Set(["Windy","Rain"]),"Brussels",[Ye,qt]),e=new st("","Test2","Fun",new Set(["Windy","Rain"]),"Brussels",[Ye,rr],[xt,lr]);Le.add(l),Le.add(e)}function or(){const l=new ct("","Test1","Work",new Set(["Windy","Rain"]),"Brussels",qt),e=new ct("","Test2","Fun",new Set(["Windy","Rain"]),"Brussels",Ye.subtract({days:1}),xt);qe.add(l),qe.add(e)}function ar(){const l=at(Le),e=at(qe);l.length||nr(),e.length||or()}function sr(l){let e,i;return e=new ui({}),{c(){B(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,r){R(e,t,r),i=!0},p:ae,i(t){i||(y(e.$$.fragment,t),i=!0)},o(t){S(e.$$.fragment,t),i=!1},d(t){q(e,t)}}}function cr(l){let e,i;return e=new ir({props:{$$slots:{default:[fr]},$$scope:{ctx:l}}}),{c(){B(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,r){R(e,t,r),i=!0},p(t,r){const n={};r&4&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){i||(y(e.$$.fragment,t),i=!0)},o(t){S(e.$$.fragment,t),i=!1},d(t){q(e,t)}}}function ur(l){let e,i,t;return{c(){e=D("div"),i=D("img"),this.h()},l(r){e=T(r,"DIV",{class:!0});var n=z(e);i=T(n,"IMG",{class:!0,src:!0,alt:!0,height:!0}),n.forEach(w),this.h()},h(){k(i,"class","h-80 rounded-lg"),Yt(i.src,t=Pt+"/loading.gif")||k(i,"src",t),k(i,"alt","loading"),k(i,"height","400"),k(e,"class","w-full h-[100vh] flex items-center justify-center antialiased")},m(r,n){O(r,e,n),b(e,i)},p:ae,i:ae,o:ae,d(r){r&&w(e)}}}function fr(l){let e;const i=l[1].default,t=Ne(i,l,l[2],null);return{c(){t&&t.c()},l(r){t&&t.l(r)},m(r,n){t&&t.m(r,n),e=!0},p(r,n){t&&t.p&&(!e||n&4)&&Ue(t,i,r,r[2],e?Pe(i,r[2],n,null):Me(r[2]),null)},i(r){e||(y(t,r),e=!0)},o(r){S(t,r),e=!1},d(r){t&&t.d(r)}}}function dr(l){let e,i,t,r;const n=[ur,cr,sr],o=[];function u(d,g){return d[0].loading?0:d[0].userSession.isLoggedIn?1:2}return e=u(l),i=o[e]=n[e](l),{c(){i.c(),t=Ve()},l(d){i.l(d),t=Ve()},m(d,g){o[e].m(d,g),O(d,t,g),r=!0},p(d,[g]){let c=e;e=u(d),e===c?o[e].p(d,g):(re(),S(o[c],1,1,()=>{o[c]=null}),le(),i=o[e],i?i.p(d,g):(i=o[e]=n[e](d),i.c()),y(i,1),i.m(t.parentNode,t))},i(d){r||(y(i),r=!0)},o(d){S(i),r=!1},d(d){o[e].d(d),d&&w(t)}}}function gr(l,e,i){let t;Oe(l,Je,o=>i(0,t=o));let{$$slots:r={},$$scope:n}=e;return Mt(()=>{Je.init(),window.setupActivities=ar}),l.$$set=o=>{"$$scope"in o&&i(2,n=o.$$scope)},[t,r,n]}class $r extends ve{constructor(e){super(),we(this,e,gr,dr,ye,{})}}export{$r as default};
