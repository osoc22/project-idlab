import{S as ai,i as ci,s as li,W as bm,X as vm,a as Ke,d as ne,Y as Dc,g as Be,z as Tm,C as Oc,E as ri,Z as nf,_ as Gh,$ as mw,w as gt,x as _t,y as wt,q as ce,o as fe,B as yt,e as dt,t as bt,k as ct,c as ft,h as vt,m as lt,b as ht,K as ie,j as pr,U as el,L as Wh,N as tl,O as nl,P as rl,l as kr,n as Di,p as Oi,a0 as td,I as Vh,J as Hh,M as il,R as kc,a1 as gw,G as _w,a2 as ww,v as Em,Q as Sc,T as yw}from"../chunks/index-d13a8d77.js";import{U as xm,B as fs,I as Do,a as Ni,e as Im,g as bw,d as js}from"../chunks/Input-1fd2cfc8.js";import{d as Nm,w as Rm,_ as vw}from"../chunks/preload-helper-c3d26d46.js";class g extends Array{constructor(e,n){if(super(e),this.sign=n,Object.setPrototypeOf(this,g.prototype),e>g.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded")}static BigInt(e){var n=Math.floor,r=Number.isFinite;if(typeof e=="number"){if(e===0)return g.__zero();if(g.__isOneDigitInt(e))return 0>e?g.__oneDigit(-e,!0):g.__oneDigit(e,!1);if(!r(e)||n(e)!==e)throw new RangeError("The number "+e+" cannot be converted to BigInt because it is not an integer");return g.__fromDouble(e)}if(typeof e=="string"){const i=g.__fromString(e);if(i===null)throw new SyntaxError("Cannot convert "+e+" to a BigInt");return i}if(typeof e=="boolean")return e===!0?g.__oneDigit(1,!1):g.__zero();if(typeof e=="object"){if(e.constructor===g)return e;const i=g.__toPrimitive(e);return g.BigInt(i)}throw new TypeError("Cannot convert "+e+" to a BigInt")}toDebugString(){const e=["BigInt["];for(const n of this)e.push((n&&(n>>>0).toString(16))+", ");return e.push("]"),e.join("")}toString(e=10){if(2>e||36<e)throw new RangeError("toString() radix argument must be between 2 and 36");return this.length===0?"0":(e&e-1)==0?g.__toStringBasePowerOfTwo(this,e):g.__toStringGeneric(this,e,!1)}valueOf(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}static toNumber(e){const n=e.length;if(n===0)return 0;if(n===1){const b=e.__unsignedDigit(0);return e.sign?-b:b}const r=e.__digit(n-1),i=g.__clz30(r),s=30*n-i;if(1024<s)return e.sign?-1/0:1/0;let o=s-1,a=r,c=n-1;const l=i+3;let u=l===32?0:a<<l;u>>>=12;const d=l-12;let p=12<=l?0:a<<20+l,h=20+l;for(0<d&&0<c&&(c--,a=e.__digit(c),u|=a>>>30-d,p=a<<d+2,h=d+2);0<h&&0<c;)c--,a=e.__digit(c),p|=30<=h?a<<h-30:a>>>30-h,h-=30;const m=g.__decideRounding(e,h,c,a);if((m===1||m===0&&(1&p)==1)&&(p=p+1>>>0,p===0&&(u++,u>>>20!=0&&(u=0,o++,1023<o))))return e.sign?-1/0:1/0;const _=e.sign?-2147483648:0;return o=o+1023<<20,g.__kBitConversionInts[1]=_|o|u,g.__kBitConversionInts[0]=p,g.__kBitConversionDouble[0]}static unaryMinus(e){if(e.length===0)return e;const n=e.__copy();return n.sign=!e.sign,n}static bitwiseNot(e){return e.sign?g.__absoluteSubOne(e).__trim():g.__absoluteAddOne(e,!0)}static exponentiate(e,n){if(n.sign)throw new RangeError("Exponent must be positive");if(n.length===0)return g.__oneDigit(1,!1);if(e.length===0)return e;if(e.length===1&&e.__digit(0)===1)return e.sign&&(1&n.__digit(0))==0?g.unaryMinus(e):e;if(1<n.length)throw new RangeError("BigInt too big");let r=n.__unsignedDigit(0);if(r===1)return e;if(r>=g.__kMaxLengthBits)throw new RangeError("BigInt too big");if(e.length===1&&e.__digit(0)===2){const o=1+(0|r/30),a=e.sign&&(1&r)!=0,c=new g(o,a);c.__initializeDigits();const l=1<<r%30;return c.__setDigit(o-1,l),c}let i=null,s=e;for((1&r)!=0&&(i=e),r>>=1;r!==0;r>>=1)s=g.multiply(s,s),(1&r)!=0&&(i===null?i=s:i=g.multiply(i,s));return i}static multiply(e,n){if(e.length===0)return e;if(n.length===0)return n;let r=e.length+n.length;30<=e.__clzmsd()+n.__clzmsd()&&r--;const i=new g(r,e.sign!==n.sign);i.__initializeDigits();for(let s=0;s<e.length;s++)g.__multiplyAccumulate(n,e.__digit(s),i,s);return i.__trim()}static divide(e,n){if(n.length===0)throw new RangeError("Division by zero");if(0>g.__absoluteCompare(e,n))return g.__zero();const r=e.sign!==n.sign,i=n.__unsignedDigit(0);let s;if(n.length===1&&32767>=i){if(i===1)return r===e.sign?e:g.unaryMinus(e);s=g.__absoluteDivSmall(e,i,null)}else s=g.__absoluteDivLarge(e,n,!0,!1);return s.sign=r,s.__trim()}static remainder(e,n){if(n.length===0)throw new RangeError("Division by zero");if(0>g.__absoluteCompare(e,n))return e;const r=n.__unsignedDigit(0);if(n.length===1&&32767>=r){if(r===1)return g.__zero();const s=g.__absoluteModSmall(e,r);return s===0?g.__zero():g.__oneDigit(s,e.sign)}const i=g.__absoluteDivLarge(e,n,!1,!0);return i.sign=e.sign,i.__trim()}static add(e,n){const r=e.sign;return r===n.sign?g.__absoluteAdd(e,n,r):0<=g.__absoluteCompare(e,n)?g.__absoluteSub(e,n,r):g.__absoluteSub(n,e,!r)}static subtract(e,n){const r=e.sign;return r===n.sign?0<=g.__absoluteCompare(e,n)?g.__absoluteSub(e,n,r):g.__absoluteSub(n,e,!r):g.__absoluteAdd(e,n,r)}static leftShift(e,n){return n.length===0||e.length===0?e:n.sign?g.__rightShiftByAbsolute(e,n):g.__leftShiftByAbsolute(e,n)}static signedRightShift(e,n){return n.length===0||e.length===0?e:n.sign?g.__leftShiftByAbsolute(e,n):g.__rightShiftByAbsolute(e,n)}static unsignedRightShift(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}static lessThan(e,n){return 0>g.__compareToBigInt(e,n)}static lessThanOrEqual(e,n){return 0>=g.__compareToBigInt(e,n)}static greaterThan(e,n){return 0<g.__compareToBigInt(e,n)}static greaterThanOrEqual(e,n){return 0<=g.__compareToBigInt(e,n)}static equal(e,n){if(e.sign!==n.sign||e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(e.__digit(r)!==n.__digit(r))return!1;return!0}static notEqual(e,n){return!g.equal(e,n)}static bitwiseAnd(e,n){var r=Math.max;if(!e.sign&&!n.sign)return g.__absoluteAnd(e,n).__trim();if(e.sign&&n.sign){const i=r(e.length,n.length)+1;let s=g.__absoluteSubOne(e,i);const o=g.__absoluteSubOne(n);return s=g.__absoluteOr(s,o,s),g.__absoluteAddOne(s,!0,s).__trim()}return e.sign&&([e,n]=[n,e]),g.__absoluteAndNot(e,g.__absoluteSubOne(n)).__trim()}static bitwiseXor(e,n){var r=Math.max;if(!e.sign&&!n.sign)return g.__absoluteXor(e,n).__trim();if(e.sign&&n.sign){const o=r(e.length,n.length),a=g.__absoluteSubOne(e,o),c=g.__absoluteSubOne(n);return g.__absoluteXor(a,c,a).__trim()}const i=r(e.length,n.length)+1;e.sign&&([e,n]=[n,e]);let s=g.__absoluteSubOne(n,i);return s=g.__absoluteXor(s,e,s),g.__absoluteAddOne(s,!0,s).__trim()}static bitwiseOr(e,n){var r=Math.max;const i=r(e.length,n.length);if(!e.sign&&!n.sign)return g.__absoluteOr(e,n).__trim();if(e.sign&&n.sign){let o=g.__absoluteSubOne(e,i);const a=g.__absoluteSubOne(n);return o=g.__absoluteAnd(o,a,o),g.__absoluteAddOne(o,!0,o).__trim()}e.sign&&([e,n]=[n,e]);let s=g.__absoluteSubOne(n,i);return s=g.__absoluteAndNot(s,e,s),g.__absoluteAddOne(s,!0,s).__trim()}static asIntN(e,n){var r=Math.floor;if(n.length===0)return n;if(e=r(e),0>e)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(e===0)return g.__zero();if(e>=g.__kMaxLengthBits)return n;const i=0|(e+29)/30;if(n.length<i)return n;const s=n.__unsignedDigit(i-1),o=1<<(e-1)%30;if(n.length===i&&s<o)return n;if((s&o)!==o)return g.__truncateToNBits(e,n);if(!n.sign)return g.__truncateAndSubFromPowerOfTwo(e,n,!0);if((s&o-1)==0){for(let a=i-2;0<=a;a--)if(n.__digit(a)!==0)return g.__truncateAndSubFromPowerOfTwo(e,n,!1);return n.length===i&&s===o?n:g.__truncateToNBits(e,n)}return g.__truncateAndSubFromPowerOfTwo(e,n,!1)}static asUintN(e,n){var r=Math.floor;if(n.length===0)return n;if(e=r(e),0>e)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(e===0)return g.__zero();if(n.sign){if(e>g.__kMaxLengthBits)throw new RangeError("BigInt too big");return g.__truncateAndSubFromPowerOfTwo(e,n,!1)}if(e>=g.__kMaxLengthBits)return n;const i=0|(e+29)/30;if(n.length<i)return n;const s=e%30;return n.length==i&&(s===0||n.__digit(i-1)>>>s==0)?n:g.__truncateToNBits(e,n)}static ADD(e,n){if(e=g.__toPrimitive(e),n=g.__toPrimitive(n),typeof e=="string")return typeof n!="string"&&(n=n.toString()),e+n;if(typeof n=="string")return e.toString()+n;if(e=g.__toNumeric(e),n=g.__toNumeric(n),g.__isBigInt(e)&&g.__isBigInt(n))return g.add(e,n);if(typeof e=="number"&&typeof n=="number")return e+n;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}static LT(e,n){return g.__compare(e,n,0)}static LE(e,n){return g.__compare(e,n,1)}static GT(e,n){return g.__compare(e,n,2)}static GE(e,n){return g.__compare(e,n,3)}static EQ(e,n){for(;;){if(g.__isBigInt(e))return g.__isBigInt(n)?g.equal(e,n):g.EQ(n,e);if(typeof e=="number"){if(g.__isBigInt(n))return g.__equalToNumber(n,e);if(typeof n!="object")return e==n;n=g.__toPrimitive(n)}else if(typeof e=="string"){if(g.__isBigInt(n))return e=g.__fromString(e),e!==null&&g.equal(e,n);if(typeof n!="object")return e==n;n=g.__toPrimitive(n)}else if(typeof e=="boolean"){if(g.__isBigInt(n))return g.__equalToNumber(n,+e);if(typeof n!="object")return e==n;n=g.__toPrimitive(n)}else if(typeof e=="symbol"){if(g.__isBigInt(n))return!1;if(typeof n!="object")return e==n;n=g.__toPrimitive(n)}else if(typeof e=="object"){if(typeof n=="object"&&n.constructor!==g)return e==n;e=g.__toPrimitive(e)}else return e==n}}static NE(e,n){return!g.EQ(e,n)}static DataViewGetBigInt64(e,n,r=!1){return g.asIntN(64,g.DataViewGetBigUint64(e,n,r))}static DataViewGetBigUint64(e,n,r=!1){const[i,s]=r?[4,0]:[0,4],o=e.getUint32(n+i,r),a=e.getUint32(n+s,r),c=new g(3,!1);return c.__setDigit(0,1073741823&a),c.__setDigit(1,(268435455&o)<<2|a>>>30),c.__setDigit(2,o>>>28),c.__trim()}static DataViewSetBigInt64(e,n,r,i=!1){g.DataViewSetBigUint64(e,n,r,i)}static DataViewSetBigUint64(e,n,r,i=!1){r=g.asUintN(64,r);let s=0,o=0;if(0<r.length&&(o=r.__digit(0),1<r.length)){const l=r.__digit(1);o|=l<<30,s=l>>>2,2<r.length&&(s|=r.__digit(2)<<28)}const[a,c]=i?[4,0]:[0,4];e.setUint32(n+a,s,i),e.setUint32(n+c,o,i)}static __zero(){return new g(0,!1)}static __oneDigit(e,n){const r=new g(1,n);return r.__setDigit(0,e),r}__copy(){const e=new g(this.length,this.sign);for(let n=0;n<this.length;n++)e[n]=this[n];return e}__trim(){let e=this.length,n=this[e-1];for(;n===0;)e--,n=this[e-1],this.pop();return e===0&&(this.sign=!1),this}__initializeDigits(){for(let e=0;e<this.length;e++)this[e]=0}static __decideRounding(e,n,r,i){if(0<n)return-1;let s;if(0>n)s=-n-1;else{if(r===0)return-1;r--,i=e.__digit(r),s=29}let o=1<<s;if((i&o)==0)return-1;if(o-=1,(i&o)!=0)return 1;for(;0<r;)if(r--,e.__digit(r)!==0)return 1;return 0}static __fromDouble(e){g.__kBitConversionDouble[0]=e;const n=2047&g.__kBitConversionInts[1]>>>20,r=n-1023,i=(0|r/30)+1,s=new g(i,0>e);let o=1048575&g.__kBitConversionInts[1]|1048576,a=g.__kBitConversionInts[0];const c=20,l=r%30;let u,d=0;if(l<20){const p=c-l;d=p+32,u=o>>>p,o=o<<32-p|a>>>p,a<<=32-p}else if(l===20)d=32,u=o,o=a,a=0;else{const p=l-c;d=32-p,u=o<<p|a>>>32-p,o=a<<p,a=0}s.__setDigit(i-1,u);for(let p=i-2;0<=p;p--)0<d?(d-=30,u=o>>>2,o=o<<30|a>>>2,a<<=30):u=0,s.__setDigit(p,u);return s.__trim()}static __isWhitespace(e){return 13>=e&&9<=e||(159>=e?e==32:131071>=e?e==160||e==5760:196607>=e?(e&=131071,10>=e||e==40||e==41||e==47||e==95||e==4096):e==65279)}static __fromString(e,n=0){let r=0;const i=e.length;let s=0;if(s===i)return g.__zero();let o=e.charCodeAt(s);for(;g.__isWhitespace(o);){if(++s===i)return g.__zero();o=e.charCodeAt(s)}if(o===43){if(++s===i)return null;o=e.charCodeAt(s),r=1}else if(o===45){if(++s===i)return null;o=e.charCodeAt(s),r=-1}if(n===0){if(n=10,o===48){if(++s===i)return g.__zero();if(o=e.charCodeAt(s),o===88||o===120){if(n=16,++s===i)return null;o=e.charCodeAt(s)}else if(o===79||o===111){if(n=8,++s===i)return null;o=e.charCodeAt(s)}else if(o===66||o===98){if(n=2,++s===i)return null;o=e.charCodeAt(s)}}}else if(n===16&&o===48){if(++s===i)return g.__zero();if(o=e.charCodeAt(s),o===88||o===120){if(++s===i)return null;o=e.charCodeAt(s)}}if(r!=0&&n!==10)return null;for(;o===48;){if(++s===i)return g.__zero();o=e.charCodeAt(s)}const a=i-s;let c=g.__kMaxBitsPerChar[n],l=g.__kBitsPerCharTableMultiplier-1;if(a>1073741824/c)return null;const u=c*a+l>>>g.__kBitsPerCharTableShift,d=new g(0|(u+29)/30,!1),p=10>n?n:10,h=10<n?n-10:0;if((n&n-1)==0){c>>=g.__kBitsPerCharTableShift;const m=[],_=[];let b=!1;do{let v=0,T=0;for(;;){let x;if(o-48>>>0<p)x=o-48;else if((32|o)-97>>>0<h)x=(32|o)-87;else{b=!0;break}if(T+=c,v=v<<c|x,++s===i){b=!0;break}if(o=e.charCodeAt(s),30<T+c)break}m.push(v),_.push(T)}while(!b);g.__fillFromParts(d,m,_)}else{d.__initializeDigits();let m=!1,_=0;do{let b=0,v=1;for(;;){let x;if(o-48>>>0<p)x=o-48;else if((32|o)-97>>>0<h)x=(32|o)-87;else{m=!0;break}const N=v*n;if(1073741823<N)break;if(v=N,b=b*n+x,_++,++s===i){m=!0;break}o=e.charCodeAt(s)}l=30*g.__kBitsPerCharTableMultiplier-1;const T=0|(c*_+l>>>g.__kBitsPerCharTableShift)/30;d.__inplaceMultiplyAdd(v,b,T)}while(!m)}if(s!==i){if(!g.__isWhitespace(o))return null;for(s++;s<i;s++)if(o=e.charCodeAt(s),!g.__isWhitespace(o))return null}return d.sign=r==-1,d.__trim()}static __fillFromParts(e,n,r){let i=0,s=0,o=0;for(let a=n.length-1;0<=a;a--){const c=n[a],l=r[a];s|=c<<o,o+=l,o===30?(e.__setDigit(i++,s),o=0,s=0):30<o&&(e.__setDigit(i++,1073741823&s),o-=30,s=c>>>l-o)}if(s!==0){if(i>=e.length)throw new Error("implementation bug");e.__setDigit(i++,s)}for(;i<e.length;i++)e.__setDigit(i,0)}static __toStringBasePowerOfTwo(e,n){const r=e.length;let i=n-1;i=(85&i>>>1)+(85&i),i=(51&i>>>2)+(51&i),i=(15&i>>>4)+(15&i);const s=i,o=n-1,a=e.__digit(r-1),c=g.__clz30(a);let l=0|(30*r-c+s-1)/s;if(e.sign&&l++,268435456<l)throw new Error("string too long");const u=Array(l);let d=l-1,p=0,h=0;for(let _=0;_<r-1;_++){const b=e.__digit(_),v=(p|b<<h)&o;u[d--]=g.__kConversionChars[v];const T=s-h;for(p=b>>>T,h=30-T;h>=s;)u[d--]=g.__kConversionChars[p&o],p>>>=s,h-=s}const m=(p|a<<h)&o;for(u[d--]=g.__kConversionChars[m],p=a>>>s-h;p!==0;)u[d--]=g.__kConversionChars[p&o],p>>>=s;if(e.sign&&(u[d--]="-"),d!=-1)throw new Error("implementation bug");return u.join("")}static __toStringGeneric(e,n,r){const i=e.length;if(i===0)return"";if(i===1){let _=e.__unsignedDigit(0).toString(n);return r===!1&&e.sign&&(_="-"+_),_}const s=30*i-g.__clz30(e.__digit(i-1)),o=g.__kMaxBitsPerChar[n],a=o-1;let c=s*g.__kBitsPerCharTableMultiplier;c+=a-1,c=0|c/a;const l=c+1>>1,u=g.exponentiate(g.__oneDigit(n,!1),g.__oneDigit(l,!1));let d,p;const h=u.__unsignedDigit(0);if(u.length===1&&32767>=h){d=new g(e.length,!1),d.__initializeDigits();let _=0;for(let b=2*e.length-1;0<=b;b--){const v=_<<15|e.__halfDigit(b);d.__setHalfDigit(b,0|v/h),_=0|v%h}p=_.toString(n)}else{const _=g.__absoluteDivLarge(e,u,!0,!0);d=_.quotient;const b=_.remainder.__trim();p=g.__toStringGeneric(b,n,!0)}d.__trim();let m=g.__toStringGeneric(d,n,!0);for(;p.length<l;)p="0"+p;return r===!1&&e.sign&&(m="-"+m),m+p}static __unequalSign(e){return e?-1:1}static __absoluteGreater(e){return e?-1:1}static __absoluteLess(e){return e?1:-1}static __compareToBigInt(e,n){const r=e.sign;if(r!==n.sign)return g.__unequalSign(r);const i=g.__absoluteCompare(e,n);return 0<i?g.__absoluteGreater(r):0>i?g.__absoluteLess(r):0}static __compareToNumber(e,n){if(g.__isOneDigitInt(n)){const r=e.sign,i=0>n;if(r!==i)return g.__unequalSign(r);if(e.length===0){if(i)throw new Error("implementation bug");return n===0?0:-1}if(1<e.length)return g.__absoluteGreater(r);const s=Math.abs(n),o=e.__unsignedDigit(0);return o>s?g.__absoluteGreater(r):o<s?g.__absoluteLess(r):0}return g.__compareToDouble(e,n)}static __compareToDouble(e,n){if(n!==n)return n;if(n===1/0)return-1;if(n===-1/0)return 1;const r=e.sign;if(r!==0>n)return g.__unequalSign(r);if(n===0)throw new Error("implementation bug: should be handled elsewhere");if(e.length===0)return-1;g.__kBitConversionDouble[0]=n;const i=2047&g.__kBitConversionInts[1]>>>20;if(i==2047)throw new Error("implementation bug: handled elsewhere");const s=i-1023;if(0>s)return g.__absoluteGreater(r);const o=e.length;let a=e.__digit(o-1);const c=g.__clz30(a),l=30*o-c,u=s+1;if(l<u)return g.__absoluteLess(r);if(l>u)return g.__absoluteGreater(r);let d=1048576|1048575&g.__kBitConversionInts[1],p=g.__kBitConversionInts[0];const h=20,m=29-c;if(m!==(0|(l-1)%30))throw new Error("implementation bug");let _,b=0;if(20>m){const v=h-m;b=v+32,_=d>>>v,d=d<<32-v|p>>>v,p<<=32-v}else if(m===20)b=32,_=d,d=p,p=0;else{const v=m-h;b=32-v,_=d<<v|p>>>32-v,d=p<<v,p=0}if(a>>>=0,_>>>=0,a>_)return g.__absoluteGreater(r);if(a<_)return g.__absoluteLess(r);for(let v=o-2;0<=v;v--){0<b?(b-=30,_=d>>>2,d=d<<30|p>>>2,p<<=30):_=0;const T=e.__unsignedDigit(v);if(T>_)return g.__absoluteGreater(r);if(T<_)return g.__absoluteLess(r)}if(d!==0||p!==0){if(b===0)throw new Error("implementation bug");return g.__absoluteLess(r)}return 0}static __equalToNumber(e,n){var r=Math.abs;return g.__isOneDigitInt(n)?n===0?e.length===0:e.length===1&&e.sign===0>n&&e.__unsignedDigit(0)===r(n):g.__compareToDouble(e,n)===0}static __comparisonResultToBool(e,n){return n===0?0>e:n===1?0>=e:n===2?0<e:n===3?0<=e:void 0}static __compare(e,n,r){if(e=g.__toPrimitive(e),n=g.__toPrimitive(n),typeof e=="string"&&typeof n=="string")switch(r){case 0:return e<n;case 1:return e<=n;case 2:return e>n;case 3:return e>=n}if(g.__isBigInt(e)&&typeof n=="string")return n=g.__fromString(n),n!==null&&g.__comparisonResultToBool(g.__compareToBigInt(e,n),r);if(typeof e=="string"&&g.__isBigInt(n))return e=g.__fromString(e),e!==null&&g.__comparisonResultToBool(g.__compareToBigInt(e,n),r);if(e=g.__toNumeric(e),n=g.__toNumeric(n),g.__isBigInt(e)){if(g.__isBigInt(n))return g.__comparisonResultToBool(g.__compareToBigInt(e,n),r);if(typeof n!="number")throw new Error("implementation bug");return g.__comparisonResultToBool(g.__compareToNumber(e,n),r)}if(typeof e!="number")throw new Error("implementation bug");if(g.__isBigInt(n))return g.__comparisonResultToBool(g.__compareToNumber(n,e),2^r);if(typeof n!="number")throw new Error("implementation bug");return r===0?e<n:r===1?e<=n:r===2?e>n:r===3?e>=n:void 0}__clzmsd(){return g.__clz30(this.__digit(this.length-1))}static __absoluteAdd(e,n,r){if(e.length<n.length)return g.__absoluteAdd(n,e,r);if(e.length===0)return e;if(n.length===0)return e.sign===r?e:g.unaryMinus(e);let i=e.length;(e.__clzmsd()===0||n.length===e.length&&n.__clzmsd()===0)&&i++;const s=new g(i,r);let o=0,a=0;for(;a<n.length;a++){const c=e.__digit(a)+n.__digit(a)+o;o=c>>>30,s.__setDigit(a,1073741823&c)}for(;a<e.length;a++){const c=e.__digit(a)+o;o=c>>>30,s.__setDigit(a,1073741823&c)}return a<s.length&&s.__setDigit(a,o),s.__trim()}static __absoluteSub(e,n,r){if(e.length===0)return e;if(n.length===0)return e.sign===r?e:g.unaryMinus(e);const i=new g(e.length,r);let s=0,o=0;for(;o<n.length;o++){const a=e.__digit(o)-n.__digit(o)-s;s=1&a>>>30,i.__setDigit(o,1073741823&a)}for(;o<e.length;o++){const a=e.__digit(o)-s;s=1&a>>>30,i.__setDigit(o,1073741823&a)}return i.__trim()}static __absoluteAddOne(e,n,r=null){const i=e.length;r===null?r=new g(i,n):r.sign=n;let s=1;for(let o=0;o<i;o++){const a=e.__digit(o)+s;s=a>>>30,r.__setDigit(o,1073741823&a)}return s!=0&&r.__setDigitGrow(i,1),r}static __absoluteSubOne(e,n){const r=e.length;n=n||r;const i=new g(n,!1);let s=1;for(let o=0;o<r;o++){const a=e.__digit(o)-s;s=1&a>>>30,i.__setDigit(o,1073741823&a)}if(s!=0)throw new Error("implementation bug");for(let o=r;o<n;o++)i.__setDigit(o,0);return i}static __absoluteAnd(e,n,r=null){let i=e.length,s=n.length,o=s;if(i<s){o=i;const l=e,u=i;e=n,i=s,n=l,s=u}let a=o;r===null?r=new g(a,!1):a=r.length;let c=0;for(;c<o;c++)r.__setDigit(c,e.__digit(c)&n.__digit(c));for(;c<a;c++)r.__setDigit(c,0);return r}static __absoluteAndNot(e,n,r=null){const i=e.length,s=n.length;let o=s;i<s&&(o=i);let a=i;r===null?r=new g(a,!1):a=r.length;let c=0;for(;c<o;c++)r.__setDigit(c,e.__digit(c)&~n.__digit(c));for(;c<i;c++)r.__setDigit(c,e.__digit(c));for(;c<a;c++)r.__setDigit(c,0);return r}static __absoluteOr(e,n,r=null){let i=e.length,s=n.length,o=s;if(i<s){o=i;const l=e,u=i;e=n,i=s,n=l,s=u}let a=i;r===null?r=new g(a,!1):a=r.length;let c=0;for(;c<o;c++)r.__setDigit(c,e.__digit(c)|n.__digit(c));for(;c<i;c++)r.__setDigit(c,e.__digit(c));for(;c<a;c++)r.__setDigit(c,0);return r}static __absoluteXor(e,n,r=null){let i=e.length,s=n.length,o=s;if(i<s){o=i;const l=e,u=i;e=n,i=s,n=l,s=u}let a=i;r===null?r=new g(a,!1):a=r.length;let c=0;for(;c<o;c++)r.__setDigit(c,e.__digit(c)^n.__digit(c));for(;c<i;c++)r.__setDigit(c,e.__digit(c));for(;c<a;c++)r.__setDigit(c,0);return r}static __absoluteCompare(e,n){const r=e.length-n.length;if(r!=0)return r;let i=e.length-1;for(;0<=i&&e.__digit(i)===n.__digit(i);)i--;return 0>i?0:e.__unsignedDigit(i)>n.__unsignedDigit(i)?1:-1}static __multiplyAccumulate(e,n,r,i){if(n===0)return;const s=32767&n,o=n>>>15;let a=0,c=0;for(let l,u=0;u<e.length;u++,i++){l=r.__digit(i);const d=e.__digit(u),p=32767&d,h=d>>>15,m=g.__imul(p,s),_=g.__imul(p,o),b=g.__imul(h,s),v=g.__imul(h,o);l+=c+m+a,a=l>>>30,l&=1073741823,l+=((32767&_)<<15)+((32767&b)<<15),a+=l>>>30,c=v+(_>>>15)+(b>>>15),r.__setDigit(i,1073741823&l)}for(;a!=0||c!==0;i++){let l=r.__digit(i);l+=a+c,c=0,a=l>>>30,r.__setDigit(i,1073741823&l)}}static __internalMultiplyAdd(e,n,r,i,s){let o=r,a=0;for(let c=0;c<i;c++){const l=e.__digit(c),u=g.__imul(32767&l,n),d=g.__imul(l>>>15,n),p=u+((32767&d)<<15)+a+o;o=p>>>30,a=d>>>15,s.__setDigit(c,1073741823&p)}if(s.length>i)for(s.__setDigit(i++,o+a);i<s.length;)s.__setDigit(i++,0);else if(o+a!==0)throw new Error("implementation bug")}__inplaceMultiplyAdd(e,n,r){r>this.length&&(r=this.length);const i=32767&e,s=e>>>15;let o=0,a=n;for(let c=0;c<r;c++){const l=this.__digit(c),u=32767&l,d=l>>>15,p=g.__imul(u,i),h=g.__imul(u,s),m=g.__imul(d,i),_=g.__imul(d,s);let b=a+p+o;o=b>>>30,b&=1073741823,b+=((32767&h)<<15)+((32767&m)<<15),o+=b>>>30,a=_+(h>>>15)+(m>>>15),this.__setDigit(c,1073741823&b)}if(o!=0||a!==0)throw new Error("implementation bug")}static __absoluteDivSmall(e,n,r=null){r===null&&(r=new g(e.length,!1));let i=0;for(let s,o=2*e.length-1;0<=o;o-=2){s=(i<<15|e.__halfDigit(o))>>>0;const a=0|s/n;i=0|s%n,s=(i<<15|e.__halfDigit(o-1))>>>0;const c=0|s/n;i=0|s%n,r.__setDigit(o>>>1,a<<15|c)}return r}static __absoluteModSmall(e,n){let r=0;for(let i=2*e.length-1;0<=i;i--){const s=(r<<15|e.__halfDigit(i))>>>0;r=0|s%n}return r}static __absoluteDivLarge(e,n,r,i){const s=n.__halfDigitLength(),o=n.length,a=e.__halfDigitLength()-s;let c=null;r&&(c=new g(a+2>>>1,!1),c.__initializeDigits());const l=new g(s+2>>>1,!1);l.__initializeDigits();const u=g.__clz15(n.__halfDigit(s-1));0<u&&(n=g.__specialLeftShift(n,u,0));const d=g.__specialLeftShift(e,u,1),p=n.__halfDigit(s-1);let h=0;for(let m,_=a;0<=_;_--){m=32767;const b=d.__halfDigit(_+s);if(b!==p){const T=(b<<15|d.__halfDigit(_+s-1))>>>0;m=0|T/p;let x=0|T%p;const N=n.__halfDigit(s-2),D=d.__halfDigit(_+s-2);for(;g.__imul(m,N)>>>0>(x<<16|D)>>>0&&(m--,x+=p,!(32767<x)););}g.__internalMultiplyAdd(n,m,0,o,l);let v=d.__inplaceSub(l,_,s+1);v!==0&&(v=d.__inplaceAdd(n,_,s),d.__setHalfDigit(_+s,32767&d.__halfDigit(_+s)+v),m--),r&&(1&_?h=m<<15:c.__setDigit(_>>>1,h|m))}if(i)return d.__inplaceRightShift(u),r?{quotient:c,remainder:d}:d;if(r)return c;throw new Error("unreachable")}static __clz15(e){return g.__clz30(e)-15}__inplaceAdd(e,n,r){let i=0;for(let s=0;s<r;s++){const o=this.__halfDigit(n+s)+e.__halfDigit(s)+i;i=o>>>15,this.__setHalfDigit(n+s,32767&o)}return i}__inplaceSub(e,n,r){let i=0;if(1&n){n>>=1;let s=this.__digit(n),o=32767&s,a=0;for(;a<r-1>>>1;a++){const u=e.__digit(a),d=(s>>>15)-(32767&u)-i;i=1&d>>>15,this.__setDigit(n+a,(32767&d)<<15|32767&o),s=this.__digit(n+a+1),o=(32767&s)-(u>>>15)-i,i=1&o>>>15}const c=e.__digit(a),l=(s>>>15)-(32767&c)-i;if(i=1&l>>>15,this.__setDigit(n+a,(32767&l)<<15|32767&o),n+a+1>=this.length)throw new RangeError("out of bounds");(1&r)==0&&(s=this.__digit(n+a+1),o=(32767&s)-(c>>>15)-i,i=1&o>>>15,this.__setDigit(n+e.length,1073709056&s|32767&o))}else{n>>=1;let s=0;for(;s<e.length-1;s++){const u=this.__digit(n+s),d=e.__digit(s),p=(32767&u)-(32767&d)-i;i=1&p>>>15;const h=(u>>>15)-(d>>>15)-i;i=1&h>>>15,this.__setDigit(n+s,(32767&h)<<15|32767&p)}const o=this.__digit(n+s),a=e.__digit(s),c=(32767&o)-(32767&a)-i;i=1&c>>>15;let l=0;(1&r)==0&&(l=(o>>>15)-(a>>>15)-i,i=1&l>>>15),this.__setDigit(n+s,(32767&l)<<15|32767&c)}return i}__inplaceRightShift(e){if(e===0)return;let n=this.__digit(0)>>>e;const r=this.length-1;for(let i=0;i<r;i++){const s=this.__digit(i+1);this.__setDigit(i,1073741823&s<<30-e|n),n=s>>>e}this.__setDigit(r,n)}static __specialLeftShift(e,n,r){const i=e.length,s=new g(i+r,!1);if(n===0){for(let a=0;a<i;a++)s.__setDigit(a,e.__digit(a));return 0<r&&s.__setDigit(i,0),s}let o=0;for(let a=0;a<i;a++){const c=e.__digit(a);s.__setDigit(a,1073741823&c<<n|o),o=c>>>30-n}return 0<r&&s.__setDigit(i,o),s}static __leftShiftByAbsolute(e,n){const r=g.__toShiftAmount(n);if(0>r)throw new RangeError("BigInt too big");const i=0|r/30,s=r%30,o=e.length,a=s!==0&&e.__digit(o-1)>>>30-s!=0,c=o+i+(a?1:0),l=new g(c,e.sign);if(s===0){let u=0;for(;u<i;u++)l.__setDigit(u,0);for(;u<c;u++)l.__setDigit(u,e.__digit(u-i))}else{let u=0;for(let d=0;d<i;d++)l.__setDigit(d,0);for(let d=0;d<o;d++){const p=e.__digit(d);l.__setDigit(d+i,1073741823&p<<s|u),u=p>>>30-s}if(a)l.__setDigit(o+i,u);else if(u!==0)throw new Error("implementation bug")}return l.__trim()}static __rightShiftByAbsolute(e,n){const r=e.length,i=e.sign,s=g.__toShiftAmount(n);if(0>s)return g.__rightShiftByMaximum(i);const o=0|s/30,a=s%30;let c=r-o;if(0>=c)return g.__rightShiftByMaximum(i);let l=!1;if(i){if((e.__digit(o)&(1<<a)-1)!=0)l=!0;else for(let d=0;d<o;d++)if(e.__digit(d)!==0){l=!0;break}}l&&a===0&&~e.__digit(r-1)==0&&c++;let u=new g(c,i);if(a===0){u.__setDigit(c-1,0);for(let d=o;d<r;d++)u.__setDigit(d-o,e.__digit(d))}else{let d=e.__digit(o)>>>a;const p=r-o-1;for(let h=0;h<p;h++){const m=e.__digit(h+o+1);u.__setDigit(h,1073741823&m<<30-a|d),d=m>>>a}u.__setDigit(p,d)}return l&&(u=g.__absoluteAddOne(u,!0,u)),u.__trim()}static __rightShiftByMaximum(e){return e?g.__oneDigit(1,!0):g.__zero()}static __toShiftAmount(e){if(1<e.length)return-1;const n=e.__unsignedDigit(0);return n>g.__kMaxLengthBits?-1:n}static __toPrimitive(e,n="default"){if(typeof e!="object"||e.constructor===g)return e;if(typeof Symbol!="undefined"&&typeof Symbol.toPrimitive=="symbol"){const s=e[Symbol.toPrimitive];if(s){const o=s(n);if(typeof o!="object")return o;throw new TypeError("Cannot convert object to primitive value")}}const r=e.valueOf;if(r){const s=r.call(e);if(typeof s!="object")return s}const i=e.toString;if(i){const s=i.call(e);if(typeof s!="object")return s}throw new TypeError("Cannot convert object to primitive value")}static __toNumeric(e){return g.__isBigInt(e)?e:+e}static __isBigInt(e){return typeof e=="object"&&e!==null&&e.constructor===g}static __truncateToNBits(e,n){const r=0|(e+29)/30,i=new g(r,n.sign),s=r-1;for(let a=0;a<s;a++)i.__setDigit(a,n.__digit(a));let o=n.__digit(s);if(e%30!=0){const a=32-e%30;o=o<<a>>>a}return i.__setDigit(s,o),i.__trim()}static __truncateAndSubFromPowerOfTwo(e,n,r){var i=Math.min;const s=0|(e+29)/30,o=new g(s,r);let a=0;const c=s-1;let l=0;for(const h=i(c,n.length);a<h;a++){const m=0-n.__digit(a)-l;l=1&m>>>30,o.__setDigit(a,1073741823&m)}for(;a<c;a++)o.__setDigit(a,0|1073741823&-l);let u=c<n.length?n.__digit(c):0;const d=e%30;let p;if(d==0)p=0-u-l,p&=1073741823;else{const h=32-d;u=u<<h>>>h;const m=1<<32-h;p=m-u-l,p&=m-1}return o.__setDigit(c,p),o.__trim()}__digit(e){return this[e]}__unsignedDigit(e){return this[e]>>>0}__setDigit(e,n){this[e]=0|n}__setDigitGrow(e,n){this[e]=0|n}__halfDigitLength(){const e=this.length;return 32767>=this.__unsignedDigit(e-1)?2*e-1:2*e}__halfDigit(e){return 32767&this[e>>>1]>>>15*(1&e)}__setHalfDigit(e,n){const r=e>>>1,i=this.__digit(r),s=1&e?32767&i|n<<15:1073709056&i|32767&n;this.__setDigit(r,s)}static __digitPow(e,n){let r=1;for(;0<n;)1&n&&(r*=e),n>>>=1,e*=e;return r}static __isOneDigitInt(e){return(1073741823&e)===e}}g.__kMaxLength=33554432,g.__kMaxLengthBits=g.__kMaxLength<<5,g.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],g.__kBitsPerCharTableShift=5,g.__kBitsPerCharTableMultiplier=1<<g.__kBitsPerCharTableShift,g.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],g.__kBitConversionBuffer=new ArrayBuffer(8),g.__kBitConversionDouble=new Float64Array(g.__kBitConversionBuffer),g.__kBitConversionInts=new Int32Array(g.__kBitConversionBuffer),g.__clz30=Math.clz32?function(t){return Math.clz32(t)-2}:function(t){return t===0?30:0|29-(0|Math.log(t>>>0)/Math.LN2)},g.__imul=Math.imul||function(t,e){return 0|t*e};const nd={},Tw={["Temporal.Duration"](t,e){const n=e.stylize(`${this[Symbol.toStringTag]} <${this}>`,"special");if(t<1)return n;const r=[];for(const i of["years","months","weeks","days","hours","minutes","seconds","milliseconds","microseconds","nanoseconds"])this[i]!==0&&r.push(`  ${i}: ${e.stylize(this[i],"number")}`);return n+` {
`+r.join(`,
`)+`
}`}};function Ew(t,e){return e.stylize(`${this[Symbol.toStringTag]} <${this}>`,"special")}function Mr(t,e){Object.defineProperty(t.prototype,Symbol.toStringTag,{value:e,writable:!1,enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,Symbol.for("nodejs.util.inspect.custom"),{value:Tw[e]||Ew,writable:!1,enumerable:!1,configurable:!0});for(const n of Object.getOwnPropertyNames(t)){const r=Object.getOwnPropertyDescriptor(t,n);!r.configurable||!r.enumerable||(r.enumerable=!1,Object.defineProperty(t,n,r))}for(const n of Object.getOwnPropertyNames(t.prototype)){const r=Object.getOwnPropertyDescriptor(t.prototype,n);!r.configurable||!r.enumerable||(r.enumerable=!1,Object.defineProperty(t.prototype,n,r))}rd(e,t),rd(`${e}.prototype`,t.prototype)}function rd(t,e){const n=`%${t}%`;if(nd[n]!==void 0)throw new Error(`intrinsic ${t} already exists`);nd[n]=e}function V(t){return nd[t]}const W="slot-epochNanoSeconds",wi="slot-timezone-identifier",U="slot-year",B="slot-month",q="slot-day",Z="slot-hour",Q="slot-minute",X="slot-second",K="slot-millisecond",J="slot-microsecond",ee="slot-nanosecond",S="slot-calendar",Dm="slot-date-brand",Om="slot-year-month-brand",km="slot-month-day-brand",Wt="slot-cached-instant",Te="slot-time-zone",Qt="slot-years",kt="slot-months",ln="slot-weeks",Xt="slot-days",Kt="slot-hours",Jt="slot-minutes",en="slot-seconds",tn="slot-milliseconds",nn="slot-microseconds",rn="slot-nanoseconds",st="slot-calendar-identifier",Sm=new WeakMap;function Cr(t){Sm.set(t,Object.create(null))}function rf(t){return Sm.get(t)}function At(t,...e){if(!t||typeof t!="object")return!1;const n=rf(t);return!!n&&e.reduce((r,i)=>r&&i in n,!0)}function f(t,e){const n=rf(t)[e];if(n===void 0)throw new TypeError(`Missing internal slot ${e}`);return n}function ae(t,e,n){rf(t)[e]=n}const na=Array.prototype.includes,xw=Array.prototype.push,Iw=globalThis.Intl.DateTimeFormat,Nw=Array.prototype.sort,Rw=Math.abs,Dw=Math.floor,id=Object.entries,Zh=Object.keys,ze={};class sl{constructor(e){if(arguments.length<1)throw new RangeError("missing argument: id is required");const n=H(e);if(!Cm(n))throw new RangeError(`invalid calendar identifier ${n}`);Cr(this),ae(this,st,n),Object.defineProperty(this,"_repr_",{value:`${this[Symbol.toStringTag]} <${n}>`,writable:!1,enumerable:!1,configurable:!1})}get id(){if(!it(this))throw new TypeError("invalid receiver");return H(this)}dateFromFields(e,n=void 0){if(!it(this))throw new TypeError("invalid receiver");if(!je(e))throw new TypeError("invalid fields");const r=te(n);return ze[f(this,st)].dateFromFields(e,r,this)}yearMonthFromFields(e,n=void 0){if(!it(this))throw new TypeError("invalid receiver");if(!je(e))throw new TypeError("invalid fields");const r=te(n);return ze[f(this,st)].yearMonthFromFields(e,r,this)}monthDayFromFields(e,n=void 0){if(!it(this))throw new TypeError("invalid receiver");if(!je(e))throw new TypeError("invalid fields");const r=te(n);return ze[f(this,st)].monthDayFromFields(e,r,this)}fields(e){if(!it(this))throw new TypeError("invalid receiver");const n=[],r=new Set(["year","month","monthCode","day","hour","minute","second","millisecond","microsecond","nanosecond"]);for(const i of e){if(typeof i!="string")throw new TypeError("invalid fields");if(!r.has(i))throw new RangeError(`invalid field name ${i}`);r.delete(i),xw.call(n,i)}return ze[f(this,st)].fields(n)}mergeFields(e,n){if(!it(this))throw new TypeError("invalid receiver");return ze[f(this,st)].mergeFields(e,n)}dateAdd(e,n,r=void 0){if(!it(this))throw new TypeError("invalid receiver");const i=De(e),s=Ws(n),o=te(r),a=Ft(o),{days:c}=qt(f(s,Xt),f(s,Kt),f(s,Jt),f(s,en),f(s,tn),f(s,nn),f(s,rn),"day");return ze[f(this,st)].dateAdd(i,f(s,Qt),f(s,kt),f(s,ln),c,a,this)}dateUntil(e,n,r=void 0){if(!it(this))throw new TypeError("invalid receiver");const i=De(e),s=De(n),o=te(r),a=$n(o,"auto",["hour","minute","second","millisecond","microsecond","nanosecond"],"day"),{years:c,months:l,weeks:u,days:d}=ze[f(this,st)].dateUntil(i,s,a),p=V("%Temporal.Duration%");return new p(c,l,u,d,0,0,0,0,0,0)}year(e){let n=e;if(!it(this))throw new TypeError("invalid receiver");return Ie(n)||(n=De(n)),ze[f(this,st)].year(n)}month(e){let n=e;if(!it(this))throw new TypeError("invalid receiver");if(Mt(n))throw new TypeError("use monthCode on PlainMonthDay instead");return Ie(n)||(n=De(n)),ze[f(this,st)].month(n)}monthCode(e){let n=e;if(!it(this))throw new TypeError("invalid receiver");return!Ie(n)&&!Mt(n)&&(n=De(n)),ze[f(this,st)].monthCode(n)}day(e){let n=e;if(!it(this))throw new TypeError("invalid receiver");return Mt(n)||(n=De(n)),ze[f(this,st)].day(n)}era(e){let n=e;if(!it(this))throw new TypeError("invalid receiver");return Ie(n)||(n=De(n)),ze[f(this,st)].era(n)}eraYear(e){let n=e;if(!it(this))throw new TypeError("invalid receiver");return Ie(n)||(n=De(n)),ze[f(this,st)].eraYear(n)}dayOfWeek(e){if(!it(this))throw new TypeError("invalid receiver");const n=De(e);return ze[f(this,st)].dayOfWeek(n)}dayOfYear(e){if(!it(this))throw new TypeError("invalid receiver");const n=De(e);return ze[f(this,st)].dayOfYear(n)}weekOfYear(e){if(!it(this))throw new TypeError("invalid receiver");const n=De(e);return ze[f(this,st)].weekOfYear(n)}daysInWeek(e){if(!it(this))throw new TypeError("invalid receiver");const n=De(e);return ze[f(this,st)].daysInWeek(n)}daysInMonth(e){let n=e;if(!it(this))throw new TypeError("invalid receiver");return Ie(n)||(n=De(n)),ze[f(this,st)].daysInMonth(n)}daysInYear(e){let n=e;if(!it(this))throw new TypeError("invalid receiver");return Ie(n)||(n=De(n)),ze[f(this,st)].daysInYear(n)}monthsInYear(e){let n=e;if(!it(this))throw new TypeError("invalid receiver");return Ie(n)||(n=De(n)),ze[f(this,st)].monthsInYear(n)}inLeapYear(e){let n=e;if(!it(this))throw new TypeError("invalid receiver");return Ie(n)||(n=De(n)),ze[f(this,st)].inLeapYear(n)}toString(){if(!it(this))throw new TypeError("invalid receiver");return f(this,st)}toJSON(){if(!it(this))throw new TypeError("invalid receiver");return H(this)}static from(e){return Yt(e)}}Mr(sl,"Temporal.Calendar");rd("Temporal.Calendar.from",sl.from);ze.iso8601={dateFromFields(t,e,n){const r=Ft(e);let i=Bt(t,[["day"],["month",void 0],["monthCode",void 0],["year"]]);i=pc(i);let{year:s,month:o,day:a}=i;return{year:s,month:o,day:a}=Cc(s,o,a,r),nr(s,o,a,n)},yearMonthFromFields(t,e,n){const r=Ft(e);let i=Bt(t,[["month",void 0],["monthCode",void 0],["year"]]);i=pc(i);let{year:s,month:o}=i;return{year:s,month:o}=Ty(s,o,r),ua(s,o,n,1)},monthDayFromFields(t,e,n){const r=Ft(e);let i=Bt(t,[["day"],["month",void 0],["monthCode",void 0],["year",void 0]]);if(i.month!==void 0&&i.year===void 0&&i.monthCode===void 0)throw new TypeError("either year or monthCode required with month");const s=i.monthCode===void 0,o=1972;i=pc(i);let{month:a,day:c,year:l}=i;return{month:a,day:c}=Cc(s?l:o,a,c,r),la(a,c,n,o)},fields(t){return t},mergeFields(t,e){const n={};for(const i of Zh(t))i==="month"||i==="monthCode"||(n[i]=t[i]);const r=Zh(e);for(const i of r)n[i]=e[i];if(!na.call(r,"month")&&!na.call(r,"monthCode")){const{month:i,monthCode:s}=t;i!==void 0&&(n.month=i),s!==void 0&&(n.monthCode=s)}return n},dateAdd(t,e,n,r,i,s,o){let a=f(t,U),c=f(t,B),l=f(t,q);return{year:a,month:c,day:l}=ls(a,c,l,e,n,r,i,s),nr(a,c,l,o)},dateUntil(t,e,n){return yf(f(t,U),f(t,B),f(t,q),f(e,U),f(e,B),f(e,q),n)},year(t){return f(t,U)},era(){},eraYear(){},month(t){return f(t,B)},monthCode(t){return Jr(f(t,B))},day(t){return f(t,q)},dayOfWeek(t){return md(f(t,U),f(t,B),f(t,q))},dayOfYear(t){return Fc(f(t,U),f(t,B),f(t,q))},weekOfYear(t){return Ay(f(t,U),f(t,B),f(t,q))},daysInWeek(){return 7},daysInMonth(t){return ni(f(t,U),f(t,B))},daysInYear(t){let e=t;return At(e,U)||(e=De(e)),Ai(f(e,U))?366:365},monthsInYear(){return 12},inLeapYear(t){let e=t;return At(e,U)||(e=De(e)),Ai(f(e,U))}};function sf(t){if(!t.startsWith("M"))throw new RangeError(`Invalid month code: ${t}.  Month codes must start with M.`);const e=+t.slice(1);if(isNaN(e))throw new RangeError(`Invalid month code: ${t}`);return e}function Jr(t,e=!1){return`M${t.toString().padStart(2,"0")}${e?"L":""}`}function pc(t,e=void 0,n=12){let{month:r,monthCode:i}=t;if(i===void 0){if(r===void 0)throw new TypeError("Either month or monthCode are required");e==="reject"&&Vt(r,1,n),e==="constrain"&&(r=In(r,1,n)),i=Jr(r)}else{const s=sf(i);if(r!==void 0&&r!==s)throw new RangeError(`monthCode ${i} and month ${r} must match if both are present`);if(i!==Jr(s))throw new RangeError(`Invalid month code: ${i}`);if(r=s,r<1||r>n)throw new RangeError(`Invalid monthCode: ${i}`)}return{...t,month:r,monthCode:i}}class Ge{constructor(e){if(this.map=new Map,this.calls=0,this.hits=0,this.misses=0,this.now=globalThis.performance?globalThis.performance.now():Date.now(),e!==void 0){let n=0;for(const r of e.map.entries()){if(++n>Ge.MAX_CACHE_ENTRIES)break;this.map.set(...r)}}}get(e){const n=this.map.get(e);return n&&(this.hits++,this.report()),this.calls++,n}set(e,n){this.map.set(e,n),this.misses++,this.report()}report(){}setObject(e){if(Ge.objectMap.get(e))throw new RangeError("object already cached");Ge.objectMap.set(e,this),this.report()}static getCacheForObject(e){let n=Ge.objectMap.get(e);return n||(n=new Ge,Ge.objectMap.set(e,n)),n}}Ge.objectMap=new WeakMap;Ge.MAX_CACHE_ENTRIES=1e3;function Am({isoYear:t,isoMonth:e,isoDay:n}){const r=bs(t),i=Fe(e),s=Fe(n);return`${r}-${i}-${s}T00:00Z`}function lu(t,e){return{years:t.year-e.year,months:t.month-e.month,days:t.day-e.day}}class ho{constructor(){this.eraLength="short",this.hasEra=!0}getFormatter(){return typeof this.formatter=="undefined"&&(this.formatter=new Iw(`en-US-u-ca-${this.id}`,{day:"numeric",month:"numeric",year:"numeric",era:this.eraLength,timeZone:"UTC"})),this.formatter}isoToCalendarDate(e,n){const{year:r,month:i,day:s}=e,o=JSON.stringify({func:"isoToCalendarDate",isoYear:r,isoMonth:i,isoDay:s,id:this.id}),a=n.get(o);if(a)return a;const c=this.getFormatter();let l,u;try{u=Am({isoYear:r,isoMonth:i,isoDay:s}),l=c.formatToParts(new Date(u))}catch{throw new RangeError(`Invalid ISO date: ${JSON.stringify({isoYear:r,isoMonth:i,isoDay:s})}`)}const d={};for(let{type:h,value:m}of l){if(h==="year"&&(d.eraYear=+m),h==="relatedYear"&&(d.eraYear=+m),h==="month"){const _=/^([0-9]*)(.*?)$/.exec(m);if(!_||_.length!=3||!_[1]&&!_[2])throw new RangeError(`Unexpected month: ${m}`);if(d.month=_[1]?+_[1]:1,d.month<1)throw new RangeError(`Invalid month ${m} from ${u}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10527)`);if(d.month>13)throw new RangeError(`Invalid month ${m} from ${u}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10529)`);_[2]&&(d.monthExtra=_[2])}h==="day"&&(d.day=+m),this.hasEra&&h==="era"&&m!=null&&m!==""&&(m=m.split(" (")[0],d.era=m.normalize("NFD").replace(/[^-0-9 \p{L}]/gu,"").replace(" ","-").toLowerCase())}if(d.eraYear===void 0)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);if(this.reviseIntlEra){const{era:h,eraYear:m}=this.reviseIntlEra(d,e);d.era=h,d.eraYear=m}this.checkIcuBugs&&this.checkIcuBugs(e);const p=this.adjustCalendarDate(d,n,"constrain",!0);if(p.year===void 0)throw new RangeError(`Missing year converting ${JSON.stringify(e)}`);if(p.month===void 0)throw new RangeError(`Missing month converting ${JSON.stringify(e)}`);if(p.day===void 0)throw new RangeError(`Missing day converting ${JSON.stringify(e)}`);return n.set(o,p),["constrain","reject"].forEach(h=>{const m=JSON.stringify({func:"calendarToIsoDate",year:p.year,month:p.month,day:p.day,overflow:h,id:this.id});n.set(m,e)}),p}validateCalendarDate(e){const{era:n,month:r,year:i,day:s,eraYear:o,monthCode:a,monthExtra:c}=e;if(c!==void 0)throw new RangeError("Unexpected `monthExtra` value");if(i===void 0&&o===void 0)throw new TypeError("year or eraYear is required");if(r===void 0&&a===void 0)throw new TypeError("month or monthCode is required");if(s===void 0)throw new RangeError("Missing day");if(a!==void 0){if(typeof a!="string")throw new RangeError(`monthCode must be a string, not ${typeof a}`);if(!/^M([01]?\d)(L?)$/.test(a))throw new RangeError(`Invalid monthCode: ${a}`)}if(this.constantEra){if(n!==void 0&&n!==this.constantEra)throw new RangeError(`era must be ${this.constantEra}, not ${n}`);if(o!==void 0&&i!==void 0&&o!==i)throw new RangeError(`eraYear ${o} does not match year ${i}`)}}adjustCalendarDate(e,n=void 0,r="constrain",i=!1){if(this.calendarType==="lunisolar")throw new RangeError("Override required for lunisolar calendars");let s=e;if(this.validateCalendarDate(s),this.constantEra){const{year:l,eraYear:u}=s;s={...s,era:this.constantEra,year:l!==void 0?l:u,eraYear:u!==void 0?u:l}}const o=this.monthsInYear(s,n);let{month:a,monthCode:c}=s;return{month:a,monthCode:c}=pc(s,r,o),{...s,month:a,monthCode:c}}regulateMonthDayNaive(e,n,r){const i=this.monthsInYear(e,r);let{month:s,day:o}=e;return n==="reject"?(Vt(s,1,i),Vt(o,1,this.maximumMonthLength(e))):(s=In(s,1,i),o=In(o,1,this.maximumMonthLength({...e,month:s}))),{...e,month:s,day:o}}calendarToIsoDate(e,n="constrain",r){const i=e;let s=this.adjustCalendarDate(e,r,n,!1);s=this.regulateMonthDayNaive(s,n,r);const{year:o,month:a,day:c}=s,l=JSON.stringify({func:"calendarToIsoDate",year:o,month:a,day:c,overflow:n,id:this.id});let u=r.get(l);if(u)return u;let d;if(i.year!==void 0&&i.month!==void 0&&i.day!==void 0&&(i.year!==s.year||i.month!==s.month||i.day!==s.day)&&(d=JSON.stringify({func:"calendarToIsoDate",year:i.year,month:i.month,day:i.day,overflow:n,id:this.id}),u=r.get(d),u))return u;let p=this.estimateIsoDate({year:o,month:a,day:c});const h=x=>{let N=this.addDaysIso(p,x);if(s.day>this.minimumMonthLength(s)){let D=this.isoToCalendarDate(N,r);for(;D.month!==a||D.year!==o;){if(n==="reject")throw new RangeError(`day ${c} does not exist in month ${a} of year ${o}`);N=this.addDaysIso(N,-1),D=this.isoToCalendarDate(N,r)}}return N};let m=0,_=this.isoToCalendarDate(p,r),b=lu(s,_);if(b.years!==0||b.months!==0||b.days!==0){const x=b.years*365+b.months*30+b.days;p=this.addDaysIso(p,x),_=this.isoToCalendarDate(p,r),b=lu(s,_),b.years===0&&b.months===0?p=h(b.days):m=this.compareCalendarDates(s,_)}let v=8,T=!1;for(;m;){p=this.addDaysIso(p,m*v);const x=_;_=this.isoToCalendarDate(p,r);const N=m;if(m=this.compareCalendarDates(s,_),m){if(b=lu(s,_),b.years===0&&b.months===0)p=h(b.days),m=0,T=s.day>this.minimumMonthLength(s);else if(N&&m!==N)if(v>1)v/=2;else{if(n==="reject")throw new RangeError(`Can't find ISO date from calendar date: ${JSON.stringify({...i})}`);this.compareCalendarDates(_,x)>0&&(p=this.addDaysIso(p,-1)),T=!0,m=0}}}if(r.set(l,p),d&&r.set(d,p),s.year===void 0||s.month===void 0||s.day===void 0||s.monthCode===void 0||this.hasEra&&(s.era===void 0||s.eraYear===void 0))throw new RangeError("Unexpected missing property");if(!T){const x=JSON.stringify({func:"isoToCalendarDate",isoYear:p.year,isoMonth:p.month,isoDay:p.day,id:this.id});r.set(x,s)}return p}temporalToCalendarDate(e,n){const r={year:f(e,U),month:f(e,B),day:f(e,q)};return this.isoToCalendarDate(r,n)}compareCalendarDates(e,n){const r=Bt(e,[["day"],["month"],["year"]]),i=Bt(n,[["day"],["month"],["year"]]);return r.year!==i.year?us(r.year-i.year):r.month!==i.month?us(r.month-i.month):r.day!==i.day?us(r.day-i.day):0}regulateDate(e,n="constrain",r){const i=this.calendarToIsoDate(e,n,r);return this.isoToCalendarDate(i,r)}addDaysIso(e,n){return ls(e.year,e.month,e.day,0,0,0,n,"constrain")}addDaysCalendar(e,n,r){const i=this.calendarToIsoDate(e,"constrain",r),s=this.addDaysIso(i,n);return this.isoToCalendarDate(s,r)}addMonthsCalendar(e,n,r,i){let s=e;const{day:o}=s;for(let a=0,c=Rw(n);a<c;a++){const{month:l}=s,u=s,d=n<0?-Math.max(o,this.daysInPreviousMonth(s,i)):this.daysInMonth(s,i),p=this.calendarToIsoDate(s,"constrain",i);let h=this.addDaysIso(p,d);if(s=this.isoToCalendarDate(h,i),n>0){const m=this.monthsInYear(u,i);for(;s.month-1!==l%m;)h=this.addDaysIso(h,-1),s=this.isoToCalendarDate(h,i)}s.day!==o&&(s=this.regulateDate({...s,day:o},"constrain",i))}if(r==="reject"&&s.day!==o)throw new RangeError(`Day ${o} does not exist in resulting calendar month`);return s}addCalendar(e,{years:n=0,months:r=0,weeks:i=0,days:s=0},o,a){const{year:c,month:l,day:u}=e,d=this.addMonthsCalendar({year:c+n,month:l,day:u},r,o,a),p=s+i*7;return this.addDaysCalendar(d,p,a)}untilCalendar(e,n,r,i){let s=0,o=0,a=0,c=0;switch(r){case"day":s=this.calendarDaysUntil(e,n,i);break;case"week":{const l=this.calendarDaysUntil(e,n,i);s=l%7,o=(l-s)/7;break}case"month":case"year":{const l=n.year-e.year,u=n.month-e.month,d=n.day-e.day,p=this.compareCalendarDates(n,e);r==="year"&&l&&(c=u*p<0||u===0&&d*p<0?l-p:l);const h=c?this.addCalendar(e,{years:c},"constrain",i):e;let m,_=h;do a+=p,m=_,_=this.addMonthsCalendar(m,p,"constrain",i),_.day!==e.day&&(_=this.regulateDate({..._,day:e.day},"constrain",i));while(this.compareCalendarDates(n,_)*p>=0);a-=p,s=this.calendarDaysUntil(m,n,i);break}}return{years:c,months:a,weeks:o,days:s}}daysInMonth(e,n){const{day:r}=e,i=this.maximumMonthLength(e),s=this.minimumMonthLength(e);if(s===i)return s;const o=r<=i-s?i:s,a=this.calendarToIsoDate(e,"constrain",n),c=this.addDaysIso(a,o),l=this.isoToCalendarDate(c,n),u=this.addDaysIso(c,-l.day);return this.isoToCalendarDate(u,n).day}daysInPreviousMonth(e,n){const{day:r,month:i,year:s}=e;let a={year:i>1?s:s-1,month:i,day:1};const c=i>1?i-1:this.monthsInYear(a,n);a={...a,month:c};const l=this.minimumMonthLength(a),u=this.maximumMonthLength(a);if(l===u)return u;const d=this.calendarToIsoDate(e,"constrain",n),p=this.addDaysIso(d,-r);return this.isoToCalendarDate(p,n).day}startOfCalendarYear(e){return{year:e.year,month:1,day:1}}startOfCalendarMonth(e){return{year:e.year,month:e.month,day:1}}calendarDaysUntil(e,n,r){const i=this.calendarToIsoDate(e,"constrain",r),s=this.calendarToIsoDate(n,"constrain",r);return this.isoDaysUntil(i,s)}isoDaysUntil(e,n){return yf(e.year,e.month,e.day,n.year,n.month,n.day,"day").days}monthDayFromFields(e,n,r){let{year:i,month:s,monthCode:o,day:a,era:c,eraYear:l}=e;if(o===void 0){if(i===void 0&&(c===void 0||l===void 0))throw new TypeError("`monthCode`, `year`, or `era` and `eraYear` is required");({monthCode:o,year:i}=this.adjustCalendarDate({year:i,month:s,monthCode:o,day:a,era:c,eraYear:l},r,n))}let u,d,p,h,m;const _={year:1972,month:1,day:1},{year:b}=this.isoToCalendarDate(_,r);for(let v=0;v<100;v++){const T=this.adjustCalendarDate({day:a,monthCode:o,year:b-v},r),x=this.calendarToIsoDate(T,"constrain",r),N=this.isoToCalendarDate(x,r);if({year:u,month:d,day:p}=x,N.monthCode===o&&N.day===a)return{month:d,day:p,year:u};n==="constrain"&&(h===void 0||N.monthCode===h.monthCode&&N.day>h.day)&&(h=N,m=x)}if(n==="constrain"&&m!==void 0)return m;throw new RangeError(`No recent ${this.id} year with monthCode ${o} and day ${a}`)}}class Ow extends ho{constructor(){super(...arguments),this.id="hebrew",this.calendarType="lunisolar",this.months={Tishri:{leap:1,regular:1,monthCode:"M01",days:30},Heshvan:{leap:2,regular:2,monthCode:"M02",days:{min:29,max:30}},Kislev:{leap:3,regular:3,monthCode:"M03",days:{min:29,max:30}},Tevet:{leap:4,regular:4,monthCode:"M04",days:29},Shevat:{leap:5,regular:5,monthCode:"M05",days:30},Adar:{leap:void 0,regular:6,monthCode:"M06",days:29},"Adar I":{leap:6,regular:void 0,monthCode:"M05L",days:30},"Adar II":{leap:7,regular:void 0,monthCode:"M06",days:29},Nisan:{leap:8,regular:7,monthCode:"M07",days:30},Iyar:{leap:9,regular:8,monthCode:"M08",days:29},Sivan:{leap:10,regular:9,monthCode:"M09",days:30},Tamuz:{leap:11,regular:10,monthCode:"M10",days:29},Av:{leap:12,regular:11,monthCode:"M11",days:30},Elul:{leap:13,regular:12,monthCode:"M12",days:29}},this.hasEra=!1}inLeapYear(e){const{year:n}=e;return(7*n+1)%19<7}monthsInYear(e){return this.inLeapYear(e)?13:12}minimumMonthLength(e){return this.minMaxMonthLength(e,"min")}maximumMonthLength(e){return this.minMaxMonthLength(e,"max")}minMaxMonthLength(e,n){const{month:r,year:i}=e,s=this.getMonthCode(i,r),o=id(this.months).find(c=>c[1].monthCode===s);if(o===void 0)throw new RangeError(`unmatched Hebrew month: ${r}`);const a=o[1].days;return typeof a=="number"?a:a[n]}estimateIsoDate(e){const{year:n}=e;return{year:n-3760,month:1,day:1}}getMonthCode(e,n){return this.inLeapYear({year:e})?n===6?Jr(5,!0):Jr(n<6?n:n-1):Jr(n)}adjustCalendarDate(e,n,r="constrain",i=!1){let{year:s,eraYear:o,month:a,monthCode:c,day:l,monthExtra:u}=e;if(s===void 0&&o!==void 0&&(s=o),o===void 0&&s!==void 0&&(o=s),i){if(u){const p=this.months[u];if(!p)throw new RangeError(`Unrecognized month from formatToParts: ${u}`);a=this.inLeapYear({year:s})?p.leap:p.regular}return c=this.getMonthCode(s,a),{year:s,month:a,day:l,era:void 0,eraYear:o,monthCode:c}}else{if(this.validateCalendarDate(e),a===void 0)if(c.endsWith("L")){if(c!=="M05L")throw new RangeError(`Hebrew leap month must have monthCode M05L, not ${c}`);if(a=6,!this.inLeapYear({year:s})){if(r==="reject")throw new RangeError(`Hebrew monthCode M05L is invalid in year ${s} which is not a leap year`);a=5,l=30,c="M05"}}else{a=sf(c),this.inLeapYear({year:s})&&a>6&&a++;const d=this.monthsInYear({year:s});if(a<1||a>d)throw new RangeError(`Invalid monthCode: ${c}`)}else if(r==="reject"?(Vt(a,1,this.monthsInYear({year:s})),Vt(l,1,this.maximumMonthLength({year:s,month:a}))):(a=In(a,1,this.monthsInYear({year:s})),l=In(l,1,this.maximumMonthLength({year:s,month:a}))),c===void 0)c=this.getMonthCode(s,a);else if(this.getMonthCode(s,a)!==c)throw new RangeError(`monthCode ${c} doesn't correspond to month ${a} in Hebrew year ${s}`);return{...e,day:l,month:a,monthCode:c,year:s,eraYear:o}}}}class po extends ho{constructor(){super(...arguments),this.calendarType="lunar",this.DAYS_PER_ISLAMIC_YEAR=354+11/30,this.DAYS_PER_ISO_YEAR=365.2425,this.constantEra="ah"}inLeapYear(e,n){return this.daysInMonth({year:e.year,month:12,day:1},n)===30}monthsInYear(){return 12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}estimateIsoDate(e){const{year:n}=this.adjustCalendarDate(e);return{year:Dw(n*this.DAYS_PER_ISLAMIC_YEAR/this.DAYS_PER_ISO_YEAR)+622,month:1,day:1}}}class $m extends po{constructor(){super(...arguments),this.id="islamic"}}class kw extends po{constructor(){super(...arguments),this.id="islamic-umalqura"}}class Sw extends po{constructor(){super(...arguments),this.id="islamic-tbla"}}class Aw extends po{constructor(){super(...arguments),this.id="islamic-civil"}}class $w extends po{constructor(){super(...arguments),this.id="islamic-rgsa"}}class jw extends po{constructor(){super(...arguments),this.id="islamicc"}}class Mw extends ho{constructor(){super(...arguments),this.id="persian",this.calendarType="solar",this.constantEra="ap"}inLeapYear(e,n){return $m.prototype.inLeapYear.call(this,e,n)}monthsInYear(){return 12}minimumMonthLength(e){const{month:n}=e;return n===12?29:n<=6?31:30}maximumMonthLength(e){const{month:n}=e;return n===12?30:n<=6?31:30}estimateIsoDate(e){const{year:n}=this.adjustCalendarDate(e);return{year:n+621,month:1,day:1}}}class Cw extends ho{constructor(){super(...arguments),this.id="indian",this.calendarType="solar",this.constantEra="saka",this.months={1:{length:30,month:3,day:22,leap:{length:31,month:3,day:21}},2:{length:31,month:4,day:21},3:{length:31,month:5,day:22},4:{length:31,month:6,day:22},5:{length:31,month:7,day:23},6:{length:31,month:8,day:23},7:{length:30,month:9,day:23},8:{length:30,month:10,day:23},9:{length:30,month:11,day:22},10:{length:30,month:12,day:22},11:{length:30,month:1,nextYear:!0,day:21},12:{length:30,month:2,nextYear:!0,day:20}},this.vulnerableToBceBug=new Date("0000-01-01T00:00Z").toLocaleDateString("en-US-u-ca-indian",{timeZone:"UTC"})!=="10/11/-79 Saka"}inLeapYear(e){return jm(e.year+78)}monthsInYear(){return 12}minimumMonthLength(e){return this.getMonthInfo(e).length}maximumMonthLength(e){return this.getMonthInfo(e).length}getMonthInfo(e){const{month:n}=e;let r=this.months[n];if(r===void 0)throw new RangeError(`Invalid month: ${n}`);return this.inLeapYear(e)&&r.leap&&(r=r.leap),r}estimateIsoDate(e){const n=this.adjustCalendarDate(e),r=this.getMonthInfo(n),i=n.year+78+(r.nextYear?1:0),s=r.month,o=r.day;return ls(i,s,o,0,0,0,n.day-1,"constrain")}checkIcuBugs(e){if(this.vulnerableToBceBug&&e.year<1)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 0001-01-01 (see https://bugs.chromium.org/p/v8/issues/detail?id=10529)`)}}function Lw(t){let e=t;if(e.length===0)throw new RangeError("Invalid era data: eras are required");if(e.length===1&&e[0].reverseOf)throw new RangeError("Invalid era data: anchor era cannot count years backwards");if(e.length===1&&!e[0].name)throw new RangeError("Invalid era data: at least one named era is required");if(e.filter(i=>i.reverseOf!=null).length>1)throw new RangeError("Invalid era data: only one era can count years backwards");let n;e.forEach(i=>{if(i.isAnchor||!i.anchorEpoch&&!i.reverseOf){if(n)throw new RangeError("Invalid era data: cannot have multiple anchor eras");n=i,i.anchorEpoch={year:i.hasYearZero?0:1}}else if(!i.name)throw new RangeError("If era name is blank, it must be the anchor era")}),e=e.filter(i=>i.name),e.forEach(i=>{const{reverseOf:s}=i;if(s){const o=e.find(a=>a.name===s);if(o===void 0)throw new RangeError(`Invalid era data: unmatched reverseOf era: ${s}`);i.reverseOf=o,i.anchorEpoch=o.anchorEpoch,i.isoEpoch=o.isoEpoch}i.anchorEpoch.month===void 0&&(i.anchorEpoch.month=1),i.anchorEpoch.day===void 0&&(i.anchorEpoch.day=1)}),Nw.call(e,(i,s)=>{if(i.reverseOf)return 1;if(s.reverseOf)return-1;if(!i.isoEpoch||!s.isoEpoch)throw new RangeError("Invalid era data: missing ISO epoch");return s.isoEpoch.year-i.isoEpoch.year});const r=e[e.length-1].reverseOf;if(r&&r!==e[e.length-2])throw new RangeError("Invalid era data: invalid reverse-sign era");return e.forEach((i,s)=>{i.genericName=`era${e.length-1-s}`}),{eras:e,anchorEra:n||e[0]}}function jm(t){return t%4===0&&(t%100!==0||t%400===0)}class wa extends ho{constructor(e,n){super(),this.calendarType="solar",this.v8IsVulnerableToJulianBug=new Date("+001001-01-01T00:00Z").toLocaleDateString("en-US-u-ca-japanese",{timeZone:"UTC"}).startsWith("12"),this.calendarIsVulnerableToJulianBug=!1,this.id=e;const{eras:r,anchorEra:i}=Lw(n);this.anchorEra=i,this.eras=r}inLeapYear(e){const{year:n}=this.estimateIsoDate({month:1,day:1,year:e.year});return jm(n)}monthsInYear(){return 12}minimumMonthLength(e){const{month:n}=e;return n===2?this.inLeapYear(e)?29:28:[4,6,9,11].indexOf(n)>=0?30:31}maximumMonthLength(e){return this.minimumMonthLength(e)}completeEraYear(e){const n=(a,c)=>{const l=e[a];if(l!=null&&l!=c)throw new RangeError(`Input ${a} ${l} doesn't match calculated value ${c}`)},r=a=>{let c;const l={...e,year:a},u=this.eras.find((d,p)=>{if(p===this.eras.length-1){if(d.reverseOf){if(a>0)throw new RangeError(`Signed year ${a} is invalid for era ${d.name}`);return c=d.anchorEpoch.year-a,!0}return c=a-d.anchorEpoch.year+(d.hasYearZero?0:1),!0}return this.compareCalendarDates(l,d.anchorEpoch)>=0?(c=a-d.anchorEpoch.year+(d.hasYearZero?0:1),!0):!1});if(!u)throw new RangeError(`Year ${a} was not matched by any era`);return{eraYear:c,era:u.name}};let{year:i,eraYear:s,era:o}=e;if(i!=null)({eraYear:s,era:o}=r(i)),n("era",o),n("eraYear",s);else if(s!=null){const a=o===void 0?void 0:this.eras.find(c=>c.name===o||c.genericName===o);if(!a)throw new RangeError(`Era ${o} (ISO year ${s}) was not matched by any era`);if(s<1&&a.reverseOf)throw new RangeError(`Years in ${o} era must be positive, not ${i}`);a.reverseOf?i=a.anchorEpoch.year-s:i=s+a.anchorEpoch.year-(a.hasYearZero?0:1),n("year",i),{eraYear:s,era:o}=r(i)}else throw new RangeError("Either `year` or `eraYear` and `era` are required");return{...e,year:i,eraYear:s,era:o}}adjustCalendarDate(e,n,r="constrain"){let i=e;const{month:s,monthCode:o}=i;return s===void 0&&(i={...i,month:sf(o)}),this.validateCalendarDate(i),i=this.completeEraYear(i),super.adjustCalendarDate(i,n,r)}estimateIsoDate(e){const n=this.adjustCalendarDate(e),{year:r,month:i,day:s}=n,{anchorEra:o}=this,a=r+o.isoEpoch.year-(o.hasYearZero?0:1);return Cc(a,i,s,"constrain")}checkIcuBugs(e){if(this.calendarIsVulnerableToJulianBug&&this.v8IsVulnerableToJulianBug&&Hr(e.year,e.month,e.day,1582,10,15)<0)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 1582-10-15 (see https://bugs.chromium.org/p/chromium/issues/detail?id=1173158)`)}}class of extends wa{constructor(e,n){super(e,n)}inLeapYear(e){const{year:n}=e;return(n+1)%4===0}monthsInYear(){return 13}minimumMonthLength(e){const{month:n}=e;return n===13?this.inLeapYear(e)?6:5:30}maximumMonthLength(e){return this.minimumMonthLength(e)}}class Pw extends of{constructor(){super("ethioaa",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}}])}}class Uw extends of{constructor(){super("coptic",[{name:"era1",isoEpoch:{year:284,month:8,day:29}},{name:"era0",reverseOf:"era1"}])}}class Fw extends of{constructor(){super("ethiopic",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}},{name:"era1",isoEpoch:{year:8,month:8,day:27},anchorEpoch:{year:5501}}])}}class Bw extends wa{constructor(){super("roc",[{name:"minguo",isoEpoch:{year:1912,month:1,day:1}},{name:"before-roc",reverseOf:"minguo"}]),this.calendarIsVulnerableToJulianBug=!0}}class qw extends wa{constructor(){super("buddhist",[{name:"be",hasYearZero:!0,isoEpoch:{year:-543,month:1,day:1}}]),this.calendarIsVulnerableToJulianBug=!0}}class Yw extends wa{constructor(){super("gregory",[{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}])}reviseIntlEra(e){let{era:n,eraYear:r}=e;return(n==="bc"||n==="b")&&(n="bce"),(n==="ad"||n==="a")&&(n="ce"),{era:n,eraYear:r}}}class zw extends wa{constructor(){super("japanese",[{name:"reiwa",isoEpoch:{year:2019,month:5,day:1},anchorEpoch:{year:2019,month:5,day:1}},{name:"heisei",isoEpoch:{year:1989,month:1,day:8},anchorEpoch:{year:1989,month:1,day:8}},{name:"showa",isoEpoch:{year:1926,month:12,day:25},anchorEpoch:{year:1926,month:12,day:25}},{name:"taisho",isoEpoch:{year:1912,month:7,day:30},anchorEpoch:{year:1912,month:7,day:30}},{name:"meiji",isoEpoch:{year:1868,month:9,day:8},anchorEpoch:{year:1868,month:9,day:8}},{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}]),this.calendarIsVulnerableToJulianBug=!0,this.eraLength="long"}reviseIntlEra(e,n){const{era:r,eraYear:i}=e,{year:s}=n;return this.eras.find(o=>o.name===r)?{era:r,eraYear:i}:s<1?{era:"bce",eraYear:1-s}:{era:"ce",eraYear:s}}}class Mm extends ho{constructor(){super(...arguments),this.calendarType="lunisolar",this.hasEra=!1}inLeapYear(e,n){const r=this.getMonthList(e.year,n);return id(r).length===13}monthsInYear(e,n){return this.inLeapYear(e,n)?13:12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}getMonthList(e,n){if(e===void 0)throw new TypeError("Missing year");const r=JSON.stringify({func:"getMonthList",calendarYear:e,id:this.id}),i=n.get(r);if(i)return i;const s=this.getFormatter(),o=(b,v)=>{const T=Am({isoYear:b,isoMonth:2,isoDay:1}),x=new Date(T);x.setUTCDate(v+1);const N=s.formatToParts(x),D=N.find(j=>j.type==="month").value,O=+N.find(j=>j.type==="day").value;let R=N.find(j=>j.type==="relatedYear");if(R!==void 0)R=+R.value;else throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);return{calendarMonthString:D,calendarDay:O,calendarYearToVerify:R}};let a=17,{calendarMonthString:c,calendarDay:l,calendarYearToVerify:u}=o(e,a);c!=="1"&&(a+=29,{calendarMonthString:c,calendarDay:l}=o(e,a)),a-=l-5;const d={};let p=1,h,m,_=!1;do({calendarMonthString:c,calendarDay:l,calendarYearToVerify:u}=o(e,a)),h&&(d[m].daysInMonth=h+30-l),u!==e?_=!0:(d[c]={monthIndex:p++},a+=30),h=l,m=c;while(!_);return d[m].daysInMonth=h+30-l,n.set(r,d),d}estimateIsoDate(e){const{year:n,month:r}=e;return{year:n,month:r>=12?12:r+1,day:1}}adjustCalendarDate(e,n,r="constrain",i=!1){let{year:s,month:o,monthExtra:a,day:c,monthCode:l,eraYear:u}=e;if(i){if(s=u,a&&a!=="bis")throw new RangeError(`Unexpected leap month suffix: ${a}`);const d=Jr(o,a!==void 0),p=`${o}${a||""}`,m=this.getMonthList(s,n)[p];if(m===void 0)throw new RangeError(`Unmatched month ${p} in Chinese year ${s}`);return o=m.monthIndex,{year:s,month:o,day:c,era:void 0,eraYear:u,monthCode:d}}else{if(this.validateCalendarDate(e),s===void 0&&(s=u),u===void 0&&(u=s),o===void 0){const d=this.getMonthList(s,n);let p=l.replace("L","bis").slice(1);p[0]==="0"&&(p=p.slice(1));let h=d[p];if(o=h&&h.monthIndex,o===void 0&&l.endsWith("L")&&!na.call(["M01L","M12L","M13L"],l)&&r==="constrain"){let m=l.slice(1,-1);m[0]==="0"&&(m=m.slice(1)),h=d[m],h&&({daysInMonth:c,monthIndex:o}=h,l=Jr(m))}if(o===void 0)throw new RangeError(`Unmatched month ${l} in Chinese year ${s}`)}else if(l===void 0){const d=this.getMonthList(s,n),p=id(d),h=p.length;r==="reject"?(Vt(o,1,h),Vt(c,1,this.maximumMonthLength())):(o=In(o,1,h),c=In(c,1,this.maximumMonthLength()));const m=p.find(([,_])=>_.monthIndex===o);if(m===void 0)throw new RangeError(`Invalid month ${o} in Chinese year ${s}`);l=Jr(m[0].replace("bis",""),m[0].indexOf("bis")!==-1)}else{const d=this.getMonthList(s,n);let p=l.replace("L","bis").slice(1);p[0]==="0"&&(p=p.slice(1));const h=d[p];if(!h)throw new RangeError(`Unmatched monthCode ${l} in Chinese year ${s}`);if(o!==h.monthIndex)throw new RangeError(`monthCode ${l} doesn't correspond to month ${o} in Chinese year ${s}`)}return{...e,year:s,eraYear:u,month:o,monthCode:l,day:c}}}}class Gw extends Mm{constructor(){super(...arguments),this.id="chinese"}}class Ww extends Mm{constructor(){super(...arguments),this.id="dangi"}}const Vw={helper:void 0,dateFromFields(t,e,n){const r=Ft(e),i=new Ge,s=Bt(t,[["day"],["era",void 0],["eraYear",void 0],["month",void 0],["monthCode",void 0],["year",void 0]]),{year:o,month:a,day:c}=this.helper.calendarToIsoDate(s,r,i),l=nr(o,a,c,n);return i.setObject(l),l},yearMonthFromFields(t,e,n){const r=Ft(e),i=new Ge,s=Bt(t,[["era",void 0],["eraYear",void 0],["month",void 0],["monthCode",void 0],["year",void 0]]),{year:o,month:a,day:c}=this.helper.calendarToIsoDate({...s,day:1},r,i),l=ua(o,a,n,c);return i.setObject(l),l},monthDayFromFields(t,e,n){const r=Ft(e),i=new Ge,s=Bt(t,[["day"],["era",void 0],["eraYear",void 0],["month",void 0],["monthCode",void 0],["year",void 0]]),{year:o,month:a,day:c}=this.helper.monthDayFromFields(s,r,i),l=la(a,c,n,o);return i.setObject(l),l},fields(t){let e=t;return na.call(e,"year")&&(e=[...e,"era","eraYear"]),e},mergeFields(t,e){const n={...t},r={...e},{month:i,monthCode:s,year:o,era:a,eraYear:c,...l}=n,{month:u,monthCode:d,year:p,era:h,eraYear:m}=r;return u===void 0&&d===void 0&&(l.month=i,l.monthCode=s),p===void 0&&h===void 0&&m===void 0&&(l.year=o),{...l,...r}},dateAdd(t,e,n,r,i,s,o){const a=Ge.getCacheForObject(t),c=this.helper.temporalToCalendarDate(t,a),l=this.helper.addCalendar(c,{years:e,months:n,weeks:r,days:i},s,a),u=this.helper.calendarToIsoDate(l,"constrain",a),{year:d,month:p,day:h}=u,m=nr(d,p,h,o);return new Ge(a).setObject(m),m},dateUntil(t,e,n){const r=Ge.getCacheForObject(t),i=Ge.getCacheForObject(e),s=this.helper.temporalToCalendarDate(t,r),o=this.helper.temporalToCalendarDate(e,i);return this.helper.untilCalendar(s,o,n,r)},year(t){const e=Ge.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,e).year},month(t){const e=Ge.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,e).month},day(t){const e=Ge.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,e).day},era(t){if(!this.helper.hasEra)return;const e=Ge.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,e).era},eraYear(t){if(!this.helper.hasEra)return;const e=Ge.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,e).eraYear},monthCode(t){const e=Ge.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,e).monthCode},dayOfWeek(t){return ze.iso8601.dayOfWeek(t)},dayOfYear(t){const e=Ge.getCacheForObject(t),n=this.helper.isoToCalendarDate(t,e),r=this.helper.startOfCalendarYear(n);return this.helper.calendarDaysUntil(r,n,e)+1},weekOfYear(t){return ze.iso8601.weekOfYear(t)},daysInWeek(t){return ze.iso8601.daysInWeek(t)},daysInMonth(t){const e=Ge.getCacheForObject(t),n=this.helper.temporalToCalendarDate(t,e),r=this.helper.maximumMonthLength(n),i=this.helper.minimumMonthLength(n);if(r===i)return r;const s=this.helper.startOfCalendarMonth(n),o=this.helper.addMonthsCalendar(s,1,"constrain",e);return this.helper.calendarDaysUntil(s,o,e)},daysInYear(t){let e=t;At(e,U)||(e=De(e));const n=Ge.getCacheForObject(e),r=this.helper.temporalToCalendarDate(e,n),i=this.helper.startOfCalendarYear(r),s=this.helper.addCalendar(i,{years:1},"constrain",n);return this.helper.calendarDaysUntil(i,s,n)},monthsInYear(t){const e=Ge.getCacheForObject(t),n=this.helper.temporalToCalendarDate(t,e);return this.helper.monthsInYear(n,e)},inLeapYear(t){let e=t;At(e,U)||(e=De(e));const n=Ge.getCacheForObject(e),r=this.helper.temporalToCalendarDate(e,n);return this.helper.inLeapYear(r,n)}};for(const t of[Ow,Mw,Fw,Pw,Uw,Gw,Ww,Bw,Cw,qw,Yw,zw,$m,kw,Sw,Aw,$w,jw]){const e=new t;ze[e.id]={...Vw,helper:e}}const Hw=Object.keys(ze);function Cm(t){return na.call(Hw,t)}const Qh=/\.[-A-Za-z_]|\.\.[-A-Za-z._]{1,12}|\.[-A-Za-z_][-A-Za-z._]{0,12}|[A-Za-z_][-A-Za-z._]{0,13}/,Zw=/(?:[+\u2212-][0-2][0-9](?::?[0-5][0-9](?::?[0-5][0-9](?:[.,]\d{1,9})?)?)?)/,Qw=new RegExp(`(?:(?:${Qh.source})(?:\\/(?:${Qh.source}))*|Etc/GMT[-+]\\d{1,2}|${Zw.source})`),Xh=/[A-Za-z0-9]{3,8}/,Xw=new RegExp(`(?:${Xh.source}(?:-${Xh.source})*)`),Lm=/(?:[+\u2212-]\d{6}|\d{4})/,Ac=/(?:0[1-9]|1[0-2])/,sd=/(?:0[1-9]|[12]\d|3[01])/,Kw=new RegExp(`(${Lm.source})(?:-(${Ac.source})-(${sd.source})|(${Ac.source})(${sd.source}))`),Pm=/(\d{2})(?::(\d{2})(?::(\d{2})(?:[.,](\d{1,9}))?)?|(\d{2})(?:(\d{2})(?:[.,](\d{1,9}))?)?)?/,Um=/([+\u2212-])([01][0-9]|2[0-3])(?::?([0-5][0-9])(?::?([0-5][0-9])(?:[.,](\d{1,9}))?)?)?/,Fm=new RegExp(`(?:([zZ])|(?:${Um.source})?)(?:\\[(${Qw.source})\\])?`),Bm=new RegExp(`\\[u-ca=(${Xw.source})\\]`),Jw=new RegExp(`^${Kw.source}(?:(?:T|\\s+)${Pm.source})?${Fm.source}(?:${Bm.source})?$`,"i"),ey=new RegExp(`^T?${Pm.source}(?:${Fm.source})?(?:${Bm.source})?$`,"i"),ty=new RegExp(`^(${Lm.source})-?(${Ac.source})$`),ny=new RegExp(`^(?:--)?(${Ac.source})-?(${sd.source})$`),uu=/(\d+)(?:[.,](\d{1,9}))?/,ry=/(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)W)?(?:(\d+)D)?/,iy=new RegExp(`(?:${uu.source}H)?(?:${uu.source}M)?(?:${uu.source}S)?`),sy=new RegExp(`^([+\u2212-])?P${ry.source}(?:T(?!$)${iy.source})?$`,"i"),qm=Array.prototype.push,Ym=globalThis.Intl.DateTimeFormat,oy=Math.min,ay=Math.max,xe=Math.abs,St=Math.floor,ra=Math.sign,qs=Math.trunc,ya=Number.isNaN,Ut=Number.isFinite,cy=Number,ba=String,ly=Number.MAX_SAFE_INTEGER,ke=Object.create,uy=Object.defineProperty,dy=Object.is,af=Reflect.apply,at=g.BigInt(0),cf=g.BigInt(1),os=g.BigInt(60),Ne=g.BigInt(1e3),Fn=g.BigInt(1e6),ei=g.BigInt(1e9),fy=g.BigInt(-1),hy=86400,ki=g.multiply(g.BigInt(hy),ei),ia=g.multiply(g.BigInt(-86400),g.BigInt(1e17)),sa=g.multiply(g.BigInt(86400),g.BigInt(1e17)),$c=-271821,jc=275760,zm=g.multiply(g.BigInt(-388152),g.BigInt(1e13)),py=g.multiply(ki,g.BigInt(366*10)),Gm=g.multiply(ki,g.BigInt(366*1)),Wm=g.multiply(ki,g.BigInt(2*7));function Vm(t){if(typeof t!="number"||!Ut(t))return!1;const e=xe(t);return St(e)===e}function je(t){return typeof t=="object"&&t!==null||typeof t=="function"}function oa(t){if(typeof t=="bigint")throw new TypeError("Cannot convert BigInt to number");return cy(t)}function Re(t){const e=oa(t);if(ya(e))return 0;const n=qs(e);return e===0?0:n}function H(t){if(typeof t=="symbol")throw new TypeError("Cannot convert a Symbol value to a String");return ba(t)}function Oe(t){const e=Re(t);if(!Ut(e))throw new RangeError("infinity is out of range");return e}function ro(t,e){const n=Re(t);if(!Ut(n))throw new RangeError("infinity is out of range");if(n<1)throw e!==void 0?new RangeError(`property '${e}' cannot be a a number less than one`):new RangeError("Cannot convert a number less than one to a positive integer");return n}function Ct(t){const e=oa(t);if(ya(e))return 0;if(!Ut(e))throw new RangeError("infinity is out of range");if(!Vm(e))throw new RangeError(`unsupported fractional value ${e}`);return Re(e)}function Ot(t,e){const n=g.divide(t,e),r=g.remainder(t,e);return{quotient:n,remainder:r}}function lf(t){return g.lessThan(t,at)?g.multiply(t,fy):t}const Mc=new Map([["year",Oe],["month",ro],["monthCode",H],["day",ro],["hour",Oe],["minute",Oe],["second",Oe],["millisecond",Oe],["microsecond",Oe],["nanosecond",Oe],["years",Ct],["months",Ct],["weeks",Ct],["days",Ct],["hours",Ct],["minutes",Ct],["seconds",Ct],["milliseconds",Ct],["microseconds",Ct],["nanoseconds",Ct],["era",H],["eraYear",Re],["offset",H]]),io=["year","month","week","day","hour","minute","second","millisecond","microsecond","nanosecond"],ol=[["years","year"],["months","month"],["weeks","week"],["days","day"],["hours","hour"],["minutes","minute"],["seconds","second"],["milliseconds","millisecond"],["microseconds","microsecond"],["nanoseconds","nanosecond"]],Kh=new Map;function Hm(t){let e=Kh.get(t);return e===void 0&&(e=new Ym("en-us",{timeZone:ba(t),hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),Kh.set(t,e)),e}function It(t){return At(t,W)&&!At(t,Te,S)}function Tr(t){return At(t,wi)}function it(t){return At(t,st)}function Qe(t){return At(t,Qt,kt,Xt,Kt,Jt,en,tn,nn,rn)}function he(t){return At(t,Dm)}function Xe(t){return At(t,Z,Q,X,K,J,ee)&&!At(t,U,B,q)}function oe(t){return At(t,U,B,q,Z,Q,X,K,J,ee)}function Ie(t){return At(t,Om)}function Mt(t){return At(t,km)}function Y(t){return At(t,W,Te,S)}function mo(t){if(At(t,S)||At(t,Te))throw new TypeError("with() does not support a calendar or timeZone property");if(t.calendar!==void 0)throw new TypeError("with() does not support a calendar property");if(t.timeZone!==void 0)throw new TypeError("with() does not support a timeZone property")}function Zm(t){let{ianaName:e,offset:n,z:r}=by(t);return e||(r?"UTC":n)}function va(t,e){return e==="never"||e==="auto"&&t==="iso8601"?"":`[u-ca=${t}]`}function Lr(t){const e=Jw.exec(t);if(!e)throw new RangeError(`invalid ISO 8601 string: ${t}`);let n=e[1];if(n[0]==="\u2212"&&(n=`-${n.slice(1)}`),n==="-000000")throw new RangeError(`invalid ISO 8601 string: ${t}`);const r=Re(n),i=Re(e[2]||e[4]),s=Re(e[3]||e[5]),o=Re(e[6]),a=e[6]!==void 0,c=Re(e[7]||e[10]);let l=Re(e[8]||e[11]);l===60&&(l=59);const u=(e[9]||e[12])+"000000000",d=Re(u.slice(0,3)),p=Re(u.slice(3,6)),h=Re(u.slice(6,9));let m,_=!1;if(e[13])m=void 0,_=!0;else if(e[14]&&e[15]){const T=e[14]==="-"||e[14]==="\u2212"?"-":"+",x=e[15]||"00",N=e[16]||"00",D=e[17]||"00";let O=e[18]||"0";if(m=`${T}${x}:${N}`,+O){for(;O.endsWith("0");)O=O.slice(0,-1);m+=`:${D}.${O}`}else+D&&(m+=`:${D}`);m==="-00:00"&&(m="+00:00")}let b=e[19];if(b)try{b=gf(b).toString()}catch{}const v=e[20];return{year:r,month:i,day:s,hasTime:a,hour:o,minute:c,second:l,millisecond:d,microsecond:p,nanosecond:h,ianaName:b,offset:m,z:_,calendar:v}}function my(t){const e=Lr(t);if(!e.z&&!e.offset)throw new RangeError("Temporal.Instant requires a time zone offset");return e}function gy(t){const e=Lr(t);if(!e.ianaName)throw new RangeError("Temporal.ZonedDateTime requires a time zone ID in brackets");return e}function _y(t){return Lr(t)}function wy(t){return Lr(t)}function yy(t){const e=ey.exec(t);let n,r,i,s,o,a,c;if(e){n=Re(e[1]),r=Re(e[2]||e[5]),i=Re(e[3]||e[6]),i===60&&(i=59);const l=(e[4]||e[7])+"000000000";s=Re(l.slice(0,3)),o=Re(l.slice(3,6)),a=Re(l.slice(6,9)),c=e[15]}else{let l,u;if({hasTime:u,hour:n,minute:r,second:i,millisecond:s,microsecond:o,nanosecond:a,calendar:c,z:l}=Lr(t),!u)throw new RangeError(`time is missing in string: ${t}`);if(l)throw new RangeError("Z designator not supported for PlainTime")}if(/[tT ][0-9][0-9]/.test(t))return{hour:n,minute:r,second:i,millisecond:s,microsecond:o,nanosecond:a,calendar:c};try{const{month:l,day:u}=Xm(t);Ar(1972,l,u)}catch{try{const{year:l,month:u}=Qm(t);Ar(l,u,1)}catch{return{hour:n,minute:r,second:i,millisecond:s,microsecond:o,nanosecond:a,calendar:c}}}throw new RangeError(`invalid ISO 8601 time-only string ${t}; may need a T prefix`)}function Qm(t){const e=ty.exec(t);let n,r,i,s;if(e){let o=e[1];if(o[0]==="\u2212"&&(o=`-${o.slice(1)}`),o==="-000000")throw new RangeError(`invalid ISO 8601 string: ${t}`);n=Re(o),r=Re(e[2]),i=e[3]}else{let o;if({year:n,month:r,calendar:i,day:s,z:o}=Lr(t),o)throw new RangeError("Z designator not supported for PlainYearMonth")}return{year:n,month:r,calendar:i,referenceISODay:s}}function Xm(t){const e=ny.exec(t);let n,r,i,s;if(e)n=Re(e[1]),r=Re(e[2]);else{let o;if({month:n,day:r,calendar:i,year:s,z:o}=Lr(t),o)throw new RangeError("Z designator not supported for PlainMonthDay")}return{month:n,day:r,calendar:i,referenceISOYear:s}}function by(t){try{let e=gf(t);if(e)return e=e.toString(),Ys(e)?{offset:e}:{ianaName:e}}catch{}try{const e=Lr(t);if(e.z||e.offset||e.ianaName)return e}catch{}throw new RangeError(`Invalid time zone: ${t}`)}function Km(t){const e=sy.exec(t);if(!e)throw new RangeError(`invalid duration: ${t}`);if(e.slice(2).every(b=>b===void 0))throw new RangeError(`invalid duration: ${t}`);const n=e[1]==="-"||e[1]==="\u2212"?-1:1,r=Re(e[2])*n,i=Re(e[3])*n,s=Re(e[4])*n,o=Re(e[5])*n,a=Re(e[6])*n;let c=e[7],l=Re(e[8])*n,u=e[9],d=Re(e[10])*n;const p=e[11]+"000000000";let h=Re(p.slice(0,3))*n,m=Re(p.slice(3,6))*n,_=Re(p.slice(6,9))*n;return c=c?n*Re(c)/10**c.length:0,u=u?n*Re(u)/10**u.length:0,{minutes:l,seconds:d,milliseconds:h,microseconds:m,nanoseconds:_}=Ey(c,l,u,d,h,m,_),{years:r,months:i,weeks:s,days:o,hours:a,minutes:l,seconds:d,milliseconds:h,microseconds:m,nanoseconds:_}}function vy(t){const{year:e,month:n,day:r,hour:i,minute:s,second:o,millisecond:a,microsecond:c,nanosecond:l,offset:u,z:d}=my(t),p=Si(e,n,r,i,s,o,a,c,l);if(p===null)throw new RangeError("DateTime outside of supported range");const h=d?0:ps(u);return g.subtract(p,g.BigInt(h))}function Cc(t,e,n,r){let i=t,s=e,o=n;switch(r){case"reject":Ar(i,s,o);break;case"constrain":({year:i,month:s,day:o}=pg(i,s,o));break}return{year:i,month:s,day:o}}function zo(t,e,n,r,i,s,o){let a=t,c=e,l=n,u=r,d=i,p=s;switch(o){case"reject":gl(a,c,l,u,d,p);break;case"constrain":({hour:a,minute:c,second:l,millisecond:u,microsecond:d,nanosecond:p}=jy(a,c,l,u,d,p));break}return{hour:a,minute:c,second:l,millisecond:u,microsecond:d,nanosecond:p}}function Ty(t,e,n){let r=t,i=e;const s=1;switch(n){case"reject":Ar(r,i,s);break;case"constrain":({year:r,month:i}=pg(r,i));break}return{year:r,month:i}}function Ey(t,e,n,r,i,s,o){let a=t,c=e,l=n,u=r,d=i,p=s,h=o;if(a!==0){[c,l,u,d,p,h].forEach(_=>{if(_!==0)throw new RangeError("only the smallest unit can be fractional")});const m=a*60;c=qs(m),l=m%1}if(l!==0){[u,d,p,h].forEach(b=>{if(b!==0)throw new RangeError("only the smallest unit can be fractional")});const m=l*60;u=qs(m);const _=m%1;if(_!==0){const b=_*1e3;d=qs(b);const v=b%1;if(v!==0){const T=v*1e3;p=qs(T);const x=T%1;if(x!==0){const N=x*1e3;h=qs(N)}}}}return{minutes:c,seconds:u,milliseconds:d,microseconds:p,nanoseconds:h}}function Jm(t){if(Qe(t))return{years:f(t,Qt),months:f(t,kt),weeks:f(t,ln),days:f(t,Xt),hours:f(t,Kt),minutes:f(t,Jt),seconds:f(t,en),milliseconds:f(t,tn),microseconds:f(t,nn),nanoseconds:f(t,rn)};const e=Ci(t,["days","hours","microseconds","milliseconds","minutes","months","nanoseconds","seconds","weeks","years"]);if(!e)throw new TypeError("invalid duration-like");const{years:n=0,months:r=0,weeks:i=0,days:s=0,hours:o=0,minutes:a=0,seconds:c=0,milliseconds:l=0,microseconds:u=0,nanoseconds:d=0}=e;return{years:n,months:r,weeks:i,days:s,hours:o,minutes:a,seconds:c,milliseconds:l,microseconds:u,nanoseconds:d}}function er(t,e=[]){let n;if(je(t))n=Jm(t);else{const h=H(t);n=Km(h)}const{years:r,months:i,weeks:s,days:o,hours:a,minutes:c,seconds:l,milliseconds:u,microseconds:d,nanoseconds:p}=n;wg(r,i,s,o,a,c,l,u,d,p);for(const h of e)if(n[h]!==0)throw new RangeError(`Duration field ${h} not supported by Temporal.Instant. Try Temporal.ZonedDateTime instead.`);return n}function Ft(t){return Pr(t,"overflow",["constrain","reject"],"constrain")}function aa(t){return Pr(t,"disambiguation",["compatible","earlier","later","reject"],"compatible")}function Nt(t,e){return Pr(t,"roundingMode",["ceil","floor","trunc","halfExpand"],e)}function Ta(t){switch(t){case"ceil":return"floor";case"floor":return"ceil";default:return t}}function od(t,e){return Pr(t,"offset",["prefer","use","ignore","reject"],e)}function Ea(t){return Pr(t,"calendarName",["auto","always","never"],"auto")}function xy(t){return Pr(t,"timeZoneName",["auto","never"],"auto")}function Iy(t){return Pr(t,"offset",["auto","never"],"auto")}function Bn(t,e,n){let r=1/0;e!==void 0&&(r=e),!n&&e!==void 0&&(r=e>1?e-1:1);const i=Ly(t,"roundingIncrement",1,r,1);if(e!==void 0&&e%i!==0)throw new RangeError(`Rounding increment must divide evenly into ${e}`);return i}function ca(t,e){return Bn(t,{year:void 0,month:void 0,week:void 0,day:void 0,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[e],!1)}function xa(t){switch(cn(t,void 0,["year","month","week","day","hour"])){case"minute":return{precision:"minute",unit:"minute",increment:1};case"second":return{precision:0,unit:"second",increment:1};case"millisecond":return{precision:3,unit:"millisecond",increment:1};case"microsecond":return{precision:6,unit:"microsecond",increment:1};case"nanosecond":return{precision:9,unit:"nanosecond",increment:1}}let n=t.fractionalSecondDigits;if(n===void 0&&(n="auto"),typeof n!="number"){const i=H(n);if(i==="auto")return{precision:"auto",unit:"nanosecond",increment:1};throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${i}`)}if(ya(n)||n<0||n>9)throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${n}`);const r=St(n);switch(r){case 0:return{precision:r,unit:"second",increment:1};case 1:case 2:case 3:return{precision:r,unit:"millisecond",increment:10**(3-r)};case 4:case 5:case 6:return{precision:r,unit:"microsecond",increment:10**(6-r)};case 7:case 8:case 9:return{precision:r,unit:"nanosecond",increment:10**(9-r)};default:throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${n}`)}}function $n(t,e,n=[],r){const i=new Map(ol.filter(([,a])=>!n.includes(a))),s=new Set(io);for(const a of n)s.delete(a);const o=Pr(t,"largestUnit",["auto",...s,...i.keys()],e);return o==="auto"&&r!==void 0?r:i.has(o)?i.get(o):o}function cn(t,e,n=[]){const r=new Map(ol.filter(([,o])=>!n.includes(o))),i=new Set(io);for(const o of n)i.delete(o);const s=Pr(t,"smallestUnit",[...i,...r.keys()],e);return r.has(s)?r.get(s):s}function Ny(t){const e=new Map(ol),n=Pr(t,"unit",[...e.values(),...e.keys()],void 0);return e.has(n)?e.get(n):n}function Oo(t){const e=t.relativeTo;if(e===void 0)return e;let n="option",r=!1,i,s,o,a,c,l,u,d,p,h,m,_;if(je(e)){if(Y(e)||he(e))return e;if(oe(e))return cs(e);h=go(e);const b=Je(h,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),v=Lc(e,b),T=ke(null);T.overflow="constrain",{year:i,month:s,day:o,hour:a,minute:c,second:l,millisecond:u,microsecond:d,nanosecond:p}=Ia(h,v,T),_=e.offset,_===void 0&&(n="wall"),m=e.timeZone}else{let b,v;({year:i,month:s,day:o,hour:a,minute:c,second:l,millisecond:u,microsecond:d,nanosecond:p,calendar:h,ianaName:b,offset:_,z:v}=Lr(H(e))),b&&(m=b),v?n="exact":_||(n="wall"),h||(h=pt()),h=Yt(h),r=!0}if(m){m=dn(m);let b=0;n==="option"&&(b=ps(H(_)));const v=Pc(i,s,o,a,c,l,u,d,p,n,b,m,"compatible","reject",r);return Lt(v,m,h)}return nr(i,s,o,h)}function qn(t,e){if(io.indexOf(t)>io.indexOf(e))throw new RangeError(`largestUnit ${t} cannot be smaller than smallestUnit ${e}`)}function ad(t,e,n,r,i,s,o,a,c,l){const u=new Map(ol);for(const[d,p]of[["years",t],["months",e],["weeks",n],["days",r],["hours",i],["minutes",s],["seconds",o],["milliseconds",a],["microseconds",c],["nanoseconds",l]])if(p!==0)return u.get(d);return"nanosecond"}function tr(t,e){return io.indexOf(t)>io.indexOf(e)?e:t}function Ci(t,e){const n=t,r=e;let i=!1,s={};for(const o of r){const a=n[o];a!==void 0&&(i=!0,Mc.has(o)?s[o]=Mc.get(o)(a):s[o]=a)}return i?s:!1}function Bt(t,e){const n=t,r=e,i={};let s=!1;for(const o of r){const[a,c]=o;let l=n[a];if(l===void 0){if(o.length===1)throw new TypeError(`required property '${a}' missing or undefined`);l=c}else s=!0,Mc.has(a)&&(l=Mc.get(a)(l));i[a]=l}if(!s)throw new TypeError("no supported properties found");if(i.era===void 0!=(i.eraYear===void 0))throw new RangeError("properties 'era' and 'eraYear' must be provided together");return i}function cd(t,e){const n=[["day",void 0],["month",void 0],["monthCode",void 0],["year",void 0]];return e.forEach(r=>{n.some(([i])=>i===r)||n.push([r,void 0])}),Bt(t,n)}function Lc(t,e){const n=[["day",void 0],["hour",0],["microsecond",0],["millisecond",0],["minute",0],["month",void 0],["monthCode",void 0],["nanosecond",0],["second",0],["year",void 0]];return e.forEach(r=>{n.some(([i])=>i===r)||n.push([r,void 0])}),Bt(t,n)}function as(t,e){const n=[["day",void 0],["month",void 0],["monthCode",void 0],["year",void 0]];return e.forEach(r=>{n.some(([i])=>i===r)||n.push([r,void 0])}),Bt(t,n)}function uf(t){return Bt(t,[["hour",0],["microsecond",0],["millisecond",0],["minute",0],["nanosecond",0],["second",0]])}function vn(t,e){const n=[["month",void 0],["monthCode",void 0],["year",void 0]];return e.forEach(r=>{n.some(([i])=>i===r)||n.push([r,void 0])}),Bt(t,n)}function Ry(t,e){const n=[["day",void 0],["hour",0],["microsecond",0],["millisecond",0],["minute",0],["month",void 0],["monthCode",void 0],["nanosecond",0],["second",0],["year",void 0],["offset",void 0],["timeZone"]];return e.forEach(r=>{n.some(([i])=>i===r)||n.push([r,void 0])}),Bt(t,n)}function De(t,e=ke(null)){let n=t;if(je(n)){if(he(n))return n;if(Y(n)&&(n=jn(f(n,Te),f(n,Wt),f(n,S))),oe(n))return nr(f(n,U),f(n,B),f(n,q),f(n,S));const l=go(n),u=Je(l,["day","month","monthCode","year"]),d=cd(n,u);return fr(l,d,e)}Ft(e);const{year:r,month:i,day:s,calendar:o,z:a}=wy(H(n));if(a)throw new RangeError("Z designator not supported for PlainDate");const c=V("%Temporal.PlainDate%");return new c(r,i,s,o)}function Ia(t,e,n){let{hour:r,minute:i,second:s,millisecond:o,microsecond:a,nanosecond:c}=uf(e);const l=Ft(n),u=fr(t,e,n),d=f(u,U),p=f(u,B),h=f(u,q);return{hour:r,minute:i,second:s,millisecond:o,microsecond:a,nanosecond:c}=zo(r,i,s,o,a,c,l),{year:d,month:p,day:h,hour:r,minute:i,second:s,millisecond:o,microsecond:a,nanosecond:c}}function yi(t,e=ke(null)){let n,r,i,s,o,a,c,l,u,d;if(je(t)){if(oe(t))return t;if(Y(t))return jn(f(t,Te),f(t,Wt),f(t,S));if(he(t))return gn(f(t,U),f(t,B),f(t,q),0,0,0,0,0,0,f(t,S));d=go(t);const p=Je(d,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),h=Lc(t,p);({year:n,month:r,day:i,hour:s,minute:o,second:a,millisecond:c,microsecond:l,nanosecond:u}=Ia(d,h,e))}else{Ft(e);let p;if({year:n,month:r,day:i,hour:s,minute:o,second:a,millisecond:c,microsecond:l,nanosecond:u,calendar:d,z:p}=_y(H(t)),p)throw new RangeError("Z designator not supported for PlainDateTime");gg(n,r,i,s,o,a,c,l,u),d===void 0&&(d=pt()),d=Yt(d)}return gn(n,r,i,s,o,a,c,l,u,d)}function Ws(t){let e,n,r,i,s,o,a,c,l,u;if(je(t)){if(Qe(t))return t;({years:e,months:n,weeks:r,days:i,hours:s,minutes:o,seconds:a,milliseconds:c,microseconds:l,nanoseconds:u}=Jm(t))}else({years:e,months:n,weeks:r,days:i,hours:s,minutes:o,seconds:a,milliseconds:c,microseconds:l,nanoseconds:u}=Km(H(t)));const d=V("%Temporal.Duration%");return new d(e,n,r,i,s,o,a,c,l,u)}function hr(t){if(It(t))return t;if(Y(t)){const r=V("%Temporal.Instant%");return new r(f(t,W))}const e=vy(H(t)),n=V("%Temporal.Instant%");return new n(e)}function Jh(t,e=ke(null)){if(je(t)){if(Mt(t))return t;let l,u;if(At(t,S))l=f(t,S),u=!1;else{let h=t.calendar;u=h===void 0,h===void 0&&(h=pt()),l=Yt(h)}const d=Je(l,["day","month","monthCode","year"]),p=as(t,d);return u&&p.month!==void 0&&p.monthCode===void 0&&p.year===void 0&&(p.year=1972),so(l,p,e)}Ft(e);let{month:n,day:r,referenceISOYear:i,calendar:s}=Xm(H(t)),o=s;if(o===void 0&&(o=pt()),o=Yt(o),i===void 0)return Ar(1972,n,r),la(n,r,o);const a=la(n,r,o,i),c=ke(null);return so(o,a,c)}function Nr(t,e="constrain"){let n=t,r,i,s,o,a,c,l;if(je(n)){if(Xe(n))return n;if(Y(n)&&(n=jn(f(n,Te),f(n,Wt),f(n,S))),oe(n)){const d=V("%Temporal.PlainTime%");return new d(f(n,Z),f(n,Q),f(n,X),f(n,K),f(n,J),f(n,ee))}if(l=go(n),H(l)!=="iso8601")throw new RangeError("PlainTime can only have iso8601 calendar");({hour:r,minute:i,second:s,millisecond:o,microsecond:a,nanosecond:c}=uf(n)),{hour:r,minute:i,second:s,millisecond:o,microsecond:a,nanosecond:c}=zo(r,i,s,o,a,c,e)}else if({hour:r,minute:i,second:s,millisecond:o,microsecond:a,nanosecond:c,calendar:l}=yy(H(n)),gl(r,i,s,o,a,c),l!==void 0&&l!=="iso8601")throw new RangeError("PlainTime can only have iso8601 calendar");const u=V("%Temporal.PlainTime%");return new u(r,i,s,o,a,c)}function Ms(t,e=ke(null)){if(je(t)){if(Ie(t))return t;const l=go(t),u=Je(l,["month","monthCode","year"]),d=vn(t,u);return Ri(l,d,e)}Ft(e);let{year:n,month:r,referenceISODay:i,calendar:s}=Qm(H(t)),o=s;if(o===void 0&&(o=pt()),o=Yt(o),i===void 0)return Ar(n,r,1),ua(n,r,o);const a=ua(n,r,o,i),c=ke(null);return Ri(o,a,c)}function Pc(t,e,n,r,i,s,o,a,c,l,u,d,p,h,m){const _=V("%Temporal.PlainDateTime%"),b=new _(t,e,n,r,i,s,o,a,c);if(l==="wall"||h==="ignore"){const x=un(d,b,p);return f(x,W)}if(l==="exact"||h==="use"){const x=Si(t,e,n,r,i,s,o,a,c);if(x===null)throw new RangeError("ZonedDateTime outside of supported range");return g.subtract(x,g.BigInt(u))}const v=Uc(d,b);for(const x of v){const N=_r(d,x),D=g.toNumber(Tn(g.BigInt(N),6e10,"halfExpand"));if(N===u||m&&D===u)return f(x,W)}if(h==="reject"){const x=_f(u),N=Tr(d)?f(d,wi):"time zone";throw new RangeError(`Offset ${x} is invalid for ${b.toString()} in ${N}`)}const T=og(v,d,b,p);return f(T,W)}function Cs(t,e=ke(null)){let n,r,i,s,o,a,c,l,u,d,p,h,m=!1,_="option";if(je(t)){if(Y(t))return t;h=go(t);const N=Je(h,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),D=Ry(t,N);({year:n,month:r,day:i,hour:s,minute:o,second:a,millisecond:c,microsecond:l,nanosecond:u}=Ia(h,D,e)),d=dn(D.timeZone),p=D.offset,p===void 0?_="wall":p=H(p)}else{Ft(e);let N,D;if({year:n,month:r,day:i,hour:s,minute:o,second:a,millisecond:c,microsecond:l,nanosecond:u,ianaName:N,offset:p,z:D,calendar:h}=gy(H(t)),!N)throw new RangeError("time zone ID required in brackets");D?_="exact":p||(_="wall");const O=V("%Temporal.TimeZone%");d=new O(N),h||(h=pt()),h=Yt(h),m=!0}let b=0;_==="option"&&(b=ps(p));const v=aa(e),T=od(e,"reject"),x=Pc(n,r,i,s,o,a,c,l,u,_,b,d,v,T,m);return Lt(x,d,h)}function eg(t,e,n,r,i){Ar(e,n,r),mg(e,n,r),Cr(t),ae(t,U,e),ae(t,B,n),ae(t,q,r),ae(t,S,i),ae(t,Dm,!0),uy(t,"_repr_",{value:`${t[Symbol.toStringTag]} <${ud(t)}>`,writable:!1,enumerable:!1,configurable:!1})}function nr(t,e,n,r=pt()){const i=V("%Temporal.PlainDate%"),s=ke(i.prototype);return eg(s,t,e,n,r),s}function tg(t,e,n,r,i,s,o,a,c,l,u){gg(e,n,r,i,s,o,a,c,l),_g(e,n,r,i,s,o,a,c,l),Cr(t),ae(t,U,e),ae(t,B,n),ae(t,q,r),ae(t,Z,i),ae(t,Q,s),ae(t,X,o),ae(t,K,a),ae(t,J,c),ae(t,ee,l),ae(t,S,u),Object.defineProperty(t,"_repr_",{value:`${t[Symbol.toStringTag]} <${dd(t,"auto")}>`,writable:!1,enumerable:!1,configurable:!1})}function gn(t,e,n,r,i,s,o,a,c,l=pt()){const u=V("%Temporal.PlainDateTime%"),d=ke(u.prototype);return tg(d,t,e,n,r,i,s,o,a,c,l),d}function ng(t,e,n,r,i){Ar(i,e,n),mg(i,e,n),Cr(t),ae(t,B,e),ae(t,q,n),ae(t,U,i),ae(t,S,r),ae(t,km,!0),Object.defineProperty(t,"_repr_",{value:`${t[Symbol.toStringTag]} <${fd(t)}>`,writable:!1,enumerable:!1,configurable:!1})}function la(t,e,n=pt(),r=1972){const i=V("%Temporal.PlainMonthDay%"),s=ke(i.prototype);return ng(s,t,e,n,r),s}function rg(t,e,n,r,i){Ar(e,n,i),My(e,n),Cr(t),ae(t,U,e),ae(t,B,n),ae(t,q,i),ae(t,S,r),ae(t,Om,!0),Object.defineProperty(t,"_repr_",{value:`${t[Symbol.toStringTag]} <${hd(t)}>`,writable:!1,enumerable:!1,configurable:!1})}function ua(t,e,n=pt(),r=1){const i=V("%Temporal.PlainYearMonth%"),s=ke(i.prototype);return rg(s,t,e,n,r),s}function ig(t,e,n,r){Ki(e),Cr(t),ae(t,W,e),ae(t,Te,n),ae(t,S,r);const i=V("%Temporal.Instant%"),s=new i(f(t,W));ae(t,Wt,s),Object.defineProperty(t,"_repr_",{value:`${t[Symbol.toStringTag]} <${pd(t,"auto")}>`,writable:!1,enumerable:!1,configurable:!1})}function Lt(t,e,n=pt()){const r=V("%Temporal.ZonedDateTime%"),i=ke(r.prototype);return ig(i,t,e,n),i}function pt(){const t=V("%Temporal.Calendar%");return new t("iso8601")}function Je(t,e){let n=e;t.fields&&(n=t.fields(n));const r=[];for(const i of n){if(typeof i!="string")throw new TypeError("bad return from calendar.fields()");qm.call(r,i)}return r}function hs(t,e,n){const r=t.mergeFields;if(!r)return{...e,...n};const i=Reflect.apply(r,t,[e,n]);if(!je(i))throw new TypeError("bad return from calendar.mergeFields()");return i}function an(t,e,n,r,i){let s=i;s===void 0&&(s=t.dateAdd);const o=af(s,t,[e,n,r]);if(!he(o))throw new TypeError("invalid result");return o}function Sr(t,e,n,r,i){let s=i;s===void 0&&(s=t.dateUntil);const o=af(s,t,[e,n,r]);if(!Qe(o))throw new TypeError("invalid result");return o}function al(t,e){const n=t.year(e);if(n===void 0)throw new RangeError("calendar year result must be an integer");return Oe(n)}function cl(t,e){const n=t.month(e);if(n===void 0)throw new RangeError("calendar month result must be a positive integer");return ro(n)}function Na(t,e){const n=t.monthCode(e);if(n===void 0)throw new RangeError("calendar monthCode result must be a string");return H(n)}function ll(t,e){const n=t.day(e);if(n===void 0)throw new RangeError("calendar day result must be a positive integer");return ro(n)}function ul(t,e){let n=t.era(e);return n!==void 0&&(n=H(n)),n}function dl(t,e){let n=t.eraYear(e);return n!==void 0&&(n=Oe(n)),n}function df(t,e){return t.dayOfWeek(e)}function ff(t,e){return t.dayOfYear(e)}function hf(t,e){return t.weekOfYear(e)}function pf(t,e){return t.daysInWeek(e)}function Vs(t,e){return t.daysInMonth(e)}function fl(t,e){return t.daysInYear(e)}function hl(t,e){return t.monthsInYear(e)}function pl(t,e){return t.inLeapYear(e)}function Yt(t){let e=t;if(je(e)){if(At(e,S))return f(e,S);if(!("calendar"in e)||(e=e.calendar,je(e)&&!("calendar"in e)))return e}const n=H(e),r=V("%Temporal.Calendar%");if(Cm(n))return new r(n);let i;try{({calendar:i}=Lr(n))}catch{throw new RangeError(`Invalid calendar: ${n}`)}return i||(i="iso8601"),new r(i)}function go(t){if(At(t,S))return f(t,S);const{calendar:e}=t;return e===void 0?pt():Yt(e)}function Ra(t,e){if(t===e)return!0;const n=H(t),r=H(e);return n===r}function sg(t,e){if(t===e)return e;const n=H(t),r=H(e);if(n===r||n==="iso8601")return e;if(r==="iso8601")return t;throw new RangeError("irreconcilable calendars")}function fr(t,e,n){const r=t.dateFromFields(e,n);if(!he(r))throw new TypeError("invalid result");return r}function Ri(t,e,n){const r=t.yearMonthFromFields(e,n);if(!Ie(r))throw new TypeError("invalid result");return r}function so(t,e,n){const r=t.monthDayFromFields(e,n);if(!Mt(r))throw new TypeError("invalid result");return r}function dn(t){let e=t;if(je(e)){if(Y(e))return f(e,Te);if(!("timeZone"in e)||(e=e.timeZone,je(e)&&!("timeZone"in e)))return e}const n=H(e),r=Zm(n),i=V("%Temporal.TimeZone%");return new i(r)}function du(t,e){if(t===e)return!0;const n=H(t),r=H(e);return n===r}function cs(t){return nr(f(t,U),f(t,B),f(t,q),f(t,S))}function mf(t){const e=V("%Temporal.PlainTime%");return new e(f(t,Z),f(t,Q),f(t,X),f(t,K),f(t,J),f(t,ee))}function _r(t,e){let n=t.getOffsetNanosecondsFor;if(typeof n!="function")throw new TypeError("getOffsetNanosecondsFor not callable");const r=Reflect.apply(n,t,[e]);if(typeof r!="number")throw new TypeError("bad return from getOffsetNanosecondsFor");if(!Vm(r)||xe(r)>864e11)throw new RangeError("out-of-range return from getOffsetNanosecondsFor");return r}function ld(t,e){const n=_r(t,e);return _f(n)}function jn(t,e,n){const r=f(e,W),i=_r(t,e);let{year:s,month:o,day:a,hour:c,minute:l,second:u,millisecond:d,microsecond:p,nanosecond:h}=cg(r);return{year:s,month:o,day:a,hour:c,minute:l,second:u,millisecond:d,microsecond:p,nanosecond:h}=fg(s,o,a,c,l,u,d,p,h+i),gn(s,o,a,c,l,u,d,p,h,n)}function un(t,e,n){const r=Uc(t,e);return og(r,t,e,n)}function og(t,e,n,r){const i=V("%Temporal.Instant%"),s=t.length;if(s===1)return t[0];if(s)switch(r){case"compatible":case"earlier":return t[0];case"later":return t[s-1];case"reject":throw new RangeError("multiple instants found")}const o=f(n,U),a=f(n,B),c=f(n,q),l=f(n,Z),u=f(n,Q),d=f(n,X),p=f(n,K),h=f(n,J),m=f(n,ee),_=Si(o,a,c,l,u,d,p,h,m);if(_===null)throw new RangeError("DateTime outside of supported range");const b=new i(g.subtract(_,ki)),v=new i(g.add(_,ki)),T=_r(e,b),N=_r(e,v)-T;switch(r){case"earlier":{const D=f(n,S),O=V("%Temporal.PlainDateTime%"),R=Yc(o,a,c,l,u,d,p,h,m,D,0,0,0,0,0,0,0,0,0,-N,void 0),j=new O(R.year,R.month,R.day,R.hour,R.minute,R.second,R.millisecond,R.microsecond,R.nanosecond,D);return Uc(e,j)[0]}case"compatible":case"later":{const D=f(n,S),O=V("%Temporal.PlainDateTime%"),R=Yc(o,a,c,l,u,d,p,h,m,D,0,0,0,0,0,0,0,0,0,N,void 0),j=new O(R.year,R.month,R.day,R.hour,R.minute,R.second,R.millisecond,R.microsecond,R.nanosecond,D),M=Uc(e,j);return M[M.length-1]}case"reject":throw new RangeError("no such instant found")}}function Uc(t,e){const n=t.getPossibleInstantsFor(e),r=[];for(const i of n){if(!It(i))throw new TypeError("bad return from getPossibleInstantsFor");qm.call(r,i)}return r}function bs(t){let e;if(t<1e3||t>9999){const n=t<0?"-":"+",r=xe(t);e=n+`000000${r}`.slice(-6)}else e=`${t}`;return e}function Fe(t){return`00${t}`.slice(-2)}function ml(t,e,n,r,i){if(i==="minute")return"";const s=`:${Fe(t)}`;let o=e*1e6+n*1e3+r,a;if(i==="auto"){if(o===0)return s;for(a=`${o}`.padStart(9,"0");a[a.length-1]==="0";)a=a.slice(0,-1)}else{if(i===0)return s;a=`${o}`.padStart(9,"0").slice(0,i)}return`${s}.${a}`}function fu(t,e,n){let r=e;if(r===void 0){const h=V("%Temporal.TimeZone%");r=new h("UTC")}const i=pt(),s=jn(r,t,i),o=bs(f(s,U)),a=Fe(f(s,B)),c=Fe(f(s,q)),l=Fe(f(s,Z)),u=Fe(f(s,Q)),d=ml(f(s,X),f(s,K),f(s,J),f(s,ee),n);let p="Z";if(e!==void 0){const h=_r(r,t);p=ag(h)}return`${o}-${a}-${c}T${l}:${u}${d}${p}`}function tc(t,e="auto",n=void 0){function r(M){return M<=ly?M.toString(10):g.BigInt(M).toString(10)}const i=f(t,Qt),s=f(t,kt),o=f(t,ln),a=f(t,Xt),c=f(t,Kt),l=f(t,Jt);let u=f(t,en),d=f(t,tn),p=f(t,nn),h=f(t,rn);const m=Kn(i,s,o,a,c,l,u,d,p,h);if(n){const{unit:M,increment:z,roundingMode:L}=n;({seconds:u,milliseconds:d,microseconds:p,nanoseconds:h}=Yn(0,0,0,0,0,0,u,d,p,h,z,M,L))}const _=[];i&&_.push(`${r(xe(i))}Y`),s&&_.push(`${r(xe(s))}M`),o&&_.push(`${r(xe(o))}W`),a&&_.push(`${r(xe(a))}D`);const b=[];c&&b.push(`${r(xe(c))}H`),l&&b.push(`${r(xe(l))}M`);const v=[];let T=oo(0,0,0,u,d,p,h,0),x,N,D,O;({quotient:T,remainder:x}=Ot(T,Ne)),{quotient:T,remainder:N}=Ot(T,Ne),{quotient:O,remainder:D}=Ot(T,Ne);const R=xe(g.toNumber(D))*1e6+xe(g.toNumber(N))*1e3+xe(g.toNumber(x));let j;if(e==="auto"){if(R!==0)for(j=`${R}`.padStart(9,"0");j[j.length-1]==="0";)j=j.slice(0,-1)}else e!==0&&(j=`${R}`.padStart(9,"0").slice(0,e));return j&&v.unshift(".",j),(!g.equal(O,at)||v.length||e!=="auto")&&v.unshift(lf(O).toString()),v.length&&b.push(`${v.join("")}S`),b.length&&b.unshift("T"),!_.length&&!b.length?"PT0S":`${m<0?"-":""}P${_.join("")}${b.join("")}`}function ud(t,e="auto"){const n=bs(f(t,U)),r=Fe(f(t,B)),i=Fe(f(t,q)),s=H(f(t,S)),o=va(s,e);return`${n}-${r}-${i}${o}`}function dd(t,e,n="auto",r=void 0){let i=f(t,U),s=f(t,B),o=f(t,q),a=f(t,Z),c=f(t,Q),l=f(t,X),u=f(t,K),d=f(t,J),p=f(t,ee);if(r){const{unit:D,increment:O,roundingMode:R}=r;({year:i,month:s,day:o,hour:a,minute:c,second:l,millisecond:u,microsecond:d,nanosecond:p}=bf(i,s,o,a,c,l,u,d,p,O,D,R))}const h=bs(i),m=Fe(s),_=Fe(o),b=Fe(a),v=Fe(c),T=ml(l,u,d,p,e),x=H(f(t,S)),N=va(x,n);return`${h}-${m}-${_}T${b}:${v}${T}${N}`}function fd(t,e="auto"){const n=Fe(f(t,B)),r=Fe(f(t,q));let i=`${n}-${r}`;const s=f(t,S),o=H(s);o!=="iso8601"&&(i=`${bs(f(t,U))}-${i}`);const a=va(o,e);return a&&(i+=a),i}function hd(t,e="auto"){const n=bs(f(t,U)),r=Fe(f(t,B));let i=`${n}-${r}`;const s=f(t,S),o=H(s);o!=="iso8601"&&(i+=`-${Fe(f(t,q))}`);const a=va(o,e);return a&&(i+=a),i}function pd(t,e,n="auto",r="auto",i="auto",s=void 0){let o=f(t,Wt);if(s){const{unit:T,increment:x,roundingMode:N}=s,D=zc(f(t,W),x,T,N),O=V("%Temporal.Instant%");o=new O(D)}const a=f(t,Te),c=pt(),l=jn(a,o,c),u=bs(f(l,U)),d=Fe(f(l,B)),p=Fe(f(l,q)),h=Fe(f(l,Z)),m=Fe(f(l,Q)),_=ml(f(l,X),f(l,K),f(l,J),f(l,ee),e);let b=`${u}-${d}-${p}T${h}:${m}${_}`;if(i!=="never"){const T=_r(a,o);b+=ag(T)}r!=="never"&&(b+=`[${a}]`);const v=H(f(t,S));return b+=va(v,n),b}function Ys(t){return yg.test(ba(t))}function ps(t){const e=yg.exec(ba(t));if(!e)throw new RangeError(`invalid time zone offset: ${t}`);const n=e[1]==="-"||e[1]==="\u2212"?-1:1,r=+e[2],i=+(e[3]||0),s=+(e[4]||0),o=+((e[5]||0)+"000000000").slice(0,9);return n*(((r*60+i)*60+s)*1e9+o)}function gf(t){if(Ys(t)){const n=ps(t);return _f(n)}return Hm(ba(t)).resolvedOptions().timeZone}function ti(t,e){const{year:n,month:r,day:i,hour:s,minute:o,second:a,millisecond:c,microsecond:l,nanosecond:u}=lg(t,e),d=Si(n,r,i,s,o,a,c,l,u);if(d===null)throw new RangeError("Date outside of supported range");return g.toNumber(g.subtract(d,t))}function _f(t){const e=t<0?"-":"+",n=xe(t),r=n%1e9,i=St(n/1e9)%60,s=St(n/6e10)%60,o=St(n/36e11),a=Fe(o),c=Fe(s),l=Fe(i);let u="";if(r){let d=`${r}`.padStart(9,"0");for(;d[d.length-1]==="0";)d=d.slice(0,-1);u=`:${l}.${d}`}else i&&(u=`:${l}`);return`${e}${a}:${c}${u}`}function ag(t){let e=g.toNumber(Tn(g.BigInt(t),6e10,"halfExpand"));const n=e<0?"-":"+";e=xe(e);const r=e/6e10%60,i=St(e/36e11),s=Fe(i),o=Fe(r);return`${n}${s}:${o}`}function Si(t,e,n,r,i,s,o,a,c){const l=new Date;l.setUTCHours(r,i,s,o),l.setUTCFullYear(t,e-1,n);const u=l.getTime();if(ya(u))return null;let d=g.multiply(g.BigInt(u),Fn);return d=g.add(d,g.multiply(g.BigInt(a),Ne)),d=g.add(d,g.BigInt(c)),g.lessThan(d,ia)||g.greaterThan(d,sa)?null:d}function cg(t){const{quotient:e,remainder:n}=Ot(t,Fn);let r=g.toNumber(e),i=g.toNumber(n);i<0&&(i+=1e6,r-=1);const s=St(i/1e3)%1e3,o=i%1e3,a=new Date(r),c=a.getUTCFullYear(),l=a.getUTCMonth()+1,u=a.getUTCDate(),d=a.getUTCHours(),p=a.getUTCMinutes(),h=a.getUTCSeconds(),m=a.getUTCMilliseconds();return{epochMilliseconds:r,year:c,month:l,day:u,hour:d,minute:p,second:h,millisecond:m,microsecond:s,nanosecond:o}}function lg(t,e){const{epochMilliseconds:n,millisecond:r,microsecond:i,nanosecond:s}=cg(t),{year:o,month:a,day:c,hour:l,minute:u,second:d}=ky(e,n);return fg(o,a,c,l,u,d,r,i,s)}function ep(t,e){return g.lessThan(t,e)?e:t}function ug(){return g.add(Tf(),py)}function Dy(t,e){const n=g.add(t,Gm),r=ep(ug(),n);let i=ep(zm,t);const s=ti(i,e);let o=i,a=s;for(;s===a&&g.lessThan(g.BigInt(i),r);)o=g.add(i,Wm),a=ti(o,e),s===a&&(i=o);return s===a?null:bg(l=>ti(l,e),i,o,s,a)}function dg(t,e){const n=ug(),r=g.greaterThan(t,n),i=r?g.subtract(t,Gm):zm;let s=g.subtract(t,cf);const o=ti(s,e);let a=s,c=o;for(;o===c&&g.greaterThan(s,i);)a=g.subtract(s,Wm),c=ti(a,e),o===c&&(s=a);if(o===c){if(r){const u=g.subtract(n,ki);return dg(u,e)}return null}return bg(u=>ti(u,e),a,s,c,o)}function Oy(t){const e=t.split(/[^\w]+/);if(e.length!==7)throw new RangeError(`expected 7 parts in "${t}`);const n=+e[0],r=+e[1];let i=+e[2];const s=e[3].toUpperCase();if(s==="B"||s==="BC")i=-i+1;else if(s!=="A"&&s!=="AD")throw new RangeError(`Unknown era ${s} in "${t}`);let o=+e[4];o===24&&(o=0);const a=+e[5],c=+e[6];if(!Ut(i)||!Ut(n)||!Ut(r)||!Ut(o)||!Ut(a)||!Ut(c))throw new RangeError(`Invalid number in "${t}`);return{year:i,month:n,day:r,hour:o,minute:a,second:c}}function ky(t,e){const r=Hm(t).format(new Date(e));return Oy(r)}function Sy(t,e,n,r,i,s,o,a,c,l){const u=Si(e,n,r,i,s,o,a,c,l);if(u===null)throw new RangeError("DateTime outside of supported range");let d=g.subtract(u,ki);g.lessThan(d,ia)&&(d=u);let p=g.add(u,ki);g.greaterThan(p,sa)&&(p=u);const h=ti(d,t),m=ti(p,t);return(h===m?[h]:[h,m]).map(b=>{const v=g.subtract(u,g.BigInt(b)),T=lg(v,t);if(!(e!==T.year||n!==T.month||r!==T.day||i!==T.hour||s!==T.minute||o!==T.second||a!==T.millisecond||c!==T.microsecond||l!==T.nanosecond))return v}).filter(b=>b!==void 0)}function Ai(t){if(t===void 0)return!1;const e=t%4===0,n=t%100===0,r=t%400===0;return e&&(!n||r)}function ni(t,e){return{standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]}[Ai(t)?"leapyear":"standard"][e-1]}function md(t,e,n){const r=e+(e<3?10:-2),i=t-(e<3?1:0),s=St(i/100),o=i-s*100,c=n,l=St(2.6*r-.2),u=o+St(o/4),d=St(s/4)-2*s,p=(c+l+u+d)%7;return p+(p<=0?7:0)}function Fc(t,e,n){let r=n;for(let i=e-1;i>0;i--)r+=ni(t,i);return r}function Ay(t,e,n){const r=Fc(t,e,n),i=md(t,e,n)||7,s=md(t,1,1),o=St((r-i+10)/7);return o<1?s===5||s===6&&Ai(t-1)?53:52:o===53&&(Ai(t)?366:365)-r<4-i?1:o}function Kn(t,e,n,r,i,s,o,a,c,l){for(const u of[t,e,n,r,i,s,o,a,c,l])if(u!==0)return u<0?-1:1;return 0}function mc(t,e){let n=t,r=e;if(!Ut(n)||!Ut(r))throw new RangeError("infinity is out of range");return r-=1,n+=St(r/12),r%=12,r<0&&(r+=12),r+=1,{year:n,month:r}}function da(t,e,n){let r=t,i=e,s=n;if(!Ut(s))throw new RangeError("infinity is out of range");({year:r,month:i}=mc(r,i));let o=0,a=i>2?r:r-1;for(;o=Ai(a)?366:365,s<-o;)r-=1,a-=1,s+=o;for(a+=1;o=Ai(a)?366:365,s>o;)r+=1,a+=1,s-=o;for(;s<1;)({year:r,month:i}=mc(r,i-1)),s+=ni(r,i);for(;s>ni(r,i);)s-=ni(r,i),{year:r,month:i}=mc(r,i+1);return{year:r,month:i,day:s}}function fg(t,e,n,r,i,s,o,a,c){const{deltaDays:l,hour:u,minute:d,second:p,millisecond:h,microsecond:m,nanosecond:_}=Wr(r,i,s,o,a,c),{year:b,month:v,day:T}=da(t,e,n+l);return{year:b,month:v,day:T,hour:u,minute:d,second:p,millisecond:h,microsecond:m,nanosecond:_}}function Wr(t,e,n,r,i,s){let o=t,a=e,c=n,l=r,u=i,d=s;if(!Ut(o)||!Ut(a)||!Ut(c)||!Ut(l)||!Ut(u)||!Ut(d))throw new RangeError("infinity is out of range");u+=St(d/1e3),d=Ls(d,1e3),l+=St(u/1e3),u=Ls(u,1e3),c+=St(l/1e3),l=Ls(l,1e3),a+=St(c/60),c=Ls(c,60),o+=St(a/60),a=Ls(a,60);const p=St(o/24);return o=Ls(o,24),{deltaDays:p,hour:o,minute:a,second:c,millisecond:l,microsecond:u,nanosecond:d}}function oo(t,e,n,r,i,s,o,a){const c=g.BigInt(t);let l=g.BigInt(o);t!==0&&(l=g.subtract(g.BigInt(o),g.BigInt(a)));const u=g.add(g.BigInt(e),g.multiply(c,g.BigInt(24))),d=g.add(g.BigInt(n),g.multiply(u,os)),p=g.add(g.BigInt(r),g.multiply(d,os)),h=g.add(g.BigInt(i),g.multiply(p,Ne)),m=g.add(g.BigInt(s),g.multiply(h,Ne));return g.add(g.BigInt(l),g.multiply(m,Ne))}function wf(t,e){const n=V("%Temporal.Instant%"),r=ra(g.toNumber(t));let i=g.BigInt(t),s=864e11;if(r===0)return{days:0,nanoseconds:at,dayLengthNs:s};if(!Y(e)){let T;return{quotient:T,remainder:i}=Ot(i,g.BigInt(s)),{days:g.toNumber(T),nanoseconds:i,dayLengthNs:s}}const o=f(e,W),a=f(e,Wt),c=g.add(o,i),l=new n(c),u=f(e,Te),d=f(e,S),p=jn(u,a,d),h=jn(u,l,d);let{days:m}=Bc(f(p,U),f(p,B),f(p,q),f(p,Z),f(p,Q),f(p,X),f(p,K),f(p,J),f(p,ee),f(h,U),f(h,B),f(h,q),f(h,Z),f(h,Q),f(h,X),f(h,K),f(h,J),f(h,ee),d,"day"),_=An(a,u,d,0,0,0,m,0,0,0,0,0,0);if(r===1)for(;m>0&&g.greaterThan(_,c);)--m,_=An(a,u,d,0,0,0,m,0,0,0,0,0,0);i=g.subtract(c,_);let b=!1,v=new n(_);do{const T=An(v,u,d,0,0,0,r,0,0,0,0,0,0),x=f(v,W);s=g.toNumber(g.subtract(T,x)),b=g.greaterThan(g.multiply(g.subtract(i,g.BigInt(s)),g.BigInt(r)),at),b&&(i=g.subtract(i,g.BigInt(s)),v=new n(T),m+=r)}while(b);return{days:m,nanoseconds:i,dayLengthNs:xe(s)}}function qt(t,e,n,r,i,s,o,a,c=void 0){let l=t,u,d,p,h,m,_;if(Y(c)){const R=An(f(c,Wt),f(c,Te),f(c,S),0,0,0,l,e,n,r,i,s,o),j=f(c,W);u=g.subtract(R,j)}else u=oo(l,e,n,r,i,s,o,0);a==="year"||a==="month"||a==="week"||a==="day"?{days:l,nanoseconds:u}=wf(u,c):l=0;const b=g.lessThan(u,at)?-1:1;switch(u=lf(u),d=p=h=m=_=at,a){case"year":case"month":case"week":case"day":case"hour":({quotient:d,remainder:u}=Ot(u,Ne)),{quotient:p,remainder:d}=Ot(d,Ne),{quotient:h,remainder:p}=Ot(p,Ne),{quotient:m,remainder:h}=Ot(h,os),{quotient:_,remainder:m}=Ot(m,os);break;case"minute":({quotient:d,remainder:u}=Ot(u,Ne)),{quotient:p,remainder:d}=Ot(d,Ne),{quotient:h,remainder:p}=Ot(p,Ne),{quotient:m,remainder:h}=Ot(h,os);break;case"second":({quotient:d,remainder:u}=Ot(u,Ne)),{quotient:p,remainder:d}=Ot(d,Ne),{quotient:h,remainder:p}=Ot(p,Ne);break;case"millisecond":({quotient:d,remainder:u}=Ot(u,Ne)),{quotient:p,remainder:d}=Ot(d,Ne);break;case"microsecond":({quotient:d,remainder:u}=Ot(u,Ne));break;case"nanosecond":break;default:throw new Error("assert not reached")}const v=g.toNumber(_)*b,T=g.toNumber(m)*b,x=g.toNumber(h)*b,N=g.toNumber(p)*b,D=g.toNumber(d)*b,O=g.toNumber(u)*b;return{days:l,hours:v,minutes:T,seconds:x,milliseconds:N,microseconds:D,nanoseconds:O}}function nc(t,e,n,r,i,s){let o=t,a=e,c=n,l=r;const u=V("%Temporal.Duration%"),d=Kn(o,a,c,l,0,0,0,0,0,0);let p,h;s&&(h=De(s),p=f(h,S));const m=new u(d),_=new u(0,d),b=new u(0,0,d);switch(i){case"year":break;case"month":{if(!p)throw new RangeError("a starting point is required for months balancing");const v=p.dateAdd,T=p.dateUntil;let x=h;for(;xe(o)>0;){const N=ke(null),D=an(p,x,m,N,v),O=ke(null);O.largestUnit="month";const R=Sr(p,x,D,O,T),j=f(R,kt);x=D,a+=j,o-=d}}break;case"week":if(!p)throw new RangeError("a starting point is required for weeks balancing");for(;xe(o)>0;){let v;({relativeTo:h,days:v}=sn(p,h,m)),l+=v,o-=d}for(;xe(a)>0;){let v;({relativeTo:h,days:v}=sn(p,h,_)),l+=v,a-=d}break;default:for(;xe(o)>0;){if(!p)throw new RangeError("a starting point is required for balancing calendar units");let v;({relativeTo:h,days:v}=sn(p,h,m)),l+=v,o-=d}for(;xe(a)>0;){if(!p)throw new RangeError("a starting point is required for balancing calendar units");let v;({relativeTo:h,days:v}=sn(p,h,_)),l+=v,a-=d}for(;xe(c)>0;){if(!p)throw new RangeError("a starting point is required for balancing calendar units");let v;({relativeTo:h,days:v}=sn(p,h,b)),l+=v,c-=d}break}return{years:o,months:a,weeks:c,days:l}}function $y(t,e,n,r,i,s){let o=t,a=e,c=n,l=r;const u=V("%Temporal.Duration%"),d=Kn(o,a,c,l,0,0,0,0,0,0);if(d===0)return{years:o,months:a,weeks:c,days:l};let p,h;s&&(h=De(s),p=f(h,S));const m=new u(d),_=new u(0,d),b=new u(0,0,d);switch(i){case"year":{if(!p)throw new RangeError("a starting point is required for years balancing");let v,T;for({relativeTo:v,days:T}=sn(p,h,m);xe(l)>=xe(T);)l-=T,o+=d,h=v,{relativeTo:v,days:T}=sn(p,h,m);let x;for({relativeTo:v,days:x}=sn(p,h,_);xe(l)>=xe(x);)l-=x,a+=d,h=v,{relativeTo:v,days:x}=sn(p,h,_);const N=p.dateAdd,D=ke(null);v=an(p,h,m,D,N);const O=p.dateUntil,R=ke(null);R.largestUnit="month";let j=Sr(p,h,v,R,O),M=f(j,kt);for(;xe(a)>=xe(M);){a-=M,o+=d,h=v;const z=ke(null);v=an(p,h,m,z,N);const L=ke(null);L.largestUnit="month",j=Sr(p,h,v,L,O),M=f(j,kt)}break}case"month":{if(!p)throw new RangeError("a starting point is required for months balancing");let v,T;for({relativeTo:v,days:T}=sn(p,h,_);xe(l)>=xe(T);)l-=T,a+=d,h=v,{relativeTo:v,days:T}=sn(p,h,_);break}case"week":{if(!p)throw new RangeError("a starting point is required for weeks balancing");let v,T;for({relativeTo:v,days:T}=sn(p,h,b);xe(l)>=xe(T);)l-=T,c+=d,h=v,{relativeTo:v,days:T}=sn(p,h,b);break}}return{years:o,months:a,weeks:c,days:l}}function tp(t,e,n,r,i,s,o,a,c,l,u){if(Y(t)){const d=f(t,Wt),p=f(t,Te),h=f(t,S),m=_r(p,d),_=An(d,p,h,e,n,r,i,s,o,a,c,l,u),b=V("%Temporal.Instant%"),v=new b(_);return _r(p,v)-m}return 0}function hg(t){const e=V("%Temporal.Duration%");return new e(-f(t,Qt),-f(t,kt),-f(t,ln),-f(t,Xt),-f(t,Kt),-f(t,Jt),-f(t,en),-f(t,tn),-f(t,nn),-f(t,rn))}function In(t,e,n){return oy(n,ay(e,t))}function pg(t,e,n){const r=In(e,1,12),i=In(n,1,ni(t,r));return{year:t,month:r,day:i}}function jy(t,e,n,r,i,s){const o=In(t,0,23),a=In(e,0,59),c=In(n,0,59),l=In(r,0,999),u=In(i,0,999),d=In(s,0,999);return{hour:o,minute:a,second:c,millisecond:l,microsecond:u,nanosecond:d}}function Vt(t,e,n){if(t<e||t>n)throw new RangeError(`value out of range: ${e} <= ${t} <= ${n}`)}function Ar(t,e,n){Vt(e,1,12),Vt(n,1,ni(t,e))}function mg(t,e,n){_g(t,e,n,12,0,0,0,0,0)}function gl(t,e,n,r,i,s){Vt(t,0,23),Vt(e,0,59),Vt(n,0,59),Vt(r,0,999),Vt(i,0,999),Vt(s,0,999)}function gg(t,e,n,r,i,s,o,a,c){Ar(t,e,n),gl(r,i,s,o,a,c)}function _g(t,e,n,r,i,s,o,a,c){if(Vt(t,$c,jc),t===$c&&Si(t,e,n+1,r,i,s,o,a,c-1)==null||t===jc&&Si(t,e,n-1,r,i,s,o,a,c+1)==null)throw new RangeError("DateTime outside of supported range")}function Ki(t){if(g.lessThan(t,ia)||g.greaterThan(t,sa))throw new RangeError("Instant outside of supported range")}function My(t,e){Vt(t,$c,jc),t===$c?Vt(e,4,12):t===jc&&Vt(e,1,9)}function wg(t,e,n,r,i,s,o,a,c,l){const u=Kn(t,e,n,r,i,s,o,a,c,l);for(const d of[t,e,n,r,i,s,o,a,c,l]){if(!Ut(d))throw new RangeError("infinite values not allowed as duration fields");const p=ra(d);if(p!==0&&p!==u)throw new RangeError("mixed-sign values not allowed as duration fields")}}function yf(t,e,n,r,i,s,o){switch(o){case"year":case"month":{const a=-Hr(t,e,n,r,i,s);if(a===0)return{years:0,months:0,weeks:0,days:0};const c={year:t,month:e,day:n},l={year:r,month:i,day:s};let u=l.year-c.year,d=ls(t,e,n,u,0,0,0,"constrain"),p=-Hr(d.year,d.month,d.day,r,i,s);if(p===0)return o==="year"?{years:u,months:0,weeks:0,days:0}:{years:0,months:u*12,weeks:0,days:0};let h=l.month-c.month;if(p!==a&&(u-=a,h+=a*12),d=ls(t,e,n,u,h,0,0,"constrain"),p=-Hr(d.year,d.month,d.day,r,i,s),p===0)return o==="year"?{years:u,months:h,weeks:0,days:0}:{years:0,months:h+u*12,weeks:0,days:0};p!==a&&(h-=a,h===-a&&(u-=a,h=11*a),d=ls(t,e,n,u,h,0,0,"constrain"),p=-Hr(t,e,n,d.year,d.month,d.day));let m=0;return d.month===l.month?m=l.day-d.day:a<0?m=-d.day-(ni(l.year,l.month)-l.day):m=l.day+(ni(d.year,d.month)-d.day),o==="month"&&(h+=u*12,u=0),{years:u,months:h,weeks:0,days:m}}case"week":case"day":{let a,c,l;Hr(t,e,n,r,i,s)<0?(c={year:t,month:e,day:n},a={year:r,month:i,day:s},l=1):(c={year:r,month:i,day:s},a={year:t,month:e,day:n},l=-1);let u=Fc(a.year,a.month,a.day)-Fc(c.year,c.month,c.day);for(let p=c.year;p<a.year;++p)u+=Ai(p)?366:365;let d=0;return o==="week"&&(d=St(u/7),u%=7),d*=l,u*=l,{years:0,months:0,weeks:d,days:u}}default:throw new Error("assert not reached")}}function gd(t,e,n,r,i,s,o,a,c,l,u,d){let p=o-t,h=a-e,m=c-n,_=l-r,b=u-i,v=d-s;const T=Kn(0,0,0,0,p,h,m,_,b,v);p*=T,h*=T,m*=T,_*=T,b*=T,v*=T;let x=0;return{deltaDays:x,hour:p,minute:h,second:m,millisecond:_,microsecond:b,nanosecond:v}=Wr(p,h,m,_,b,v),x*=T,p*=T,h*=T,m*=T,_*=T,b*=T,v*=T,{deltaDays:x,hours:p,minutes:h,seconds:m,milliseconds:_,microseconds:b,nanoseconds:v}}function fa(t,e,n,r,i){const s=g.subtract(e,t),o=g.remainder(s,g.BigInt(864e11)),a=g.subtract(s,o),c=Tn(o,Ef[r]*n,i),l=g.add(a,c),u=g.toNumber(g.remainder(l,Ne)),d=g.toNumber(g.remainder(g.divide(l,Ne),Ne)),p=g.toNumber(g.remainder(g.divide(l,Fn),Ne));return{seconds:g.toNumber(g.divide(l,ei)),milliseconds:p,microseconds:d,nanoseconds:u}}function Bc(t,e,n,r,i,s,o,a,c,l,u,d,p,h,m,_,b,v,T,x,N=ke(null)){let D=t,O=e,R=n,{deltaDays:j,hours:M,minutes:z,seconds:L,milliseconds:G,microseconds:_e,nanoseconds:se}=gd(r,i,s,o,a,c,p,h,m,_,b,v);const P=Kn(0,0,0,j,M,z,L,G,_e,se);({year:D,month:O,day:R}=da(D,O,R+j)),Hr(l,u,d,D,O,R)===-P&&({year:D,month:O,day:R}=da(D,O,R-P),{hours:M,minutes:z,seconds:L,milliseconds:G,microseconds:_e,nanoseconds:se}=qt(-P,M,z,L,G,_e,se,x));const He=nr(D,O,R,T),On=nr(l,u,d,T),pn=tr("day",x),Mn={...N,largestUnit:pn};let{years:Pe,months:Ze,weeks:ar,days:zt}=Sr(T,He,On,Mn);return{days:zt,hours:M,minutes:z,seconds:L,milliseconds:G,microseconds:_e,nanoseconds:se}=qt(zt,M,z,L,G,_e,se,x),{years:Pe,months:Ze,weeks:ar,days:zt,hours:M,minutes:z,seconds:L,milliseconds:G,microseconds:_e,nanoseconds:se}}function _d(t,e,n,r,i,s){const o=g.subtract(e,t);if(g.equal(o,at))return{years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};const a=V("%Temporal.Instant%"),c=new a(t),l=new a(e),u=jn(n,c,r),d=jn(n,l,r);let{years:p,months:h,weeks:m,days:_}=Bc(f(u,U),f(u,B),f(u,q),f(u,Z),f(u,Q),f(u,X),f(u,K),f(u,J),f(u,ee),f(d,U),f(d,B),f(d,q),f(d,Z),f(d,Q),f(d,X),f(d,K),f(d,J),f(d,ee),r,i,s);const b=An(c,n,r,p,h,m,0,0,0,0,0,0,0);let v=g.subtract(e,b);const T=Lt(b,n,r);({nanoseconds:v,days:_}=wf(v,T));const{hours:x,minutes:N,seconds:D,milliseconds:O,microseconds:R,nanoseconds:j}=qt(0,0,0,0,0,0,g.toNumber(v),"hour");return{years:p,months:h,weeks:m,days:_,hours:x,minutes:N,seconds:D,milliseconds:O,microseconds:R,nanoseconds:j}}function ls(t,e,n,r,i,s,o,a){let c=t,l=e,u=n,d=r,p=i,h=s,m=o;return c+=d,l+=p,{year:c,month:l}=mc(c,l),{year:c,month:l,day:u}=Cc(c,l,u,a),m+=7*h,u+=m,{year:c,month:l,day:u}=da(c,l,u),{year:c,month:l,day:u}}function wd(t,e,n,r,i,s,o,a,c,l,u,d){let p=t,h=e,m=n,_=r,b=i,v=s;p+=o,h+=a,m+=c,_+=l,b+=u,v+=d;let T=0;return{deltaDays:T,hour:p,minute:h,second:m,millisecond:_,microsecond:b,nanosecond:v}=Wr(p,h,m,_,b,v),{deltaDays:T,hour:p,minute:h,second:m,millisecond:_,microsecond:b,nanosecond:v}}function yd(t,e,n,r,i,s,o,a,c,l,u,d,p,h,m,_,b,v,T,x,N){const D=ad(t,e,n,r,i,s,o,a,c,l),O=ad(u,d,p,h,m,_,b,v,T,x),R=tr(D,O);let j,M,z,L,G,_e,se,P,de,He;if(N)if(he(N)){const On=V("%Temporal.Duration%"),pn=f(N,S),Mn=new On(t,e,n,r,0,0,0,0,0,0),Pe=new On(u,d,p,h,0,0,0,0,0,0),Ze=pn.dateAdd,ar=ke(null),zt=an(pn,N,Mn,ar,Ze),Gn=ke(null),hi=an(pn,zt,Pe,Gn,Ze),ks=tr("day",R),yr=ke(null);yr.largestUnit=ks,{years:j,months:M,weeks:z,days:L}=Sr(pn,N,hi,yr),{days:L,hours:G,minutes:_e,seconds:se,milliseconds:P,microseconds:de,nanoseconds:He}=qt(L,i+m,s+_,o+b,a+v,c+T,l+x,R)}else{const On=V("%Temporal.Instant%"),pn=f(N,Te),Mn=f(N,S),Pe=An(f(N,Wt),pn,Mn,t,e,n,r,i,s,o,a,c,l),Ze=An(new On(Pe),pn,Mn,u,d,p,h,m,_,b,v,T,x);R!=="year"&&R!=="month"&&R!=="week"&&R!=="day"?(j=0,M=0,z=0,L=0,{seconds:se,milliseconds:P,microseconds:de,nanoseconds:He}=fa(f(N,W),Ze,1,"nanosecond","halfExpand"),{hours:G,minutes:_e,seconds:se,milliseconds:P,microseconds:de,nanoseconds:He}=qt(0,0,0,se,P,de,He,R)):{years:j,months:M,weeks:z,days:L,hours:G,minutes:_e,seconds:se,milliseconds:P,microseconds:de,nanoseconds:He}=_d(f(N,W),Ze,pn,Mn,R)}else{if(R==="year"||R==="month"||R==="week")throw new RangeError("relativeTo is required for years, months, or weeks arithmetic");j=M=z=0,{days:L,hours:G,minutes:_e,seconds:se,milliseconds:P,microseconds:de,nanoseconds:He}=qt(r+h,i+m,s+_,o+b,a+v,c+T,l+x,R)}return wg(j,M,z,L,G,_e,se,P,de,He),{years:j,months:M,weeks:z,days:L,hours:G,minutes:_e,seconds:se,milliseconds:P,microseconds:de,nanoseconds:He}}function qc(t,e,n,r,i,s,o){let a=at;a=g.add(a,g.BigInt(o)),a=g.add(a,g.multiply(g.BigInt(s),Ne)),a=g.add(a,g.multiply(g.BigInt(i),Fn)),a=g.add(a,g.multiply(g.BigInt(r),ei)),a=g.add(a,g.multiply(g.BigInt(n),g.BigInt(60*1e9))),a=g.add(a,g.multiply(g.BigInt(e),g.BigInt(60*60*1e9)));const c=g.add(t,a);return Ki(c),c}function Yc(t,e,n,r,i,s,o,a,c,l,u,d,p,h,m,_,b,v,T,x,N){let D=h,{deltaDays:O,hour:R,minute:j,second:M,millisecond:z,microsecond:L,nanosecond:G}=wd(r,i,s,o,a,c,m,_,b,v,T,x);D+=O;const _e=V("%Temporal.Duration%"),se=nr(t,e,n,l),P=new _e(u,d,p,D,0,0,0,0,0,0),de=an(l,se,P,N);return{year:f(de,U),month:f(de,B),day:f(de,q),hour:R,minute:j,second:M,millisecond:z,microsecond:L,nanosecond:G}}function An(t,e,n,r,i,s,o,a,c,l,u,d,p,h){const m=V("%Temporal.Duration%");if(Kn(r,i,s,o,0,0,0,0,0,0)===0)return qc(f(t,W),a,c,l,u,d,p);const _=jn(e,t,n),b=nr(f(_,U),f(_,B),f(_,q),n),v=new m(r,i,s,o,0,0,0,0,0,0),T=an(n,b,v,h),x=gn(f(T,U),f(T,B),f(T,q),f(_,Z),f(_,Q),f(_,X),f(_,K),f(_,J),f(_,ee),n),N=un(e,x,"compatible");return qc(f(N,W),a,c,l,u,d,p)}function Tn(t,e,n){if(e===1)return t;let{quotient:r,remainder:i}=Ot(t,g.BigInt(e));if(g.equal(i,at))return t;const s=g.lessThan(i,at)?-1:1;switch(n){case"ceil":s>0&&(r=g.add(r,g.BigInt(s)));break;case"floor":s<0&&(r=g.add(r,g.BigInt(s)));break;case"trunc":break;case"halfExpand":g.toNumber(lf(g.multiply(i,g.BigInt(2))))>=e&&(r=g.add(r,g.BigInt(s)));break}return g.multiply(r,g.BigInt(e))}function zc(t,e,n,r){let i=g.remainder(t,g.BigInt(864e11));g.lessThan(i,at)&&(i=g.add(i,g.BigInt(864e11)));const s=g.subtract(t,i),o=Tn(i,Ef[n]*e,r);return g.add(s,o)}function bf(t,e,n,r,i,s,o,a,c,l,u,d,p=864e11){const{deltaDays:h,hour:m,minute:_,second:b,millisecond:v,microsecond:T,nanosecond:x}=vf(r,i,s,o,a,c,l,u,d,p),{year:N,month:D,day:O}=da(t,e,n+h);return{year:N,month:D,day:O,hour:m,minute:_,second:b,millisecond:v,microsecond:T,nanosecond:x}}function vf(t,e,n,r,i,s,o,a,c,l=864e11){let u=at;switch(a){case"day":case"hour":u=g.BigInt(t);case"minute":u=g.add(g.multiply(u,os),g.BigInt(e));case"second":u=g.add(g.multiply(u,os),g.BigInt(n));case"millisecond":u=g.add(g.multiply(u,Ne),g.BigInt(r));case"microsecond":u=g.add(g.multiply(u,Ne),g.BigInt(i));case"nanosecond":u=g.add(g.multiply(u,Ne),g.BigInt(s))}const d=a==="day"?l:Ef[a],p=Tn(u,d*o,c),h=g.toNumber(g.divide(p,g.BigInt(d)));switch(a){case"day":return{deltaDays:h,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0};case"hour":return Wr(h,0,0,0,0,0);case"minute":return Wr(t,h,0,0,0,0);case"second":return Wr(t,e,h,0,0,0);case"millisecond":return Wr(t,e,n,h,0,0);case"microsecond":return Wr(t,e,n,r,h,0);case"nanosecond":return Wr(t,e,n,r,i,h);default:throw new Error(`Invalid unit ${a}`)}}function gc(t,e){return yf(f(t,U),f(t,B),f(t,q),f(e,U),f(e,B),f(e,q),"day").days}function sn(t,e,n){const r=ke(null),i=an(t,e,n,r),s=gc(e,i);return{relativeTo:i,days:s}}function bd(t,e,n,r,i){const s=f(t,Te),o=f(t,S),a=An(f(t,Wt),s,o,e,n,r,i,0,0,0,0,0,0);return Lt(a,s,o)}function vd(t,e,n,r,i,s,o,a,c,l,u,d,p,h){let m=t,_=e,b=n,v=r,T=i,x=s,N=o,D=a,O=c,R=l;if(!Y(h)||d==="year"||d==="month"||d==="week"||d==="day"||d==="nanosecond"&&u===1)return{years:m,months:_,weeks:b,days:v,hours:T,minutes:x,seconds:N,milliseconds:D,microseconds:O,nanoseconds:R};let j=oo(0,T,x,N,D,O,R,0);const M=ra(g.toNumber(j)),z=f(h,Te),L=f(h,S),G=An(f(h,Wt),z,L,m,_,b,v,0,0,0,0,0,0),_e=V("%Temporal.Instant%"),se=An(new _e(G),z,L,0,0,0,M,0,0,0,0,0,0),P=g.subtract(se,G);return g.greaterThanOrEqual(g.multiply(g.subtract(j,P),g.BigInt(M)),at)&&({years:m,months:_,weeks:b,days:v}=yd(m,_,b,v,0,0,0,0,0,0,0,0,0,M,0,0,0,0,0,0,h),j=zc(g.subtract(j,P),u,d,p),{hours:T,minutes:x,seconds:N,milliseconds:D,microseconds:O,nanoseconds:R}=qt(0,0,0,0,0,0,g.toNumber(j),"hour")),{years:m,months:_,weeks:b,days:v,hours:T,minutes:x,seconds:N,milliseconds:D,microseconds:O,nanoseconds:R}}function Yn(t,e,n,r,i,s,o,a,c,l,u,d,p,h=void 0){let m=t,_=e,b=n,v=r,T=i,x=s,N=o,D=a,O=c,R=g.BigInt(l);const j=V("%Temporal.Duration%");let M,z,L=h;if(L){if(Y(L))z=L,L=De(L);else if(!he(L))throw new TypeError("starting point must be PlainDate or ZonedDateTime");M=f(L,S)}let G;if(d==="year"||d==="month"||d==="week"||d==="day"){R=oo(0,T,x,N,D,O,l,0);let se;z&&(se=bd(z,m,_,b,v));let P,de;({days:P,nanoseconds:R,dayLengthNs:de}=wf(R,se)),G=g.BigInt(de),v+=P,T=x=N=D=O=0}let _e;switch(d){case"year":{if(!M)throw new RangeError("A starting point is required for years rounding");const se=new j(m),P=M.dateAdd,de=ke(null),He=an(M,L,se,de,P),On=new j(m,_,b),pn=ke(null),Mn=an(M,L,On,pn,P),Pe=gc(He,Mn);L=He,v+=Pe;const Ze=ke(null),ar=an(M,L,{days:v},Ze,P),zt=ke(null);zt.largestUnit="year";const Gn=Sr(M,L,ar,zt).years;m+=Gn;const hi=L,ks=ke(null);L=an(M,L,{years:Gn},ks,P),v-=gc(hi,L);const No=new j(v<0?-1:1);let{days:Ss}=sn(M,L,No);Ss=xe(Ss);const As=g.multiply(g.BigInt(Ss),G);R=g.add(g.add(g.multiply(As,g.BigInt(m)),g.multiply(g.BigInt(v),G)),R);const Ja=Tn(R,g.toNumber(g.multiply(As,g.BigInt(u))),p);_e=g.toNumber(R)/g.toNumber(As),m=g.toNumber(g.divide(Ja,As)),R=at,_=b=v=0;break}case"month":{if(!M)throw new RangeError("A starting point is required for months rounding");const se=new j(m,_),P=M.dateAdd,de=ke(null),He=an(M,L,se,de,P),On=new j(m,_,b),pn=ke(null),Mn=an(M,L,On,pn,P),Pe=gc(He,Mn);L=He,v+=Pe;const Ze=ra(v),ar=new j(0,v<0?-1:1);let zt;for({relativeTo:L,days:zt}=sn(M,L,ar);xe(v)>=xe(zt);)_+=Ze,v-=zt,{relativeTo:L,days:zt}=sn(M,L,ar);zt=xe(zt);const Gn=g.multiply(g.BigInt(zt),G);R=g.add(g.add(g.multiply(Gn,g.BigInt(_)),g.multiply(g.BigInt(v),G)),R);const hi=Tn(R,g.toNumber(g.multiply(Gn,g.BigInt(u))),p);_e=g.toNumber(R)/g.toNumber(Gn),_=g.toNumber(g.divide(hi,Gn)),R=at,b=v=0;break}case"week":{if(!M)throw new RangeError("A starting point is required for weeks rounding");const se=ra(v),P=new j(0,0,v<0?-1:1);let de;for({relativeTo:L,days:de}=sn(M,L,P);xe(v)>=xe(de);)b+=se,v-=de,{relativeTo:L,days:de}=sn(M,L,P);de=xe(de);const He=g.multiply(g.BigInt(de),G);R=g.add(g.add(g.multiply(He,g.BigInt(b)),g.multiply(g.BigInt(v),G)),R);const On=Tn(R,g.toNumber(g.multiply(He,g.BigInt(u))),p);_e=g.toNumber(R)/g.toNumber(He),b=g.toNumber(g.divide(On,He)),R=at,v=0;break}case"day":{const se=G;R=g.add(g.multiply(se,g.BigInt(v)),R);const P=Tn(R,g.toNumber(g.multiply(se,g.BigInt(u))),p);_e=g.toNumber(R)/g.toNumber(se),v=g.toNumber(g.divide(P,se)),R=at;break}case"hour":{let P=g.multiply(g.BigInt(T),g.BigInt(36e11));P=g.add(P,g.multiply(g.BigInt(x),g.BigInt(6e10))),P=g.add(P,g.multiply(g.BigInt(N),ei)),P=g.add(P,g.multiply(g.BigInt(D),Fn)),P=g.add(P,g.multiply(g.BigInt(O),Ne)),P=g.add(P,R),_e=g.toNumber(P)/36e11;const de=Tn(P,36e11*u,p);T=g.toNumber(g.divide(de,g.BigInt(36e11))),R=at,x=N=D=O=0;break}case"minute":{let P=g.multiply(g.BigInt(x),g.BigInt(6e10));P=g.add(P,g.multiply(g.BigInt(N),ei)),P=g.add(P,g.multiply(g.BigInt(D),Fn)),P=g.add(P,g.multiply(g.BigInt(O),Ne)),P=g.add(P,R),_e=g.toNumber(P)/6e10;const de=Tn(P,6e10*u,p);x=g.toNumber(g.divide(de,g.BigInt(6e10))),R=at,N=D=O=0;break}case"second":{let P=g.multiply(g.BigInt(N),ei);P=g.add(P,g.multiply(g.BigInt(D),Fn)),P=g.add(P,g.multiply(g.BigInt(O),Ne)),P=g.add(P,R),_e=g.toNumber(P)/1e9;const de=Tn(P,1e9*u,p);N=g.toNumber(g.divide(de,g.BigInt(1e9))),R=at,D=O=0;break}case"millisecond":{let P=g.multiply(g.BigInt(D),Fn);P=g.add(P,g.multiply(g.BigInt(O),Ne)),P=g.add(P,R),_e=g.toNumber(P)/1e6;const de=Tn(P,1e6*u,p);D=g.toNumber(g.divide(de,g.BigInt(1e6))),R=at,O=0;break}case"microsecond":{let P=g.multiply(g.BigInt(O),Ne);P=g.add(P,R),_e=g.toNumber(P)/1e3;const de=Tn(P,1e3*u,p);O=g.toNumber(g.divide(de,g.BigInt(1e3))),R=at;break}case"nanosecond":{_e=g.toNumber(R),R=Tn(R,u,p);break}}return{years:m,months:_,weeks:b,days:v,hours:T,minutes:x,seconds:N,milliseconds:D,microseconds:O,nanoseconds:g.toNumber(R),total:_e}}function Hr(t,e,n,r,i,s){for(const[o,a]of[[t,r],[e,i],[n,s]])if(o!==a)return us(o-a);return 0}function Ls(t,e){let n=t%e;return dy(n,-0)?0:(n<0&&(n+=e),n)}function Gc(t){const e=Go(t);return typeof globalThis.BigInt!="undefined"?globalThis.BigInt(e.toString(10)):e}function Go(t){if(t instanceof g)return t;let e=t;if(typeof t=="object"){const n=t[Symbol.toPrimitive];n&&typeof n=="function"&&(e=af(n,t,["number"]))}switch(typeof e){case"undefined":case"object":case"number":case"symbol":default:throw new TypeError(`cannot convert ${typeof t} to bigint`);case"string":if(!e.match(/^\s*(?:[+-]?\d+\s*)?$/))throw new SyntaxError("invalid BigInt syntax");case"bigint":try{return g.BigInt(e.toString())}catch(n){throw n instanceof Error&&n.message.startsWith("Invalid integer")?new SyntaxError(n.message):n}case"boolean":return e?cf:at}}const Tf=(()=>{let t=g.BigInt(Date.now()%1e6);return()=>{const e=g.BigInt(Date.now()),n=g.add(g.multiply(e,Fn),t);return t=g.divide(e,Fn),g.greaterThan(n,sa)?sa:g.lessThan(n,ia)?ia:n}})();function Cy(){const t=new Ym("en-us"),e=V("%Temporal.TimeZone%");return new e(Zm(t.resolvedOptions().timeZone))}function us(t){return t<0?-1:t>0?1:t}function te(t){if(t===void 0)return ke(null);if(je(t)&&t!==null)return t;throw new TypeError(`Options parameter must be an object, not ${t===null?"null":`${typeof t}`}`)}function ao(t,e){const n=ke(null);return n[t]=e,n}function Pr(t,e,n,r){let i=t[e];if(i!==void 0){if(i=H(i),!n.includes(i))throw new RangeError(`${e} must be one of ${n.join(", ")}, not ${i}`);return i}return r}function Ly(t,e,n,r,i){let s=t[e];if(s===void 0)return i;const o=oa(s);if(ya(o)||o<n||o>r)throw new RangeError(`${e} must be between ${n} and ${r}, not ${o}`);return St(o)}const yg=new RegExp(`^${Um.source}$`);function bg(t,e,n,r=t(e),i=t(n)){let s=g.BigInt(e),o=g.BigInt(n),a=r,c=i;for(;g.greaterThan(g.subtract(o,s),cf);){const l=g.divide(g.add(s,o),g.BigInt(2)),u=t(l);if(u===a)s=l,a=u;else if(u===c)o=l,c=u;else throw new Error(`invalid state in bisection ${a} - ${u} - ${c}`)}return o}const Ef={hour:36e11,minute:6e10,second:1e9,millisecond:1e6,microsecond:1e3,nanosecond:1},vg=Symbol("date"),Tg=Symbol("ym"),Eg=Symbol("md"),xg=Symbol("time"),Ig=Symbol("datetime"),Ng=Symbol("zoneddatetime"),Rg=Symbol("instant"),_o=Symbol("original"),Td=Symbol("timezone"),_c=Symbol("timezone-id-given"),kn=Symbol("calendar-id"),Dg=Symbol("locale"),Ed=Symbol("options"),Wo=t=>({value:t,enumerable:!0,writable:!1,configurable:!0}),vs=globalThis.Intl.DateTimeFormat,$r=Object.assign,Py=Object.prototype.hasOwnProperty,Uy=Reflect.apply;function Wi(t,e){let n=t[e];return typeof n=="function"&&(n=new vs(t[Dg],n(t[Ed])),t[e]=n),n}function ko(t){let e=t[Td];return typeof e=="string"&&(e=dn(e),t[Td]=e),e}function ms(t=void 0,e={}){if(!(this instanceof ms))return new ms(t,e);const n=typeof e!="undefined",r=n?$r({},e):{},i=new vs(t,r),s=i.resolvedOptions();if(n){const o=$r({},s);for(const a in o)Uy(Py,r,[a])||delete o[a];this[Ed]=o}else this[Ed]=r;this[_c]=r.timeZone?r.timeZone:null,this[Dg]=s.locale,this[_o]=i,this[Td]=s.timeZone,this[kn]=s.calendar,this[vg]=Hy,this[Tg]=Wy,this[Eg]=Vy,this[xg]=Gy,this[Ig]=Zy,this[Ng]=Qy,this[Rg]=Xy}Object.defineProperty(ms,"name",{writable:!0,value:"DateTimeFormat"});ms.supportedLocalesOf=function(t,e){return vs.supportedLocalesOf(t,e)};const xf={resolvedOptions:Wo(Fy),format:Wo(By),formatRange:Wo(Yy)};"formatToParts"in vs.prototype&&(xf.formatToParts=Wo(qy));"formatRangeToParts"in vs.prototype&&(xf.formatRangeToParts=Wo(zy));ms.prototype=Object.create(vs.prototype,xf);Object.defineProperty(ms,"prototype",{writable:!1,enumerable:!1,configurable:!1});const Li=ms;function Fy(){return this[_o].resolvedOptions()}function _l(t,e){if(!e)return t;const n=t.resolvedOptions();return n.timeZone===e?t:((n.dateStyle||n.timeStyle)&&(delete n.weekday,delete n.era,delete n.year,delete n.month,delete n.day,delete n.hour,delete n.minute,delete n.second,delete n.timeZoneName,delete n.hourCycle,delete n.hour12,delete n.dayPeriod),new vs(n.locale,{...n,timeZone:e}))}function By(t,...e){let{instant:n,formatter:r,timeZone:i}=lo(t,this);return n&&r?(r=_l(r,i),r.format(n.epochMilliseconds)):this[_o].format(t,...e)}function qy(t,...e){let{instant:n,formatter:r,timeZone:i}=lo(t,this);return n&&r?(r=_l(r,i),r.formatToParts(n.epochMilliseconds)):this[_o].formatToParts(t,...e)}function Yy(t,e){if(co(t)||co(e)){if(!Og(t,e))throw new TypeError("Intl.DateTimeFormat.formatRange accepts two values of the same type");const{instant:n,formatter:r,timeZone:i}=lo(t,this),{instant:s,formatter:o,timeZone:a}=lo(e,this);if(i&&a&&i!==a)throw new RangeError("cannot format range between different time zones");if(n&&s&&r&&o&&r===o)return _l(r,i).formatRange(n.epochMilliseconds,s.epochMilliseconds)}return this[_o].formatRange(t,e)}function zy(t,e){if(co(t)||co(e)){if(!Og(t,e))throw new TypeError("Intl.DateTimeFormat.formatRangeToParts accepts two values of the same type");const{instant:n,formatter:r,timeZone:i}=lo(t,this),{instant:s,formatter:o,timeZone:a}=lo(e,this);if(i&&a&&i!==a)throw new RangeError("cannot format range between different time zones");if(n&&s&&r&&o&&r===o)return _l(r,i).formatRangeToParts(n.epochMilliseconds,s.epochMilliseconds)}return this[_o].formatRangeToParts(t,e)}function Da(t={},e={}){const n=$r({},t);for(const r of["year","month","day","hour","minute","second","weekday","dayPeriod","timeZoneName","dateStyle","timeStyle"])n[r]=r in e?e[r]:n[r],(n[r]===!1||n[r]===void 0)&&delete n[r];return n}function Gy(t){let e=Da(t,{year:!1,month:!1,day:!1,weekday:!1,timeZoneName:!1,dateStyle:!1});return yl(e)||(e=$r({},e,{hour:"numeric",minute:"numeric",second:"numeric"})),e}function Wy(t){let e=Da(t,{day:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"year"in e||"month"in e||(e=$r(e,{year:"numeric",month:"numeric"})),e}function Vy(t){let e=Da(t,{year:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"month"in e||"day"in e||(e=$r({},e,{month:"numeric",day:"numeric"})),e}function Hy(t){let e=Da(t,{hour:!1,minute:!1,second:!1,dayPeriod:!1,timeZoneName:!1,timeStyle:!1});return wl(e)||(e=$r({},e,{year:"numeric",month:"numeric",day:"numeric"})),e}function Zy(t){let e=Da(t,{timeZoneName:!1});return!yl(e)&&!wl(e)&&(e=$r({},e,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),e}function Qy(t){let e=t;return!yl(e)&&!wl(e)&&(e=$r({},e,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),e.timeZoneName===void 0&&(e.timeZoneName="short")),e}function Xy(t){let e=t;return!yl(e)&&!wl(e)&&(e=$r({},e,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),e}function wl(t){return"year"in t||"month"in t||"day"in t||"weekday"in t||"dateStyle"in t}function yl(t){return"hour"in t||"minute"in t||"second"in t||"timeStyle"in t||"dayPeriod"in t}function co(t){return he(t)||Xe(t)||oe(t)||Y(t)||Ie(t)||Mt(t)||It(t)}function Og(t,e){return!(!co(t)||!co(e)||Xe(t)&&!Xe(e)||he(t)&&!he(e)||oe(t)&&!oe(e)||Y(t)&&!Y(e)||Ie(t)&&!Ie(e)||Mt(t)&&!Mt(e)||It(t)&&!It(e))}function lo(t,e){const n=V("%Temporal.PlainDateTime%");if(Xe(t)){const r=f(t,Z),i=f(t,Q),s=f(t,X),o=f(t,K),a=f(t,J),c=f(t,ee),l=new n(1970,1,1,r,i,s,o,a,c,e[kn]);return{instant:un(ko(e),l,"compatible"),formatter:Wi(e,xg)}}if(Ie(t)){const r=f(t,U),i=f(t,B),s=f(t,q),o=H(f(t,S));if(o!==e[kn])throw new RangeError(`cannot format PlainYearMonth with calendar ${o} in locale with calendar ${e[kn]}`);const a=new n(r,i,s,12,0,0,0,0,0,o);return{instant:un(ko(e),a,"compatible"),formatter:Wi(e,Tg)}}if(Mt(t)){const r=f(t,U),i=f(t,B),s=f(t,q),o=H(f(t,S));if(o!==e[kn])throw new RangeError(`cannot format PlainMonthDay with calendar ${o} in locale with calendar ${e[kn]}`);const a=new n(r,i,s,12,0,0,0,0,0,o);return{instant:un(ko(e),a,"compatible"),formatter:Wi(e,Eg)}}if(he(t)){const r=f(t,U),i=f(t,B),s=f(t,q),o=H(f(t,S));if(o!=="iso8601"&&o!==e[kn])throw new RangeError(`cannot format PlainDate with calendar ${o} in locale with calendar ${e[kn]}`);const a=new n(r,i,s,12,0,0,0,0,0,e[kn]);return{instant:un(ko(e),a,"compatible"),formatter:Wi(e,vg)}}if(oe(t)){const r=f(t,U),i=f(t,B),s=f(t,q),o=f(t,Z),a=f(t,Q),c=f(t,X),l=f(t,K),u=f(t,J),d=f(t,ee),p=H(f(t,S));if(p!=="iso8601"&&p!==e[kn])throw new RangeError(`cannot format PlainDateTime with calendar ${p} in locale with calendar ${e[kn]}`);let h=t;return p==="iso8601"&&(h=new n(r,i,s,o,a,c,l,u,d,e[kn])),{instant:un(ko(e),h,"compatible"),formatter:Wi(e,Ig)}}if(Y(t)){const r=H(f(t,S));if(r!=="iso8601"&&r!==e[kn])throw new RangeError(`cannot format ZonedDateTime with calendar ${r} in locale with calendar ${e[kn]}`);const i=f(t,Te),s=H(i);if(e[_c]&&e[_c]!==s)throw new RangeError(`timeZone option ${e[_c]} doesn't match actual time zone ${s}`);return{instant:f(t,Wt),formatter:Wi(e,Ng),timeZone:s}}return It(t)?{instant:t,formatter:Wi(e,Rg)}:{}}var np=Object.freeze({__proto__:null,DateTimeFormat:Li});const So=["year","month","week","day"],rp={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3};class Un{constructor(e){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");const n=Go(e);Ki(n),Cr(this),ae(this,W,n);{const r=fu(this,void 0,"auto");Object.defineProperty(this,"_repr_",{value:`${this[Symbol.toStringTag]} <${r}>`,writable:!1,enumerable:!1,configurable:!1})}}get epochSeconds(){if(!It(this))throw new TypeError("invalid receiver");const e=f(this,W);return g.toNumber(g.divide(e,ei))}get epochMilliseconds(){if(!It(this))throw new TypeError("invalid receiver");const e=g.BigInt(f(this,W));return g.toNumber(g.divide(e,Fn))}get epochMicroseconds(){if(!It(this))throw new TypeError("invalid receiver");const e=g.BigInt(f(this,W));return Gc(g.divide(e,Ne))}get epochNanoseconds(){if(!It(this))throw new TypeError("invalid receiver");return Gc(g.BigInt(f(this,W)))}add(e){if(!It(this))throw new TypeError("invalid receiver");const{hours:n,minutes:r,seconds:i,milliseconds:s,microseconds:o,nanoseconds:a}=er(e,["years","months","weeks","days"]),c=qc(f(this,W),n,r,i,s,o,a);return new Un(c)}subtract(e){if(!It(this))throw new TypeError("invalid receiver");const{hours:n,minutes:r,seconds:i,milliseconds:s,microseconds:o,nanoseconds:a}=er(e,["years","months","weeks","days"]),c=qc(f(this,W),-n,-r,-i,-s,-o,-a);return new Un(c)}until(e,n=void 0){if(!It(this))throw new TypeError("invalid receiver");const r=hr(e),i=te(n),s=cn(i,"nanosecond",So),o=tr("second",s),a=$n(i,"auto",So,o);qn(a,s);const c=Nt(i,"trunc"),l=Bn(i,rp[s],!1),u=f(this,W),d=f(r,W);let{seconds:p,milliseconds:h,microseconds:m,nanoseconds:_}=fa(u,d,l,s,c),b,v;({hours:b,minutes:v,seconds:p,milliseconds:h,microseconds:m,nanoseconds:_}=qt(0,0,0,p,h,m,_,a));const T=V("%Temporal.Duration%");return new T(0,0,0,0,b,v,p,h,m,_)}since(e,n=void 0){if(!It(this))throw new TypeError("invalid receiver");const r=hr(e),i=te(n),s=cn(i,"nanosecond",So),o=tr("second",s),a=$n(i,"auto",So,o);qn(a,s);const c=Nt(i,"trunc"),l=Bn(i,rp[s],!1),u=f(r,W),d=f(this,W);let{seconds:p,milliseconds:h,microseconds:m,nanoseconds:_}=fa(u,d,l,s,c),b,v;({hours:b,minutes:v,seconds:p,milliseconds:h,microseconds:m,nanoseconds:_}=qt(0,0,0,p,h,m,_,a));const T=V("%Temporal.Duration%");return new T(0,0,0,0,b,v,p,h,m,_)}round(e){if(!It(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");const n=typeof e=="string"?ao("smallestUnit",e):te(e),r=cn(n,void 0,So);if(r===void 0)throw new RangeError("smallestUnit is required");const i=Nt(n,"halfExpand"),o=Bn(n,{hour:24,minute:1440,second:86400,millisecond:864e5,microsecond:864e8,nanosecond:864e11}[r],!0),a=f(this,W),c=zc(a,o,r,i);return new Un(c)}equals(e){if(!It(this))throw new TypeError("invalid receiver");const n=hr(e),r=f(this,W),i=f(n,W);return g.equal(g.BigInt(r),g.BigInt(i))}toString(e=void 0){if(!It(this))throw new TypeError("invalid receiver");const n=te(e);let r=n.timeZone;r!==void 0&&(r=dn(r));const{precision:i,unit:s,increment:o}=xa(n),a=Nt(n,"trunc"),c=f(this,W),l=zc(c,o,s,a),u=new Un(l);return fu(u,r,i)}toJSON(){if(!It(this))throw new TypeError("invalid receiver");return fu(this,void 0,"auto")}toLocaleString(e=void 0,n=void 0){if(!It(this))throw new TypeError("invalid receiver");return new Li(e,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.Instant")}toZonedDateTime(e){if(!It(this))throw new TypeError("invalid receiver");if(!je(e))throw new TypeError("invalid argument in toZonedDateTime");const n=e.calendar;if(n===void 0)throw new TypeError("missing calendar property in toZonedDateTime");const r=Yt(n),i=e.timeZone;if(i===void 0)throw new TypeError("missing timeZone property in toZonedDateTime");const s=dn(i);return Lt(f(this,W),s,r)}toZonedDateTimeISO(e){let n=e;if(!It(this))throw new TypeError("invalid receiver");if(je(n)){const s=n.timeZone;s!==void 0&&(n=s)}const r=dn(n),i=pt();return Lt(f(this,W),r,i)}static fromEpochSeconds(e){const n=oa(e),r=g.multiply(g.BigInt(n),ei);return Ki(r),new Un(r)}static fromEpochMilliseconds(e){const n=oa(e),r=g.multiply(g.BigInt(n),Fn);return Ki(r),new Un(r)}static fromEpochMicroseconds(e){const n=Go(e),r=g.multiply(n,Ne);return Ki(r),new Un(r)}static fromEpochNanoseconds(e){const n=Go(e);return Ki(n),new Un(n)}static from(e){return It(e)?new Un(f(e,W)):hr(e)}static compare(e,n){const r=hr(e),i=hr(n),s=f(r,W),o=f(i,W);return g.lessThan(s,o)?-1:g.greaterThan(s,o)?1:0}}Mr(Un,"Temporal.Instant");const rc=["hour","minute","second","millisecond","microsecond","nanosecond"];class Oa{constructor(e,n,r,i=pt()){const s=Oe(e),o=Oe(n),a=Oe(r),c=Yt(i);if(arguments.length<3)throw new RangeError("missing argument: isoYear, isoMonth and isoDay are required");eg(this,s,o,a,c)}get calendar(){if(!he(this))throw new TypeError("invalid receiver");return f(this,S)}get era(){if(!he(this))throw new TypeError("invalid receiver");return ul(f(this,S),this)}get eraYear(){if(!he(this))throw new TypeError("invalid receiver");return dl(f(this,S),this)}get year(){if(!he(this))throw new TypeError("invalid receiver");return al(f(this,S),this)}get month(){if(!he(this))throw new TypeError("invalid receiver");return cl(f(this,S),this)}get monthCode(){if(!he(this))throw new TypeError("invalid receiver");return Na(f(this,S),this)}get day(){if(!he(this))throw new TypeError("invalid receiver");return ll(f(this,S),this)}get dayOfWeek(){if(!he(this))throw new TypeError("invalid receiver");return df(f(this,S),this)}get dayOfYear(){if(!he(this))throw new TypeError("invalid receiver");return ff(f(this,S),this)}get weekOfYear(){if(!he(this))throw new TypeError("invalid receiver");return hf(f(this,S),this)}get daysInWeek(){if(!he(this))throw new TypeError("invalid receiver");return pf(f(this,S),this)}get daysInMonth(){if(!he(this))throw new TypeError("invalid receiver");return Vs(f(this,S),this)}get daysInYear(){if(!he(this))throw new TypeError("invalid receiver");return fl(f(this,S),this)}get monthsInYear(){if(!he(this))throw new TypeError("invalid receiver");return hl(f(this,S),this)}get inLeapYear(){if(!he(this))throw new TypeError("invalid receiver");return pl(f(this,S),this)}with(e,n=void 0){if(!he(this))throw new TypeError("invalid receiver");if(!je(e))throw new TypeError("invalid argument");mo(e);const r=f(this,S),i=Je(r,["day","month","monthCode","year"]),s=Ci(e,i);if(!s)throw new TypeError("invalid date-like");let o=cd(this,i);o=hs(r,o,s),o=cd(o,i);const a=te(n);return fr(r,o,a)}withCalendar(e){if(!he(this))throw new TypeError("invalid receiver");const n=Yt(e);return new Oa(f(this,U),f(this,B),f(this,q),n)}add(e,n=void 0){if(!he(this))throw new TypeError("invalid receiver");const r=Ws(e),i=te(n);return an(f(this,S),this,r,i)}subtract(e,n=void 0){if(!he(this))throw new TypeError("invalid receiver");const r=hg(Ws(e)),i=te(n);return an(f(this,S),this,r,i)}until(e,n=void 0){if(!he(this))throw new TypeError("invalid receiver");const r=De(e),i=f(this,S),s=f(r,S),o=H(i),a=H(s);if(o!==a)throw new RangeError(`cannot compute difference between dates of ${o} and ${a} calendars`);const c=te(n),l=cn(c,"day",rc),u=tr("day",l),d=$n(c,"auto",rc,u);qn(d,l);const p=Nt(c,"trunc"),h=Bn(c,void 0,!1),m={...c,largestUnit:d},_=Sr(i,this,r,m);if(l==="day"&&h===1)return _;let{years:b,months:v,weeks:T,days:x}=_;({years:b,months:v,weeks:T,days:x}=Yn(b,v,T,x,0,0,0,0,0,0,h,l,p,this));const N=V("%Temporal.Duration%");return new N(b,v,T,x,0,0,0,0,0,0)}since(e,n=void 0){if(!he(this))throw new TypeError("invalid receiver");const r=De(e),i=f(this,S),s=f(r,S),o=H(i),a=H(s);if(o!==a)throw new RangeError(`cannot compute difference between dates of ${o} and ${a} calendars`);const c=te(n),l=cn(c,"day",rc),u=tr("day",l),d=$n(c,"auto",rc,u);qn(d,l);const p=Nt(c,"trunc"),h=Bn(c,void 0,!1),m={...c,largestUnit:d};let{years:_,months:b,weeks:v,days:T}=Sr(i,this,r,m);const x=V("%Temporal.Duration%");return l==="day"&&h===1?new x(-_,-b,-v,-T,0,0,0,0,0,0):({years:_,months:b,weeks:v,days:T}=Yn(_,b,v,T,0,0,0,0,0,0,h,l,Ta(p),this),new x(-_,-b,-v,-T,0,0,0,0,0,0))}equals(e){if(!he(this))throw new TypeError("invalid receiver");const n=De(e);for(const r of[U,B,q]){const i=f(this,r),s=f(n,r);if(i!==s)return!1}return Ra(f(this,S),f(n,S))}toString(e=void 0){if(!he(this))throw new TypeError("invalid receiver");const n=te(e),r=Ea(n);return ud(this,r)}toJSON(){if(!he(this))throw new TypeError("invalid receiver");return ud(this)}toLocaleString(e=void 0,n=void 0){if(!he(this))throw new TypeError("invalid receiver");return new Li(e,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDate")}toPlainDateTime(e=void 0){if(!he(this))throw new TypeError("invalid receiver");const n=f(this,U),r=f(this,B),i=f(this,q),s=f(this,S);if(e===void 0)return gn(n,r,i,0,0,0,0,0,0,s);const o=Nr(e),a=f(o,Z),c=f(o,Q),l=f(o,X),u=f(o,K),d=f(o,J),p=f(o,ee);return gn(n,r,i,a,c,l,u,d,p,s)}toZonedDateTime(e){if(!he(this))throw new TypeError("invalid receiver");let n,r;if(je(e)){const b=e.timeZone;b===void 0?n=dn(e):(n=dn(b),r=e.plainTime)}else n=dn(e);const i=f(this,U),s=f(this,B),o=f(this,q),a=f(this,S);let c=0,l=0,u=0,d=0,p=0,h=0;r!==void 0&&(r=Nr(r),c=f(r,Z),l=f(r,Q),u=f(r,X),d=f(r,K),p=f(r,J),h=f(r,ee));const m=gn(i,s,o,c,l,u,d,p,h,a),_=un(n,m,"compatible");return Lt(f(_,W),n,a)}toPlainYearMonth(){if(!he(this))throw new TypeError("invalid receiver");const e=f(this,S),n=Je(e,["monthCode","year"]),r=vn(this,n);return Ri(e,r)}toPlainMonthDay(){if(!he(this))throw new TypeError("invalid receiver");const e=f(this,S),n=Je(e,["day","monthCode"]),r=as(this,n);return so(e,r)}getISOFields(){if(!he(this))throw new TypeError("invalid receiver");return{calendar:f(this,S),isoDay:f(this,q),isoMonth:f(this,B),isoYear:f(this,U)}}static from(e,n=void 0){const r=te(n);return he(e)?(Ft(r),nr(f(e,U),f(e,B),f(e,q),f(e,S))):De(e,r)}static compare(e,n){const r=De(e),i=De(n);return Hr(f(r,U),f(r,B),f(r,q),f(i,U),f(i,B),f(i,q))}}Mr(Oa,"Temporal.PlainDate");class ka{constructor(e,n,r,i=0,s=0,o=0,a=0,c=0,l=0,u=pt()){const d=Oe(e),p=Oe(n),h=Oe(r),m=Oe(i),_=Oe(s),b=Oe(o),v=Oe(a),T=Oe(c),x=Oe(l),N=Yt(u);if(arguments.length<3)throw new RangeError("missing argument: isoYear, isoMonth and isoDay are required");tg(this,d,p,h,m,_,b,v,T,x,N)}get calendar(){if(!oe(this))throw new TypeError("invalid receiver");return f(this,S)}get year(){if(!oe(this))throw new TypeError("invalid receiver");return al(f(this,S),this)}get month(){if(!oe(this))throw new TypeError("invalid receiver");return cl(f(this,S),this)}get monthCode(){if(!oe(this))throw new TypeError("invalid receiver");return Na(f(this,S),this)}get day(){if(!oe(this))throw new TypeError("invalid receiver");return ll(f(this,S),this)}get hour(){if(!oe(this))throw new TypeError("invalid receiver");return f(this,Z)}get minute(){if(!oe(this))throw new TypeError("invalid receiver");return f(this,Q)}get second(){if(!oe(this))throw new TypeError("invalid receiver");return f(this,X)}get millisecond(){if(!oe(this))throw new TypeError("invalid receiver");return f(this,K)}get microsecond(){if(!oe(this))throw new TypeError("invalid receiver");return f(this,J)}get nanosecond(){if(!oe(this))throw new TypeError("invalid receiver");return f(this,ee)}get era(){if(!oe(this))throw new TypeError("invalid receiver");return ul(f(this,S),this)}get eraYear(){if(!oe(this))throw new TypeError("invalid receiver");return dl(f(this,S),this)}get dayOfWeek(){if(!oe(this))throw new TypeError("invalid receiver");return df(f(this,S),this)}get dayOfYear(){if(!oe(this))throw new TypeError("invalid receiver");return ff(f(this,S),this)}get weekOfYear(){if(!oe(this))throw new TypeError("invalid receiver");return hf(f(this,S),this)}get daysInWeek(){if(!oe(this))throw new TypeError("invalid receiver");return pf(f(this,S),this)}get daysInYear(){if(!oe(this))throw new TypeError("invalid receiver");return fl(f(this,S),this)}get daysInMonth(){if(!oe(this))throw new TypeError("invalid receiver");return Vs(f(this,S),this)}get monthsInYear(){if(!oe(this))throw new TypeError("invalid receiver");return hl(f(this,S),this)}get inLeapYear(){if(!oe(this))throw new TypeError("invalid receiver");return pl(f(this,S),this)}with(e,n=void 0){if(!oe(this))throw new TypeError("invalid receiver");if(!je(e))throw new TypeError("invalid argument");mo(e);const r=te(n),i=f(this,S),s=Je(i,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),o=Ci(e,s);if(!o)throw new TypeError("invalid date-time-like");let a=Lc(this,s);a=hs(i,a,o),a=Lc(a,s);const{year:c,month:l,day:u,hour:d,minute:p,second:h,millisecond:m,microsecond:_,nanosecond:b}=Ia(i,a,r);return gn(c,l,u,d,p,h,m,_,b,i)}withPlainTime(e=void 0){if(!oe(this))throw new TypeError("invalid receiver");const n=f(this,U),r=f(this,B),i=f(this,q),s=f(this,S);if(e===void 0)return gn(n,r,i,0,0,0,0,0,0,s);const o=Nr(e),a=f(o,Z),c=f(o,Q),l=f(o,X),u=f(o,K),d=f(o,J),p=f(o,ee);return gn(n,r,i,a,c,l,u,d,p,s)}withPlainDate(e){if(!oe(this))throw new TypeError("invalid receiver");const n=De(e),r=f(n,U),i=f(n,B),s=f(n,q);let o=f(n,S);const a=f(this,Z),c=f(this,Q),l=f(this,X),u=f(this,K),d=f(this,J),p=f(this,ee);return o=sg(f(this,S),o),gn(r,i,s,a,c,l,u,d,p,o)}withCalendar(e){if(!oe(this))throw new TypeError("invalid receiver");const n=Yt(e);return new ka(f(this,U),f(this,B),f(this,q),f(this,Z),f(this,Q),f(this,X),f(this,K),f(this,J),f(this,ee),n)}add(e,n=void 0){if(!oe(this))throw new TypeError("invalid receiver");const r=er(e),{years:i,months:s,weeks:o,days:a,hours:c,minutes:l,seconds:u,milliseconds:d,microseconds:p,nanoseconds:h}=r,m=te(n),_=f(this,S),{year:b,month:v,day:T,hour:x,minute:N,second:D,millisecond:O,microsecond:R,nanosecond:j}=Yc(f(this,U),f(this,B),f(this,q),f(this,Z),f(this,Q),f(this,X),f(this,K),f(this,J),f(this,ee),_,i,s,o,a,c,l,u,d,p,h,m);return gn(b,v,T,x,N,D,O,R,j,_)}subtract(e,n=void 0){if(!oe(this))throw new TypeError("invalid receiver");const r=er(e),{years:i,months:s,weeks:o,days:a,hours:c,minutes:l,seconds:u,milliseconds:d,microseconds:p,nanoseconds:h}=r,m=te(n),_=f(this,S),{year:b,month:v,day:T,hour:x,minute:N,second:D,millisecond:O,microsecond:R,nanosecond:j}=Yc(f(this,U),f(this,B),f(this,q),f(this,Z),f(this,Q),f(this,X),f(this,K),f(this,J),f(this,ee),_,-i,-s,-o,-a,-c,-l,-u,-d,-p,-h,m);return gn(b,v,T,x,N,D,O,R,j,_)}until(e,n=void 0){if(!oe(this))throw new TypeError("invalid receiver");const r=yi(e),i=f(this,S),s=f(r,S),o=H(i),a=H(s);if(o!==a)throw new RangeError(`cannot compute difference between dates of ${o} and ${a} calendars`);const c=te(n),l=cn(c,"nanosecond"),u=tr("day",l),d=$n(c,"auto",[],u);qn(d,l);const p=Nt(c,"trunc"),h=ca(c,l);let{years:m,months:_,weeks:b,days:v,hours:T,minutes:x,seconds:N,milliseconds:D,microseconds:O,nanoseconds:R}=Bc(f(this,U),f(this,B),f(this,q),f(this,Z),f(this,Q),f(this,X),f(this,K),f(this,J),f(this,ee),f(r,U),f(r,B),f(r,q),f(r,Z),f(r,Q),f(r,X),f(r,K),f(r,J),f(r,ee),i,d,c);const j=cs(this);({years:m,months:_,weeks:b,days:v,hours:T,minutes:x,seconds:N,milliseconds:D,microseconds:O,nanoseconds:R}=Yn(m,_,b,v,T,x,N,D,O,R,h,l,p,j)),{days:v,hours:T,minutes:x,seconds:N,milliseconds:D,microseconds:O,nanoseconds:R}=qt(v,T,x,N,D,O,R,d);const M=V("%Temporal.Duration%");return new M(m,_,b,v,T,x,N,D,O,R)}since(e,n=void 0){if(!oe(this))throw new TypeError("invalid receiver");const r=yi(e),i=f(this,S),s=f(r,S),o=H(i),a=H(s);if(o!==a)throw new RangeError(`cannot compute difference between dates of ${o} and ${a} calendars`);const c=te(n),l=cn(c,"nanosecond"),u=tr("day",l),d=$n(c,"auto",[],u);qn(d,l);const p=Nt(c,"trunc"),h=ca(c,l);let{years:m,months:_,weeks:b,days:v,hours:T,minutes:x,seconds:N,milliseconds:D,microseconds:O,nanoseconds:R}=Bc(f(this,U),f(this,B),f(this,q),f(this,Z),f(this,Q),f(this,X),f(this,K),f(this,J),f(this,ee),f(r,U),f(r,B),f(r,q),f(r,Z),f(r,Q),f(r,X),f(r,K),f(r,J),f(r,ee),i,d,c);const j=cs(this);({years:m,months:_,weeks:b,days:v,hours:T,minutes:x,seconds:N,milliseconds:D,microseconds:O,nanoseconds:R}=Yn(m,_,b,v,T,x,N,D,O,R,h,l,Ta(p),j)),{days:v,hours:T,minutes:x,seconds:N,milliseconds:D,microseconds:O,nanoseconds:R}=qt(v,T,x,N,D,O,R,d);const M=V("%Temporal.Duration%");return new M(-m,-_,-b,-v,-T,-x,-N,-D,-O,-R)}round(e){if(!oe(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");const n=typeof e=="string"?ao("smallestUnit",e):te(e),r=cn(n,void 0,["year","month","week"]);if(r===void 0)throw new RangeError("smallestUnit is required");const i=Nt(n,"halfExpand"),o=Bn(n,{day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[r],!1);let a=f(this,U),c=f(this,B),l=f(this,q),u=f(this,Z),d=f(this,Q),p=f(this,X),h=f(this,K),m=f(this,J),_=f(this,ee);return{year:a,month:c,day:l,hour:u,minute:d,second:p,millisecond:h,microsecond:m,nanosecond:_}=bf(a,c,l,u,d,p,h,m,_,o,r,i),gn(a,c,l,u,d,p,h,m,_,f(this,S))}equals(e){if(!oe(this))throw new TypeError("invalid receiver");const n=yi(e);for(const r of[U,B,q,Z,Q,X,K,J,ee]){const i=f(this,r),s=f(n,r);if(i!==s)return!1}return Ra(f(this,S),f(n,S))}toString(e=void 0){if(!oe(this))throw new TypeError("invalid receiver");const n=te(e),{precision:r,unit:i,increment:s}=xa(n),o=Ea(n),a=Nt(n,"trunc");return dd(this,r,o,{unit:i,increment:s,roundingMode:a})}toJSON(){if(!oe(this))throw new TypeError("invalid receiver");return dd(this,"auto")}toLocaleString(e=void 0,n=void 0){if(!oe(this))throw new TypeError("invalid receiver");return new Li(e,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDateTime")}toZonedDateTime(e,n=void 0){if(!oe(this))throw new TypeError("invalid receiver");const r=dn(e),i=te(n),s=aa(i),o=un(r,this,s);return Lt(f(o,W),r,f(this,S))}toPlainDate(){if(!oe(this))throw new TypeError("invalid receiver");return cs(this)}toPlainYearMonth(){if(!oe(this))throw new TypeError("invalid receiver");const e=f(this,S),n=Je(e,["monthCode","year"]),r=vn(this,n);return Ri(e,r)}toPlainMonthDay(){if(!oe(this))throw new TypeError("invalid receiver");const e=f(this,S),n=Je(e,["day","monthCode"]),r=as(this,n);return so(e,r)}toPlainTime(){if(!oe(this))throw new TypeError("invalid receiver");return mf(this)}getISOFields(){if(!oe(this))throw new TypeError("invalid receiver");return{calendar:f(this,S),isoDay:f(this,q),isoHour:f(this,Z),isoMicrosecond:f(this,J),isoMillisecond:f(this,K),isoMinute:f(this,Q),isoMonth:f(this,B),isoNanosecond:f(this,ee),isoSecond:f(this,X),isoYear:f(this,U)}}static from(e,n=void 0){const r=te(n);return oe(e)?(Ft(r),gn(f(e,U),f(e,B),f(e,q),f(e,Z),f(e,Q),f(e,X),f(e,K),f(e,J),f(e,ee),f(e,S))):yi(e,r)}static compare(e,n){const r=yi(e),i=yi(n);for(const s of[U,B,q,Z,Q,X,K,J,ee]){const o=f(r,s),a=f(i,s);if(o!==a)return us(o-a)}return 0}}Mr(ka,"Temporal.PlainDateTime");class Rr{constructor(e=0,n=0,r=0,i=0,s=0,o=0,a=0,c=0,l=0,u=0){const d=Ct(e),p=Ct(n),h=Ct(r),m=Ct(i),_=Ct(s),b=Ct(o),v=Ct(a),T=Ct(c),x=Ct(l),N=Ct(u),D=Kn(d,p,h,m,_,b,v,T,x,N);for(const O of[d,p,h,m,_,b,v,T,x,N]){if(!Number.isFinite(O))throw new RangeError("infinite values not allowed as duration fields");const R=Math.sign(O);if(R!==0&&R!==D)throw new RangeError("mixed-sign values not allowed as duration fields")}Cr(this),ae(this,Qt,d),ae(this,kt,p),ae(this,ln,h),ae(this,Xt,m),ae(this,Kt,_),ae(this,Jt,b),ae(this,en,v),ae(this,tn,T),ae(this,nn,x),ae(this,rn,N),Object.defineProperty(this,"_repr_",{value:`${this[Symbol.toStringTag]} <${tc(this)}>`,writable:!1,enumerable:!1,configurable:!1})}get years(){if(!Qe(this))throw new TypeError("invalid receiver");return f(this,Qt)}get months(){if(!Qe(this))throw new TypeError("invalid receiver");return f(this,kt)}get weeks(){if(!Qe(this))throw new TypeError("invalid receiver");return f(this,ln)}get days(){if(!Qe(this))throw new TypeError("invalid receiver");return f(this,Xt)}get hours(){if(!Qe(this))throw new TypeError("invalid receiver");return f(this,Kt)}get minutes(){if(!Qe(this))throw new TypeError("invalid receiver");return f(this,Jt)}get seconds(){if(!Qe(this))throw new TypeError("invalid receiver");return f(this,en)}get milliseconds(){if(!Qe(this))throw new TypeError("invalid receiver");return f(this,tn)}get microseconds(){if(!Qe(this))throw new TypeError("invalid receiver");return f(this,nn)}get nanoseconds(){if(!Qe(this))throw new TypeError("invalid receiver");return f(this,rn)}get sign(){if(!Qe(this))throw new TypeError("invalid receiver");return Kn(f(this,Qt),f(this,kt),f(this,ln),f(this,Xt),f(this,Kt),f(this,Jt),f(this,en),f(this,tn),f(this,nn),f(this,rn))}get blank(){if(!Qe(this))throw new TypeError("invalid receiver");return Kn(f(this,Qt),f(this,kt),f(this,ln),f(this,Xt),f(this,Kt),f(this,Jt),f(this,en),f(this,tn),f(this,nn),f(this,rn))===0}with(e){if(!Qe(this))throw new TypeError("invalid receiver");const n=Ci(e,["days","hours","microseconds","milliseconds","minutes","months","nanoseconds","seconds","weeks","years"]);if(!n)throw new TypeError("invalid duration-like");const{years:r=f(this,Qt),months:i=f(this,kt),weeks:s=f(this,ln),days:o=f(this,Xt),hours:a=f(this,Kt),minutes:c=f(this,Jt),seconds:l=f(this,en),milliseconds:u=f(this,tn),microseconds:d=f(this,nn),nanoseconds:p=f(this,rn)}=n;return new Rr(r,i,s,o,a,c,l,u,d,p)}negated(){if(!Qe(this))throw new TypeError("invalid receiver");return hg(this)}abs(){if(!Qe(this))throw new TypeError("invalid receiver");return new Rr(Math.abs(f(this,Qt)),Math.abs(f(this,kt)),Math.abs(f(this,ln)),Math.abs(f(this,Xt)),Math.abs(f(this,Kt)),Math.abs(f(this,Jt)),Math.abs(f(this,en)),Math.abs(f(this,tn)),Math.abs(f(this,nn)),Math.abs(f(this,rn)))}add(e,n=void 0){if(!Qe(this))throw new TypeError("invalid receiver");let{years:r,months:i,weeks:s,days:o,hours:a,minutes:c,seconds:l,milliseconds:u,microseconds:d,nanoseconds:p}=er(e);const h=te(n),m=Oo(h);return{years:r,months:i,weeks:s,days:o,hours:a,minutes:c,seconds:l,milliseconds:u,microseconds:d,nanoseconds:p}=yd(f(this,Qt),f(this,kt),f(this,ln),f(this,Xt),f(this,Kt),f(this,Jt),f(this,en),f(this,tn),f(this,nn),f(this,rn),r,i,s,o,a,c,l,u,d,p,m),new Rr(r,i,s,o,a,c,l,u,d,p)}subtract(e,n=void 0){if(!Qe(this))throw new TypeError("invalid receiver");let{years:r,months:i,weeks:s,days:o,hours:a,minutes:c,seconds:l,milliseconds:u,microseconds:d,nanoseconds:p}=er(e);const h=te(n),m=Oo(h);return{years:r,months:i,weeks:s,days:o,hours:a,minutes:c,seconds:l,milliseconds:u,microseconds:d,nanoseconds:p}=yd(f(this,Qt),f(this,kt),f(this,ln),f(this,Xt),f(this,Kt),f(this,Jt),f(this,en),f(this,tn),f(this,nn),f(this,rn),-r,-i,-s,-o,-a,-c,-l,-u,-d,-p,m),new Rr(r,i,s,o,a,c,l,u,d,p)}round(e){if(!Qe(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");let n=f(this,Qt),r=f(this,kt),i=f(this,ln),s=f(this,Xt),o=f(this,Kt),a=f(this,Jt),c=f(this,en),l=f(this,tn),u=f(this,nn),d=f(this,rn),p=ad(n,r,i,s,o,a,c,l,u,d);const h=typeof e=="string"?ao("smallestUnit",e):te(e);let m=cn(h,void 0),_=!0;m||(_=!1,m="nanosecond"),p=tr(p,m);let b=$n(h,void 0),v=!0;if(b||(v=!1,b=p),b==="auto"&&(b=p),!_&&!v)throw new RangeError("at least one of smallestUnit or largestUnit is required");qn(b,m);const T=Nt(h,"halfExpand"),x=ca(h,m);let N=Oo(h);return{years:n,months:r,weeks:i,days:s}=nc(n,r,i,s,b,N),{years:n,months:r,weeks:i,days:s,hours:o,minutes:a,seconds:c,milliseconds:l,microseconds:u,nanoseconds:d}=Yn(n,r,i,s,o,a,c,l,u,d,x,m,T,N),{years:n,months:r,weeks:i,days:s,hours:o,minutes:a,seconds:c,milliseconds:l,microseconds:u,nanoseconds:d}=vd(n,r,i,s,o,a,c,l,u,d,x,m,T,N),{years:n,months:r,weeks:i,days:s}=$y(n,r,i,s,b,N),Y(N)&&(N=bd(N,n,r,i,0)),{days:s,hours:o,minutes:a,seconds:c,milliseconds:l,microseconds:u,nanoseconds:d}=qt(s,o,a,c,l,u,d,b,N),new Rr(n,r,i,s,o,a,c,l,u,d)}total(e){if(!Qe(this))throw new TypeError("invalid receiver");let n=f(this,Qt),r=f(this,kt),i=f(this,ln),s=f(this,Xt),o=f(this,Kt),a=f(this,Jt),c=f(this,en),l=f(this,tn),u=f(this,nn),d=f(this,rn);if(e===void 0)throw new TypeError("options argument is required");const p=typeof e=="string"?ao("unit",e):te(e),h=Ny(p);if(h===void 0)throw new RangeError("unit option is required");const m=Oo(p);({years:n,months:r,weeks:i,days:s}=nc(n,r,i,s,h,m));let _;Y(m)&&(_=bd(m,n,r,i,0)),{days:s,hours:o,minutes:a,seconds:c,milliseconds:l,microseconds:u,nanoseconds:d}=qt(s,o,a,c,l,u,d,h,_);const{total:b}=Yn(n,r,i,s,o,a,c,l,u,d,1,h,"trunc",m);return b}toString(e=void 0){if(!Qe(this))throw new TypeError("invalid receiver");const n=te(e),{precision:r,unit:i,increment:s}=xa(n);if(r==="minute")throw new RangeError('smallestUnit must not be "minute"');const o=Nt(n,"trunc");return tc(this,r,{unit:i,increment:s,roundingMode:o})}toJSON(){if(!Qe(this))throw new TypeError("invalid receiver");return tc(this)}toLocaleString(e=void 0,n=void 0){if(!Qe(this))throw new TypeError("invalid receiver");return typeof Intl!="undefined"&&typeof Intl.DurationFormat!="undefined"?new Intl.DurationFormat(e,n).format(this):(console.warn("Temporal.Duration.prototype.toLocaleString() requires Intl.DurationFormat."),tc(this))}valueOf(){throw new TypeError("use compare() to compare Temporal.Duration")}static from(e){return Qe(e)?new Rr(f(e,Qt),f(e,kt),f(e,ln),f(e,Xt),f(e,Kt),f(e,Jt),f(e,en),f(e,tn),f(e,nn),f(e,rn)):Ws(e)}static compare(e,n,r=void 0){const i=Ws(e),s=Ws(n),o=te(r),a=Oo(o),c=f(i,Qt),l=f(i,kt),u=f(i,ln);let d=f(i,Xt);const p=f(i,Kt),h=f(i,Jt),m=f(i,en),_=f(i,tn),b=f(i,nn);let v=f(i,rn);const T=f(s,Qt),x=f(s,kt),N=f(s,ln);let D=f(s,Xt);const O=f(s,Kt),R=f(s,Jt),j=f(s,en),M=f(s,tn),z=f(s,nn);let L=f(s,rn);const G=tp(a,c,l,u,d,p,h,m,_,b,v),_e=tp(a,T,x,N,D,O,R,j,M,z,L);(c!==0||T!==0||l!==0||x!==0||u!==0||N!==0)&&({days:d}=nc(c,l,u,d,"day",a),{days:D}=nc(T,x,N,D,"day",a));const se=oo(d,p,h,m,_,b,v,G),P=oo(D,O,R,j,M,z,L,_e);return us(g.toNumber(g.subtract(se,P)))}}Mr(Rr,"Temporal.Duration");const Ky=Object.create;class If{constructor(e,n,r=pt(),i=1972){const s=Oe(e),o=Oe(n),a=Yt(r),c=Oe(i);if(arguments.length<2)throw new RangeError("missing argument: isoMonth and isoDay are required");ng(this,s,o,a,c)}get monthCode(){if(!Mt(this))throw new TypeError("invalid receiver");return Na(f(this,S),this)}get day(){if(!Mt(this))throw new TypeError("invalid receiver");return ll(f(this,S),this)}get calendar(){if(!Mt(this))throw new TypeError("invalid receiver");return f(this,S)}with(e,n=void 0){if(!Mt(this))throw new TypeError("invalid receiver");if(!je(e))throw new TypeError("invalid argument");mo(e);const r=f(this,S),i=Je(r,["day","month","monthCode","year"]),s=Ci(e,i);if(!s)throw new TypeError("invalid month-day-like");let o=as(this,i);o=hs(r,o,s),o=as(o,i);const a=te(n);return so(r,o,a)}equals(e){if(!Mt(this))throw new TypeError("invalid receiver");const n=Jh(e);for(const r of[B,q,U]){const i=f(this,r),s=f(n,r);if(i!==s)return!1}return Ra(f(this,S),f(n,S))}toString(e=void 0){if(!Mt(this))throw new TypeError("invalid receiver");const n=te(e),r=Ea(n);return fd(this,r)}toJSON(){if(!Mt(this))throw new TypeError("invalid receiver");return fd(this)}toLocaleString(e=void 0,n=void 0){if(!Mt(this))throw new TypeError("invalid receiver");return new Li(e,n).format(this)}valueOf(){throw new TypeError("use equals() to compare Temporal.PlainMonthDay")}toPlainDate(e){if(!Mt(this))throw new TypeError("invalid receiver");if(!je(e))throw new TypeError("argument should be an object");const n=f(this,S),r=Je(n,["day","monthCode"]),i=as(this,r),s=Je(n,["year"]),o=[["year",void 0]];s.forEach(p=>{o.some(([h])=>h===p)||o.push([p,void 0])});const a=Bt(e,o);let c=hs(n,i,a);const l=[...new Set([...r,...s])],u=[];l.forEach(p=>{u.some(([h])=>h===p)||u.push([p,void 0])}),c=Bt(c,u);const d=Ky(null);return d.overflow="reject",fr(n,c,d)}getISOFields(){if(!Mt(this))throw new TypeError("invalid receiver");return{calendar:f(this,S),isoDay:f(this,q),isoMonth:f(this,B),isoYear:f(this,U)}}static from(e,n=void 0){const r=te(n);return Mt(e)?(Ft(r),la(f(e,B),f(e,q),f(e,S),f(e,U))):Jh(e,r)}}Mr(If,"Temporal.PlainMonthDay");const Nf=()=>{const t=V("%Temporal.Instant%");return new t(Tf())},kg=(t,e=Pi())=>{const n=dn(e),r=Yt(t),i=Nf();return jn(n,i,r)},Rf=(t=Pi())=>{const e=dn(t),n=pt(),r=Nf();return jn(e,r,n)},Sg=(t,e=Pi())=>{const n=dn(e),r=Yt(t);return Lt(Tf(),n,r)},Jy=(t=Pi())=>Sg(pt(),t),e1=(t,e=Pi())=>cs(kg(t,e)),t1=(t=Pi())=>cs(Rf(t)),n1=(t=Pi())=>mf(Rf(t)),Pi=()=>Cy(),Ag={instant:Nf,plainDateTime:kg,plainDateTimeISO:Rf,plainDate:e1,plainDateISO:t1,plainTimeISO:n1,timeZone:Pi,zonedDateTime:Sg,zonedDateTimeISO:Jy,[Symbol.toStringTag]:"Temporal.Now"};Object.defineProperty(Ag,Symbol.toStringTag,{value:"Temporal.Now",writable:!1,enumerable:!1,configurable:!0});const r1=Object.assign,Ao=["year","month","week","day"],hu={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3};function pu(t,e,n=void 0){let r=f(t,Z),i=f(t,Q),s=f(t,X),o=f(t,K),a=f(t,J),c=f(t,ee);if(n){const{unit:p,increment:h,roundingMode:m}=n;({hour:r,minute:i,second:s,millisecond:o,microsecond:a,nanosecond:c}=vf(r,i,s,o,a,c,h,p,m))}const l=Fe(r),u=Fe(i),d=ml(s,o,a,c,e);return`${l}:${u}${d}`}class Zr{constructor(e=0,n=0,r=0,i=0,s=0,o=0){const a=Oe(e),c=Oe(n),l=Oe(r),u=Oe(i),d=Oe(s),p=Oe(o);gl(a,c,l,u,d,p),Cr(this),ae(this,Z,a),ae(this,Q,c),ae(this,X,l),ae(this,K,u),ae(this,J,d),ae(this,ee,p),ae(this,S,pt()),Object.defineProperty(this,"_repr_",{value:`${this[Symbol.toStringTag]} <${pu(this,"auto")}>`,writable:!1,enumerable:!1,configurable:!1})}get calendar(){if(!Xe(this))throw new TypeError("invalid receiver");return f(this,S)}get hour(){if(!Xe(this))throw new TypeError("invalid receiver");return f(this,Z)}get minute(){if(!Xe(this))throw new TypeError("invalid receiver");return f(this,Q)}get second(){if(!Xe(this))throw new TypeError("invalid receiver");return f(this,X)}get millisecond(){if(!Xe(this))throw new TypeError("invalid receiver");return f(this,K)}get microsecond(){if(!Xe(this))throw new TypeError("invalid receiver");return f(this,J)}get nanosecond(){if(!Xe(this))throw new TypeError("invalid receiver");return f(this,ee)}with(e,n=void 0){if(!Xe(this))throw new TypeError("invalid receiver");if(!je(e))throw new TypeError("invalid argument");mo(e);const r=te(n),i=Ft(r),s=Ci(e,["hour","microsecond","millisecond","minute","nanosecond","second"]);if(!s)throw new TypeError("invalid time-like");const o=uf(this);let{hour:a,minute:c,second:l,millisecond:u,microsecond:d,nanosecond:p}=r1(o,s);return{hour:a,minute:c,second:l,millisecond:u,microsecond:d,nanosecond:p}=zo(a,c,l,u,d,p,i),new Zr(a,c,l,u,d,p)}add(e){if(!Xe(this))throw new TypeError("invalid receiver");const n=er(e),{hours:r,minutes:i,seconds:s,milliseconds:o,microseconds:a,nanoseconds:c}=n;let l=f(this,Z),u=f(this,Q),d=f(this,X),p=f(this,K),h=f(this,J),m=f(this,ee);return{hour:l,minute:u,second:d,millisecond:p,microsecond:h,nanosecond:m}=wd(l,u,d,p,h,m,r,i,s,o,a,c),{hour:l,minute:u,second:d,millisecond:p,microsecond:h,nanosecond:m}=zo(l,u,d,p,h,m,"reject"),new Zr(l,u,d,p,h,m)}subtract(e){if(!Xe(this))throw new TypeError("invalid receiver");const n=er(e),{hours:r,minutes:i,seconds:s,milliseconds:o,microseconds:a,nanoseconds:c}=n;let l=f(this,Z),u=f(this,Q),d=f(this,X),p=f(this,K),h=f(this,J),m=f(this,ee);return{hour:l,minute:u,second:d,millisecond:p,microsecond:h,nanosecond:m}=wd(l,u,d,p,h,m,-r,-i,-s,-o,-a,-c),{hour:l,minute:u,second:d,millisecond:p,microsecond:h,nanosecond:m}=zo(l,u,d,p,h,m,"reject"),new Zr(l,u,d,p,h,m)}until(e,n=void 0){if(!Xe(this))throw new TypeError("invalid receiver");const r=Nr(e),i=te(n),s=$n(i,"auto",Ao,"hour"),o=cn(i,"nanosecond",Ao);qn(s,o);const a=Nt(i,"trunc"),c=Bn(i,hu[o],!1);let{hours:l,minutes:u,seconds:d,milliseconds:p,microseconds:h,nanoseconds:m}=gd(f(this,Z),f(this,Q),f(this,X),f(this,K),f(this,J),f(this,ee),f(r,Z),f(r,Q),f(r,X),f(r,K),f(r,J),f(r,ee));({hours:l,minutes:u,seconds:d,milliseconds:p,microseconds:h,nanoseconds:m}=Yn(0,0,0,0,l,u,d,p,h,m,c,o,a)),{hours:l,minutes:u,seconds:d,milliseconds:p,microseconds:h,nanoseconds:m}=qt(0,l,u,d,p,h,m,s);const _=V("%Temporal.Duration%");return new _(0,0,0,0,l,u,d,p,h,m)}since(e,n=void 0){if(!Xe(this))throw new TypeError("invalid receiver");const r=Nr(e),i=te(n),s=$n(i,"auto",Ao,"hour"),o=cn(i,"nanosecond",Ao);qn(s,o);const a=Nt(i,"trunc"),c=Bn(i,hu[o],!1);let{hours:l,minutes:u,seconds:d,milliseconds:p,microseconds:h,nanoseconds:m}=gd(f(r,Z),f(r,Q),f(r,X),f(r,K),f(r,J),f(r,ee),f(this,Z),f(this,Q),f(this,X),f(this,K),f(this,J),f(this,ee));({hours:l,minutes:u,seconds:d,milliseconds:p,microseconds:h,nanoseconds:m}=Yn(0,0,0,0,-l,-u,-d,-p,-h,-m,c,o,Ta(a))),l=-l,u=-u,d=-d,p=-p,h=-h,m=-m,{hours:l,minutes:u,seconds:d,milliseconds:p,microseconds:h,nanoseconds:m}=qt(0,l,u,d,p,h,m,s);const _=V("%Temporal.Duration%");return new _(0,0,0,0,l,u,d,p,h,m)}round(e){if(!Xe(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");const n=typeof e=="string"?ao("smallestUnit",e):te(e),r=cn(n,void 0,Ao);if(r===void 0)throw new RangeError("smallestUnit is required");const i=Nt(n,"halfExpand"),s=Bn(n,hu[r],!1);let o=f(this,Z),a=f(this,Q),c=f(this,X),l=f(this,K),u=f(this,J),d=f(this,ee);return{hour:o,minute:a,second:c,millisecond:l,microsecond:u,nanosecond:d}=vf(o,a,c,l,u,d,s,r,i),new Zr(o,a,c,l,u,d)}equals(e){if(!Xe(this))throw new TypeError("invalid receiver");const n=Nr(e);for(const r of[Z,Q,X,K,J,ee]){const i=f(this,r),s=f(n,r);if(i!==s)return!1}return!0}toString(e=void 0){if(!Xe(this))throw new TypeError("invalid receiver");const n=te(e),{precision:r,unit:i,increment:s}=xa(n),o=Nt(n,"trunc");return pu(this,r,{unit:i,increment:s,roundingMode:o})}toJSON(){if(!Xe(this))throw new TypeError("invalid receiver");return pu(this,"auto")}toLocaleString(e=void 0,n=void 0){if(!Xe(this))throw new TypeError("invalid receiver");return new Li(e,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainTime")}toPlainDateTime(e){if(!Xe(this))throw new TypeError("invalid receiver");const n=De(e),r=f(n,U),i=f(n,B),s=f(n,q),o=f(n,S),a=f(this,Z),c=f(this,Q),l=f(this,X),u=f(this,K),d=f(this,J),p=f(this,ee);return gn(r,i,s,a,c,l,u,d,p,o)}toZonedDateTime(e){if(!Xe(this))throw new TypeError("invalid receiver");if(!je(e))throw new TypeError("invalid argument");const n=e.plainDate;if(n===void 0)throw new TypeError("missing date property");const r=De(n),i=e.timeZone;if(i===void 0)throw new TypeError("missing timeZone property");const s=dn(i),o=f(r,U),a=f(r,B),c=f(r,q),l=f(r,S),u=f(this,Z),d=f(this,Q),p=f(this,X),h=f(this,K),m=f(this,J),_=f(this,ee),b=V("%Temporal.PlainDateTime%"),v=new b(o,a,c,u,d,p,h,m,_,l),T=un(s,v,"compatible");return Lt(f(T,W),s,l)}getISOFields(){if(!Xe(this))throw new TypeError("invalid receiver");return{calendar:f(this,S),isoHour:f(this,Z),isoMicrosecond:f(this,J),isoMillisecond:f(this,K),isoMinute:f(this,Q),isoNanosecond:f(this,ee),isoSecond:f(this,X)}}static from(e,n=void 0){const r=te(n),i=Ft(r);return Xe(e)?new Zr(f(e,Z),f(e,Q),f(e,X),f(e,K),f(e,J),f(e,ee)):Nr(e,i)}static compare(e,n){const r=Nr(e),i=Nr(n);for(const s of[Z,Q,X,K,J,ee]){const o=f(r,s),a=f(i,s);if(o!==a)return us(o-a)}return 0}}Mr(Zr,"Temporal.PlainTime");class Df{constructor(e){if(arguments.length<1)throw new RangeError("missing argument: identifier is required");const n=gf(e);Cr(this),ae(this,wi,n),Object.defineProperty(this,"_repr_",{value:`${this[Symbol.toStringTag]} <${n}>`,writable:!1,enumerable:!1,configurable:!1})}get id(){if(!Tr(this))throw new TypeError("invalid receiver");return H(this)}getOffsetNanosecondsFor(e){if(!Tr(this))throw new TypeError("invalid receiver");const n=hr(e),r=f(this,wi);return Ys(r)?ps(r):ti(f(n,W),r)}getOffsetStringFor(e){if(!Tr(this))throw new TypeError("invalid receiver");const n=hr(e);return ld(this,n)}getPlainDateTimeFor(e,n=pt()){const r=hr(e),i=Yt(n);return jn(this,r,i)}getInstantFor(e,n=void 0){if(!Tr(this))throw new TypeError("invalid receiver");const r=yi(e),i=te(n),s=aa(i);return un(this,r,s)}getPossibleInstantsFor(e){if(!Tr(this))throw new TypeError("invalid receiver");const n=yi(e),r=V("%Temporal.Instant%"),i=f(this,wi);if(Ys(i)){const o=Si(f(n,U),f(n,B),f(n,q),f(n,Z),f(n,Q),f(n,X),f(n,K),f(n,J),f(n,ee));if(o===null)throw new RangeError("DateTime outside of supported range");const a=ps(i);return[new r(g.subtract(o,g.BigInt(a)))]}return Sy(i,f(n,U),f(n,B),f(n,q),f(n,Z),f(n,Q),f(n,X),f(n,K),f(n,J),f(n,ee)).map(o=>new r(o))}getNextTransition(e){if(!Tr(this))throw new TypeError("invalid receiver");const n=hr(e),r=f(this,wi);if(Ys(r)||r==="UTC")return null;let i=f(n,W);const s=V("%Temporal.Instant%");return i=Dy(i,r),i===null?null:new s(i)}getPreviousTransition(e){if(!Tr(this))throw new TypeError("invalid receiver");const n=hr(e),r=f(this,wi);if(Ys(r)||r==="UTC")return null;let i=f(n,W);const s=V("%Temporal.Instant%");return i=dg(i,r),i===null?null:new s(i)}toString(){if(!Tr(this))throw new TypeError("invalid receiver");return H(f(this,wi))}toJSON(){if(!Tr(this))throw new TypeError("invalid receiver");return H(this)}static from(e){return dn(e)}}Mr(Df,"Temporal.TimeZone");const i1=Object.create,ic=["week","day","hour","minute","second","millisecond","microsecond","nanosecond"];class Of{constructor(e,n,r=pt(),i=1){const s=Oe(e),o=Oe(n),a=Yt(r),c=Oe(i);if(arguments.length<2)throw new RangeError("missing argument: isoYear and isoMonth are required");rg(this,s,o,a,c)}get year(){if(!Ie(this))throw new TypeError("invalid receiver");return al(f(this,S),this)}get month(){if(!Ie(this))throw new TypeError("invalid receiver");return cl(f(this,S),this)}get monthCode(){if(!Ie(this))throw new TypeError("invalid receiver");return Na(f(this,S),this)}get calendar(){if(!Ie(this))throw new TypeError("invalid receiver");return f(this,S)}get era(){if(!Ie(this))throw new TypeError("invalid receiver");return ul(f(this,S),this)}get eraYear(){if(!Ie(this))throw new TypeError("invalid receiver");return dl(f(this,S),this)}get daysInMonth(){if(!Ie(this))throw new TypeError("invalid receiver");return Vs(f(this,S),this)}get daysInYear(){if(!Ie(this))throw new TypeError("invalid receiver");return fl(f(this,S),this)}get monthsInYear(){if(!Ie(this))throw new TypeError("invalid receiver");return hl(f(this,S),this)}get inLeapYear(){if(!Ie(this))throw new TypeError("invalid receiver");return pl(f(this,S),this)}with(e,n=void 0){if(!Ie(this))throw new TypeError("invalid receiver");if(!je(e))throw new TypeError("invalid argument");mo(e);const r=f(this,S),i=Je(r,["month","monthCode","year"]),s=Ci(e,i);if(!s)throw new TypeError("invalid year-month-like");let o=vn(this,i);o=hs(r,o,s),o=vn(o,i);const a=te(n);return Ri(r,o,a)}add(e,n=void 0){if(!Ie(this))throw new TypeError("invalid receiver");const r=er(e);let{years:i,months:s,weeks:o,days:a,hours:c,minutes:l,seconds:u,milliseconds:d,microseconds:p,nanoseconds:h}=r;({days:a}=qt(a,c,l,u,d,p,h,"day"));const m=te(n),_=f(this,S),b=Je(_,["monthCode","year"]),v=vn(this,b),x=Kn(i,s,o,a,0,0,0,0,0,0)<0?ro(Vs(_,this)):1,N=fr(_,{...v,day:x}),D={...m},O=an(_,N,{...r,days:a},m),R=vn(O,b);return Ri(_,R,D)}subtract(e,n=void 0){if(!Ie(this))throw new TypeError("invalid receiver");let r=er(e);r={years:-r.years,months:-r.months,weeks:-r.weeks,days:-r.days,hours:-r.hours,minutes:-r.minutes,seconds:-r.seconds,milliseconds:-r.milliseconds,microseconds:-r.microseconds,nanoseconds:-r.nanoseconds};let{years:i,months:s,weeks:o,days:a,hours:c,minutes:l,seconds:u,milliseconds:d,microseconds:p,nanoseconds:h}=r;({days:a}=qt(a,c,l,u,d,p,h,"day"));const m=te(n),_=f(this,S),b=Je(_,["monthCode","year"]),v=vn(this,b),x=Kn(i,s,o,a,0,0,0,0,0,0)<0?ro(Vs(_,this)):1,N=fr(_,{...v,day:x}),D={...m},O=an(_,N,{...r,days:a},m),R=vn(O,b);return Ri(_,R,D)}until(e,n=void 0){if(!Ie(this))throw new TypeError("invalid receiver");const r=Ms(e),i=f(this,S),s=f(r,S),o=H(i),a=H(s);if(o!==a)throw new RangeError(`cannot compute difference between months of ${o} and ${a} calendars`);const c=te(n),l=cn(c,"month",ic),u=$n(c,"auto",ic,"year");qn(u,l);const d=Nt(c,"trunc"),p=Bn(c,void 0,!1),h=Je(i,["monthCode","year"]),m=vn(r,h),_=vn(this,h),b=fr(i,{...m,day:1}),v=fr(i,{..._,day:1}),T={...c,largestUnit:u},x=Sr(i,v,b,T);if(l==="month"&&p===1)return x;let{years:N,months:D}=x;({years:N,months:D}=Yn(N,D,0,0,0,0,0,0,0,0,p,l,d,v));const O=V("%Temporal.Duration%");return new O(N,D,0,0,0,0,0,0,0,0)}since(e,n=void 0){if(!Ie(this))throw new TypeError("invalid receiver");const r=Ms(e),i=f(this,S),s=f(r,S),o=H(i),a=H(s);if(o!==a)throw new RangeError(`cannot compute difference between months of ${o} and ${a} calendars`);const c=te(n),l=cn(c,"month",ic),u=$n(c,"auto",ic,"year");qn(u,l);const d=Nt(c,"trunc"),p=Bn(c,void 0,!1),h=Je(i,["monthCode","year"]),m=vn(r,h),_=vn(this,h),b=fr(i,{...m,day:1}),v=fr(i,{..._,day:1}),T={...c,largestUnit:u};let{years:x,months:N}=Sr(i,v,b,T);const D=V("%Temporal.Duration%");return l==="month"&&p===1?new D(-x,-N,0,0,0,0,0,0,0,0):({years:x,months:N}=Yn(x,N,0,0,0,0,0,0,0,0,p,l,Ta(d),v),new D(-x,-N,0,0,0,0,0,0,0,0))}equals(e){if(!Ie(this))throw new TypeError("invalid receiver");const n=Ms(e);for(const r of[U,B,q]){const i=f(this,r),s=f(n,r);if(i!==s)return!1}return Ra(f(this,S),f(n,S))}toString(e=void 0){if(!Ie(this))throw new TypeError("invalid receiver");const n=te(e),r=Ea(n);return hd(this,r)}toJSON(){if(!Ie(this))throw new TypeError("invalid receiver");return hd(this)}toLocaleString(e=void 0,n=void 0){if(!Ie(this))throw new TypeError("invalid receiver");return new Li(e,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainYearMonth")}toPlainDate(e){if(!Ie(this))throw new TypeError("invalid receiver");if(!je(e))throw new TypeError("argument should be an object");const n=f(this,S),r=Je(n,["monthCode","year"]),i=vn(this,r),s=Je(n,["day"]),o=[["day"]];s.forEach(p=>{o.some(([h])=>h===p)||o.push([p,void 0])});const a=Bt(e,o);let c=hs(n,i,a);const l=[...new Set([...r,...s])],u=[];l.forEach(p=>{u.some(([h])=>h===p)||u.push([p,void 0])}),c=Bt(c,u);const d=i1(null);return d.overflow="reject",fr(n,c,d)}getISOFields(){if(!Ie(this))throw new TypeError("invalid receiver");return{calendar:f(this,S),isoDay:f(this,q),isoMonth:f(this,B),isoYear:f(this,U)}}static from(e,n=void 0){const r=te(n);return Ie(e)?(Ft(r),ua(f(e,U),f(e,B),f(e,S),f(e,q))):Ms(e,r)}static compare(e,n){const r=Ms(e),i=Ms(n);return Hr(f(r,U),f(r,B),f(r,q),f(i,U),f(i,B),f(i,q))}}Mr(Of,"Temporal.PlainYearMonth");const s1=Array.prototype.push;class kf{constructor(e,n,r=pt()){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");const i=Go(e),s=dn(n),o=Yt(r);ig(this,i,s,o)}get calendar(){if(!Y(this))throw new TypeError("invalid receiver");return f(this,S)}get timeZone(){if(!Y(this))throw new TypeError("invalid receiver");return f(this,Te)}get year(){if(!Y(this))throw new TypeError("invalid receiver");return al(f(this,S),Me(this))}get month(){if(!Y(this))throw new TypeError("invalid receiver");return cl(f(this,S),Me(this))}get monthCode(){if(!Y(this))throw new TypeError("invalid receiver");return Na(f(this,S),Me(this))}get day(){if(!Y(this))throw new TypeError("invalid receiver");return ll(f(this,S),Me(this))}get hour(){if(!Y(this))throw new TypeError("invalid receiver");return f(Me(this),Z)}get minute(){if(!Y(this))throw new TypeError("invalid receiver");return f(Me(this),Q)}get second(){if(!Y(this))throw new TypeError("invalid receiver");return f(Me(this),X)}get millisecond(){if(!Y(this))throw new TypeError("invalid receiver");return f(Me(this),K)}get microsecond(){if(!Y(this))throw new TypeError("invalid receiver");return f(Me(this),J)}get nanosecond(){if(!Y(this))throw new TypeError("invalid receiver");return f(Me(this),ee)}get era(){if(!Y(this))throw new TypeError("invalid receiver");return ul(f(this,S),Me(this))}get eraYear(){if(!Y(this))throw new TypeError("invalid receiver");return dl(f(this,S),Me(this))}get epochSeconds(){if(!Y(this))throw new TypeError("invalid receiver");const e=f(this,W);return g.toNumber(g.divide(e,ei))}get epochMilliseconds(){if(!Y(this))throw new TypeError("invalid receiver");const e=f(this,W);return g.toNumber(g.divide(e,Fn))}get epochMicroseconds(){if(!Y(this))throw new TypeError("invalid receiver");const e=f(this,W);return Gc(g.divide(e,Ne))}get epochNanoseconds(){if(!Y(this))throw new TypeError("invalid receiver");return Gc(f(this,W))}get dayOfWeek(){if(!Y(this))throw new TypeError("invalid receiver");return df(f(this,S),Me(this))}get dayOfYear(){if(!Y(this))throw new TypeError("invalid receiver");return ff(f(this,S),Me(this))}get weekOfYear(){if(!Y(this))throw new TypeError("invalid receiver");return hf(f(this,S),Me(this))}get hoursInDay(){if(!Y(this))throw new TypeError("invalid receiver");const e=Me(this),n=V("%Temporal.PlainDateTime%"),r=f(e,U),i=f(e,B),s=f(e,q),o=new n(r,i,s,0,0,0,0,0,0),a=ls(r,i,s,0,0,0,1,"reject"),c=new n(a.year,a.month,a.day,0,0,0,0,0,0),l=f(this,Te),u=f(un(l,o,"compatible"),W),d=f(un(l,c,"compatible"),W);return g.toNumber(g.subtract(d,u))/36e11}get daysInWeek(){if(!Y(this))throw new TypeError("invalid receiver");return pf(f(this,S),Me(this))}get daysInMonth(){if(!Y(this))throw new TypeError("invalid receiver");return Vs(f(this,S),Me(this))}get daysInYear(){if(!Y(this))throw new TypeError("invalid receiver");return fl(f(this,S),Me(this))}get monthsInYear(){if(!Y(this))throw new TypeError("invalid receiver");return hl(f(this,S),Me(this))}get inLeapYear(){if(!Y(this))throw new TypeError("invalid receiver");return pl(f(this,S),Me(this))}get offset(){if(!Y(this))throw new TypeError("invalid receiver");return ld(f(this,Te),f(this,Wt))}get offsetNanoseconds(){if(!Y(this))throw new TypeError("invalid receiver");return _r(f(this,Te),f(this,Wt))}with(e,n=void 0){if(!Y(this))throw new TypeError("invalid receiver");if(!je(e))throw new TypeError("invalid zoned-date-time-like");mo(e);const r=te(n),i=aa(r),s=od(r,"prefer"),o=f(this,Te),a=f(this,S),c=Je(a,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);s1.call(c,"offset");const l=Ci(e,c);if(!l)throw new TypeError("invalid zoned-date-time-like");const u=[["day",void 0],["hour",0],["microsecond",0],["millisecond",0],["minute",0],["month",void 0],["monthCode",void 0],["nanosecond",0],["second",0],["year",void 0],["offset"],["timeZone"]];c.forEach(R=>{u.some(([j])=>j===R)||u.push([R,void 0])});let d=Bt(this,u);d=hs(a,d,l),d=Bt(d,u);const{year:p,month:h,day:m,hour:_,minute:b,second:v,millisecond:T,microsecond:x,nanosecond:N}=Ia(a,d,r),D=ps(d.offset),O=Pc(p,h,m,_,b,v,T,x,N,"option",D,o,i,s,!1);return Lt(O,f(this,Te),a)}withPlainDate(e){if(!Y(this))throw new TypeError("invalid receiver");const n=De(e),r=f(n,U),i=f(n,B),s=f(n,q);let o=f(n,S);const a=Me(this),c=f(a,Z),l=f(a,Q),u=f(a,X),d=f(a,K),p=f(a,J),h=f(a,ee);o=sg(f(this,S),o);const m=f(this,Te),_=V("%Temporal.PlainDateTime%"),b=new _(r,i,s,c,l,u,d,p,h,o),v=un(m,b,"compatible");return Lt(f(v,W),m,o)}withPlainTime(e=void 0){if(!Y(this))throw new TypeError("invalid receiver");const n=V("%Temporal.PlainTime%"),r=e==null?new n:Nr(e),i=Me(this),s=f(i,U),o=f(i,B),a=f(i,q),c=f(this,S),l=f(r,Z),u=f(r,Q),d=f(r,X),p=f(r,K),h=f(r,J),m=f(r,ee),_=f(this,Te),b=V("%Temporal.PlainDateTime%"),v=new b(s,o,a,l,u,d,p,h,m,c),T=un(_,v,"compatible");return Lt(f(T,W),_,c)}withTimeZone(e){if(!Y(this))throw new TypeError("invalid receiver");const n=dn(e);return Lt(f(this,W),n,f(this,S))}withCalendar(e){if(!Y(this))throw new TypeError("invalid receiver");const n=Yt(e);return Lt(f(this,W),f(this,Te),n)}add(e,n=void 0){if(!Y(this))throw new TypeError("invalid receiver");const r=er(e),{years:i,months:s,weeks:o,days:a,hours:c,minutes:l,seconds:u,milliseconds:d,microseconds:p,nanoseconds:h}=r,m=te(n),_=f(this,Te),b=f(this,S),v=An(f(this,Wt),_,b,i,s,o,a,c,l,u,d,p,h,m);return Lt(v,_,b)}subtract(e,n=void 0){if(!Y(this))throw new TypeError("invalid receiver");const r=er(e),{years:i,months:s,weeks:o,days:a,hours:c,minutes:l,seconds:u,milliseconds:d,microseconds:p,nanoseconds:h}=r,m=te(n),_=f(this,Te),b=f(this,S),v=An(f(this,Wt),_,b,-i,-s,-o,-a,-c,-l,-u,-d,-p,-h,m);return Lt(v,_,b)}until(e,n=void 0){if(!Y(this))throw new TypeError("invalid receiver");const r=Cs(e),i=f(this,S),s=f(r,S),o=H(i),a=H(s);if(o!==a)throw new RangeError(`cannot compute difference between dates of ${o} and ${a} calendars`);const c=te(n),l=cn(c,"nanosecond"),u=tr("hour",l),d=$n(c,"auto",[],u);qn(d,l);const p=Nt(c,"trunc"),h=ca(c,l),m=f(this,W),_=f(r,W);let b,v,T,x,N,D,O,R,j,M;if(d!=="year"&&d!=="month"&&d!=="week"&&d!=="day")b=0,v=0,T=0,x=0,{seconds:O,milliseconds:R,microseconds:j,nanoseconds:M}=fa(m,_,h,l,p),{hours:N,minutes:D,seconds:O,milliseconds:R,microseconds:j,nanoseconds:M}=qt(0,0,0,O,R,j,M,d);else{const L=f(this,Te);if(!du(L,f(r,Te)))throw new RangeError("When calculating difference between time zones, largestUnit must be 'hours' or smaller because day lengths can vary between time zones due to DST or time zone offset changes.");const G={...c,largestUnit:d};({years:b,months:v,weeks:T,days:x,hours:N,minutes:D,seconds:O,milliseconds:R,microseconds:j,nanoseconds:M}=_d(m,_,L,i,d,G)),{years:b,months:v,weeks:T,days:x,hours:N,minutes:D,seconds:O,milliseconds:R,microseconds:j,nanoseconds:M}=Yn(b,v,T,x,N,D,O,R,j,M,h,l,p,this),{years:b,months:v,weeks:T,days:x,hours:N,minutes:D,seconds:O,milliseconds:R,microseconds:j,nanoseconds:M}=vd(b,v,T,x,N,D,O,R,j,M,h,l,p,this)}const z=V("%Temporal.Duration%");return new z(b,v,T,x,N,D,O,R,j,M)}since(e,n=void 0){if(!Y(this))throw new TypeError("invalid receiver");const r=Cs(e),i=f(this,S),s=f(r,S),o=H(i),a=H(s);if(o!==a)throw new RangeError(`cannot compute difference between dates of ${o} and ${a} calendars`);const c=te(n),l=cn(c,"nanosecond"),u=tr("hour",l),d=$n(c,"auto",[],u);qn(d,l);let p=Nt(c,"trunc");p=Ta(p);const h=ca(c,l),m=f(this,W),_=f(r,W);let b,v,T,x,N,D,O,R,j,M;if(d!=="year"&&d!=="month"&&d!=="week"&&d!=="day")b=0,v=0,T=0,x=0,{seconds:O,milliseconds:R,microseconds:j,nanoseconds:M}=fa(m,_,h,l,p),{hours:N,minutes:D,seconds:O,milliseconds:R,microseconds:j,nanoseconds:M}=qt(0,0,0,O,R,j,M,d);else{const L=f(this,Te);if(!du(L,f(r,Te)))throw new RangeError("When calculating difference between time zones, largestUnit must be 'hours' or smaller because day lengths can vary between time zones due to DST or time zone offset changes.");const G={...c,largestUnit:d};({years:b,months:v,weeks:T,days:x,hours:N,minutes:D,seconds:O,milliseconds:R,microseconds:j,nanoseconds:M}=_d(m,_,L,i,d,G)),{years:b,months:v,weeks:T,days:x,hours:N,minutes:D,seconds:O,milliseconds:R,microseconds:j,nanoseconds:M}=Yn(b,v,T,x,N,D,O,R,j,M,h,l,p,this),{years:b,months:v,weeks:T,days:x,hours:N,minutes:D,seconds:O,milliseconds:R,microseconds:j,nanoseconds:M}=vd(b,v,T,x,N,D,O,R,j,M,h,l,p,this)}const z=V("%Temporal.Duration%");return new z(-b,-v,-T,-x,-N,-D,-O,-R,-j,-M)}round(e){if(!Y(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");const n=typeof e=="string"?ao("smallestUnit",e):te(e),r=cn(n,void 0,["year","month","week"]);if(r===void 0)throw new RangeError("smallestUnit is required");const i=Nt(n,"halfExpand"),o=Bn(n,{day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[r],!1),a=Me(this);let c=f(a,U),l=f(a,B),u=f(a,q),d=f(a,Z),p=f(a,Q),h=f(a,X),m=f(a,K),_=f(a,J),b=f(a,ee);const v=V("%Temporal.PlainDateTime%"),T=f(this,Te),x=f(this,S),N=new v(f(a,U),f(a,B),f(a,q),0,0,0,0,0,0),D=un(T,N,"compatible"),O=An(D,T,x,0,0,0,1,0,0,0,0,0,0),R=g.subtract(O,g.BigInt(f(D,W)));if(g.equal(R,at))throw new RangeError("cannot round a ZonedDateTime in a calendar with zero-length days");({year:c,month:l,day:u,hour:d,minute:p,second:h,millisecond:m,microsecond:_,nanosecond:b}=bf(c,l,u,d,p,h,m,_,b,o,r,i,g.toNumber(R)));const j=_r(T,f(this,Wt)),M=Pc(c,l,u,d,p,h,m,_,b,"option",j,T,"compatible","prefer",!1);return Lt(M,T,f(this,S))}equals(e){if(!Y(this))throw new TypeError("invalid receiver");const n=Cs(e),r=f(this,W),i=f(n,W);return!g.equal(g.BigInt(r),g.BigInt(i))||!du(f(this,Te),f(n,Te))?!1:Ra(f(this,S),f(n,S))}toString(e=void 0){if(!Y(this))throw new TypeError("invalid receiver");const n=te(e),{precision:r,unit:i,increment:s}=xa(n),o=Nt(n,"trunc"),a=Ea(n),c=xy(n),l=Iy(n);return pd(this,r,a,c,l,{unit:i,increment:s,roundingMode:o})}toLocaleString(e=void 0,n=void 0){if(!Y(this))throw new TypeError("invalid receiver");return new Li(e,n).format(this)}toJSON(){if(!Y(this))throw new TypeError("invalid receiver");return pd(this,"auto")}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.ZonedDateTime")}startOfDay(){if(!Y(this))throw new TypeError("invalid receiver");const e=Me(this),n=V("%Temporal.PlainDateTime%"),r=f(this,S),i=new n(f(e,U),f(e,B),f(e,q),0,0,0,0,0,0,r),s=f(this,Te),o=un(s,i,"compatible");return Lt(f(o,W),s,r)}toInstant(){if(!Y(this))throw new TypeError("invalid receiver");const e=V("%Temporal.Instant%");return new e(f(this,W))}toPlainDate(){if(!Y(this))throw new TypeError("invalid receiver");return cs(Me(this))}toPlainTime(){if(!Y(this))throw new TypeError("invalid receiver");return mf(Me(this))}toPlainDateTime(){if(!Y(this))throw new TypeError("invalid receiver");return Me(this)}toPlainYearMonth(){if(!Y(this))throw new TypeError("invalid receiver");const e=f(this,S),n=Je(e,["monthCode","year"]),r=vn(this,n);return Ri(e,r)}toPlainMonthDay(){if(!Y(this))throw new TypeError("invalid receiver");const e=f(this,S),n=Je(e,["day","monthCode"]),r=as(this,n);return so(e,r)}getISOFields(){if(!Y(this))throw new TypeError("invalid receiver");const e=Me(this),n=f(this,Te);return{calendar:f(this,S),isoDay:f(e,q),isoHour:f(e,Z),isoMicrosecond:f(e,J),isoMillisecond:f(e,K),isoMinute:f(e,Q),isoMonth:f(e,B),isoNanosecond:f(e,ee),isoSecond:f(e,X),isoYear:f(e,U),offset:ld(n,f(this,Wt)),timeZone:n}}static from(e,n=void 0){const r=te(n);return Y(e)?(Ft(r),aa(r),od(r,"reject"),Lt(f(e,W),f(e,Te),f(e,S))):Cs(e,r)}static compare(e,n){const r=Cs(e),i=Cs(n),s=f(r,W),o=f(i,W);return g.lessThan(g.BigInt(s),g.BigInt(o))?-1:g.greaterThan(g.BigInt(s),g.BigInt(o))?1:0}}Mr(kf,"Temporal.ZonedDateTime");function Me(t){return jn(f(t,Te),f(t,Wt),f(t,S))}var ts=Object.freeze({__proto__:null,Instant:Un,Calendar:sl,PlainDate:Oa,PlainDateTime:ka,Duration:Rr,PlainMonthDay:If,Now:Ag,PlainTime:Zr,TimeZone:Df,PlainYearMonth:Of,ZonedDateTime:kf});const o1=[Un,sl,Oa,ka,Rr,If,Zr,Df,Of,kf];for(const t of o1){const e=Object.getOwnPropertyDescriptor(t,"prototype");(e.configurable||e.enumerable||e.writable)&&(e.configurable=!1,e.enumerable=!1,e.writable=!1,Object.defineProperty(t,"prototype",e))}const a1={default:{a:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},path:[{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"}]},solid:{a:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},path:[{"fill-rule":"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z","clip-rule":"evenodd"}]}},c1={default:{a:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},path:[{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14 5l7 7m0 0l-7 7m7-7H3"}]},solid:{a:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},path:[{"fill-rule":"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z","clip-rule":"evenodd"}]}},l1={default:{a:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},path:[{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"}]},solid:{a:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},path:[{"fill-rule":"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z","clip-rule":"evenodd"}]}};function ip(t,e,n){const r=t.slice();return r[5]=e[n],r}function sp(t){let e,n=[t[5]],r={};for(let i=0;i<n.length;i+=1)r=Oc(r,n[i]);return{c(){e=bm("path"),this.h()},l(i){e=vm(i,"path",{}),Ke(e).forEach(ne),this.h()},h(){Dc(e,r)},m(i,s){Be(i,e,s)},p(i,s){Dc(e,r=Tm(n,[s&2&&i[5]]))},d(i){i&&ne(e)}}}function u1(t){var o,a,c;let e,n=(a=(o=t[1])==null?void 0:o.path)!=null?a:[],r=[];for(let l=0;l<n.length;l+=1)r[l]=sp(ip(t,n,l));let i=[(c=t[1])==null?void 0:c.a,{xmlns:"http://www.w3.org/2000/svg"},{width:t[0]},{height:t[0]},{"aria-hidden":"true"},t[2]],s={};for(let l=0;l<i.length;l+=1)s=Oc(s,i[l]);return{c(){e=bm("svg");for(let l=0;l<r.length;l+=1)r[l].c();this.h()},l(l){e=vm(l,"svg",{xmlns:!0,width:!0,height:!0,"aria-hidden":!0});var u=Ke(e);for(let d=0;d<r.length;d+=1)r[d].l(u);u.forEach(ne),this.h()},h(){Dc(e,s)},m(l,u){Be(l,e,u);for(let d=0;d<r.length;d+=1)r[d].m(e,null)},p(l,[u]){var d,p,h;if(u&2){n=(p=(d=l[1])==null?void 0:d.path)!=null?p:[];let m;for(m=0;m<n.length;m+=1){const _=ip(l,n,m);r[m]?r[m].p(_,u):(r[m]=sp(_),r[m].c(),r[m].m(e,null))}for(;m<r.length;m+=1)r[m].d(1);r.length=n.length}Dc(e,s=Tm(i,[u&2&&((h=l[1])==null?void 0:h.a),{xmlns:"http://www.w3.org/2000/svg"},u&1&&{width:l[0]},u&1&&{height:l[0]},{"aria-hidden":"true"},u&4&&l[2]]))},i:ri,o:ri,d(l){l&&ne(e),nf(r,l)}}}function d1(t,e,n){let r;const i=["src","size","solid"];let s=Gh(e,i),{src:o}=e,{size:a="100%"}=e,{solid:c=!1}=e;if(a!=="100%"&&a.slice(-1)!="x"&&a.slice(-1)!="m"&&a.slice(-1)!="%")try{a=parseInt(a)+"px"}catch{a="100%"}return t.$$set=l=>{e=Oc(Oc({},e),mw(l)),n(2,s=Gh(e,i)),"src"in l&&n(3,o=l.src),"size"in l&&n(0,a=l.size),"solid"in l&&n(4,c=l.solid)},t.$$.update=()=>{t.$$.dirty&24&&n(1,r=o==null?void 0:o[c?"solid":"default"])},[a,r,s,o,c]}class Sf extends ai{constructor(e){super(),ci(this,e,d1,u1,li,{src:3,size:0,solid:4})}}class f1{constructor(){this.id=xm()}equals(e){return"id"in e&&this.id===e.id}}const mu="Europe/Brussels";class Vo extends f1{constructor(e,n,r,i){super(),this.id=xm(),this.date=e,this.time=n,this.title=r,this.description=i}toZonedTime(e,n){var o;const r=(o=e.target)==null?void 0:o.value;if(!r)return;const[i,s]=r.split(":").map(parseInt);this.time[n]=ts.PlainTime.from({hour:i,minute:s})}setDate(e){var o;const n=(o=e.target)==null?void 0:o.value,r=new Date(n).getTime(),s=ts.Instant.fromEpochMilliseconds(r).toZonedDateTimeISO(mu);this.date=s.toPlainDate()}setFromTime(e){this.toZonedTime(e,"from")}setToTime(e){this.toZonedTime(e,"to")}static new(e,n){e=e!=null?e:ts.Now.plainDateISO(mu),n=n!=null?n:ts.Now.plainTimeISO(mu);const r={from:n,to:n.add({hours:1})};return new Vo(e,r,"","")}}function h1(){const{subscribe:t,set:e,update:n}=Rm([]);return{subscribe:t,addEvent:r=>n(i=>(i.push(r),i)),deleteEvent:r=>n(i=>i.filter(s=>!s.equals(r))),updateEvent:r=>n(i=>i.map(s=>s==r?r:s)),reset:()=>e([])}}const Ho=h1(),p1=Nm(Ho,t=>t.reduce((e,n)=>{const r=n.date.toString();return r in e?e[r].push(n):e[r]=[n],e},{}));Nm(Ho,t=>console.log(t));function m1(){const{subscribe:t,set:e}=Rm({visible:!1,editMode:!1,event:Vo.new()});return{subscribe:t,edit:n=>{e({visible:!0,editMode:!0,event:n})},new:()=>{e({visible:!0,editMode:!1,event:Vo.new()})},reset:()=>e({visible:!1,editMode:!1,event:Vo.new()})}}const $i=m1();function g1(t){let e,n,r=t[0].title+"",i,s,o,a,c,l,u,d,p=t[0].description+"",h;return{c(){e=dt("div"),n=dt("span"),i=bt(r),s=ct(),o=dt("span"),a=bt(t[2]),c=bt("-"),l=bt(t[1]),u=ct(),d=dt("div"),h=bt(p),this.h()},l(m){e=ft(m,"DIV",{class:!0});var _=Ke(e);n=ft(_,"SPAN",{class:!0});var b=Ke(n);i=vt(b,r),b.forEach(ne),s=lt(_),o=ft(_,"SPAN",{class:!0});var v=Ke(o);a=vt(v,t[2]),c=vt(v,"-"),l=vt(v,t[1]),v.forEach(ne),_.forEach(ne),u=lt(m),d=ft(m,"DIV",{class:!0});var T=Ke(d);h=vt(T,p),T.forEach(ne),this.h()},h(){ht(n,"class","text-lg text-bol"),ht(o,"class","text-sm"),ht(e,"class","flex justify-between items-end mb-2"),ht(d,"class","text-sm line-clamp-3")},m(m,_){Be(m,e,_),ie(e,n),ie(n,i),ie(e,s),ie(e,o),ie(o,a),ie(o,c),ie(o,l),Be(m,u,_),Be(m,d,_),ie(d,h)},p(m,_){_&1&&r!==(r=m[0].title+"")&&pr(i,r),_&4&&pr(a,m[2]),_&2&&pr(l,m[1]),_&1&&p!==(p=m[0].description+"")&&pr(h,p)},d(m){m&&ne(e),m&&ne(u),m&&ne(d)}}}function _1(t){let e,n;return e=new fs({props:{focused:!0,$$slots:{default:[g1]},$$scope:{ctx:t}}}),e.$on("click",t[3]),{c(){gt(e.$$.fragment)},l(r){_t(e.$$.fragment,r)},m(r,i){wt(e,r,i),n=!0},p(r,[i]){const s={};i&23&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){n||(ce(e.$$.fragment,r),n=!0)},o(r){fe(e.$$.fragment,r),n=!1},d(r){yt(e,r)}}}function w1(t,e,n){let r,i,{event:s}=e;function o(a){el.call(this,t,a)}return t.$$set=a=>{"event"in a&&n(0,s=a.event)},t.$$.update=()=>{t.$$.dirty&1&&n(2,r=s.time.from.toString({smallestUnit:"minute"})),t.$$.dirty&1&&n(1,i=s.time.to.toString({smallestUnit:"minute"}))},[s,i,r,o]}class y1 extends ai{constructor(e){super(),ci(this,e,w1,_1,li,{event:0})}}const b1=t=>({}),op=t=>({submit:t[2]});function ap(t){let e,n,r=t[1].editMode?"Edit":"Create",i,s,o,a,c,l,u,d,p,h,m,_,b,v,T,x,N;a=new Do({props:{type:"date",label:"date",value:t[0].date.toString()}}),a.$on("change",t[5]),l=new Do({props:{type:"time",label:"from",value:t[0].time.from.toString({smallestUnit:"minute"})}}),l.$on("change",t[6]),d=new Do({props:{type:"time",label:"to",value:t[0].time.to.toString({smallestUnit:"minute"})}}),d.$on("change",t[7]);function D(L){t[8](L)}let O={label:"title"};t[0].title!==void 0&&(O.value=t[0].title),h=new Do({props:O}),Vh.push(()=>Hh(h,"value",D));function R(L){t[9](L)}let j={label:"description"};t[0].description!==void 0&&(j.value=t[0].description),b=new Do({props:j}),Vh.push(()=>Hh(b,"value",R));const M=t[4].default,z=il(M,t,t[3],op);return{c(){e=dt("form"),n=dt("h3"),i=bt(r),s=bt(" event"),o=ct(),gt(a.$$.fragment),c=ct(),gt(l.$$.fragment),u=ct(),gt(d.$$.fragment),p=ct(),gt(h.$$.fragment),_=ct(),gt(b.$$.fragment),T=ct(),x=dt("div"),z&&z.c(),this.h()},l(L){e=ft(L,"FORM",{class:!0});var G=Ke(e);n=ft(G,"H3",{class:!0});var _e=Ke(n);i=vt(_e,r),s=vt(_e," event"),_e.forEach(ne),o=lt(G),_t(a.$$.fragment,G),c=lt(G),_t(l.$$.fragment,G),u=lt(G),_t(d.$$.fragment,G),p=lt(G),_t(h.$$.fragment,G),_=lt(G),_t(b.$$.fragment,G),T=lt(G),x=ft(G,"DIV",{class:!0});var se=Ke(x);z&&z.l(se),se.forEach(ne),G.forEach(ne),this.h()},h(){ht(n,"class","text-xl border-b border-b-black/50 border-solid mb-4 pb-2"),ht(x,"class","flex gap-2 justify-end"),ht(e,"class","editEvent")},m(L,G){Be(L,e,G),ie(e,n),ie(n,i),ie(n,s),ie(e,o),wt(a,e,null),ie(e,c),wt(l,e,null),ie(e,u),wt(d,e,null),ie(e,p),wt(h,e,null),ie(e,_),wt(b,e,null),ie(e,T),ie(e,x),z&&z.m(x,null),N=!0},p(L,G){(!N||G&2)&&r!==(r=L[1].editMode?"Edit":"Create")&&pr(i,r);const _e={};G&1&&(_e.value=L[0].date.toString()),a.$set(_e);const se={};G&1&&(se.value=L[0].time.from.toString({smallestUnit:"minute"})),l.$set(se);const P={};G&1&&(P.value=L[0].time.to.toString({smallestUnit:"minute"})),d.$set(P);const de={};!m&&G&1&&(m=!0,de.value=L[0].title,Wh(()=>m=!1)),h.$set(de);const He={};!v&&G&1&&(v=!0,He.value=L[0].description,Wh(()=>v=!1)),b.$set(He),z&&z.p&&(!N||G&8)&&tl(z,M,L,L[3],N?rl(M,L[3],G,b1):nl(L[3]),op)},i(L){N||(ce(a.$$.fragment,L),ce(l.$$.fragment,L),ce(d.$$.fragment,L),ce(h.$$.fragment,L),ce(b.$$.fragment,L),ce(z,L),N=!0)},o(L){fe(a.$$.fragment,L),fe(l.$$.fragment,L),fe(d.$$.fragment,L),fe(h.$$.fragment,L),fe(b.$$.fragment,L),fe(z,L),N=!1},d(L){L&&ne(e),yt(a),yt(l),yt(d),yt(h),yt(b),z&&z.d(L)}}}function v1(t){let e,n,r=t[0]&&ap(t);return{c(){r&&r.c(),e=kr()},l(i){r&&r.l(i),e=kr()},m(i,s){r&&r.m(i,s),Be(i,e,s),n=!0},p(i,[s]){i[0]?r?(r.p(i,s),s&1&&ce(r,1)):(r=ap(i),r.c(),ce(r,1),r.m(e.parentNode,e)):r&&(Di(),fe(r,1,1,()=>{r=null}),Oi())},i(i){n||(ce(r),n=!0)},o(i){fe(r),n=!1},d(i){r&&r.d(i),i&&ne(e)}}}function T1(t,e,n){let r;td(t,$i,h=>n(1,r=h));let{$$slots:i={},$$scope:s}=e,o=r.event;function a(h){$i.reset(),h(o)}const c=h=>o.setDate(h),l=h=>o.setFromTime(h),u=h=>o.setToTime(h);function d(h){t.$$.not_equal(o.title,h)&&(o.title=h,n(0,o))}function p(h){t.$$.not_equal(o.description,h)&&(o.description=h,n(0,o))}return t.$$set=h=>{"$$scope"in h&&n(3,s=h.$$scope)},[o,r,a,s,i,c,l,u,d,p]}class E1 extends ai{constructor(e){super(),ci(this,e,T1,v1,li,{})}}function cp(t){let e,n,r,i,s;const o=t[3].default,a=il(o,t,t[2],null);return{c(){e=dt("div"),n=dt("div"),a&&a.c(),this.h()},l(c){e=ft(c,"DIV",{class:!0});var l=Ke(e);n=ft(l,"DIV",{class:!0});var u=Ke(n);a&&a.l(u),u.forEach(ne),l.forEach(ne),this.h()},h(){ht(n,"class","modal svelte-7qxvgi"),ht(e,"class","backdrop svelte-7qxvgi")},m(c,l){Be(c,e,l),ie(e,n),a&&a.m(n,null),r=!0,i||(s=[kc(n,"click",gw(t[4])),kc(e,"click",t[1])],i=!0)},p(c,l){a&&a.p&&(!r||l&4)&&tl(a,o,c,c[2],r?rl(o,c[2],l,null):nl(c[2]),null)},i(c){r||(ce(a,c),r=!0)},o(c){fe(a,c),r=!1},d(c){c&&ne(e),a&&a.d(c),i=!1,_w(s)}}}function x1(t){let e,n,r=t[0]&&cp(t);return{c(){r&&r.c(),e=kr()},l(i){r&&r.l(i),e=kr()},m(i,s){r&&r.m(i,s),Be(i,e,s),n=!0},p(i,[s]){i[0]?r?(r.p(i,s),s&1&&ce(r,1)):(r=cp(i),r.c(),ce(r,1),r.m(e.parentNode,e)):r&&(Di(),fe(r,1,1,()=>{r=null}),Oi())},i(i){n||(ce(r),n=!0)},o(i){fe(r),n=!1},d(i){r&&r.d(i),i&&ne(e)}}}function I1(t,e,n){let{$$slots:r={},$$scope:i}=e,{visible:s=!1}=e;const o=ww();function a(){o("close"),n(0,s=!1)}function c(l){el.call(this,t,l)}return t.$$set=l=>{"visible"in l&&n(0,s=l.visible),"$$scope"in l&&n(2,i=l.$$scope)},[s,a,i,r,c]}class N1 extends ai{constructor(e){super(),ci(this,e,I1,x1,li,{visible:0})}}const $o={location:{name:"Brussels",region:"",country:"Belgium",lat:50.83,lon:4.33,tz_id:"Europe/Brussels",localtime_epoch:1657108178,localtime:"2022-07-06 13:49"},current:{last_updated_epoch:1657107900,last_updated:"2022-07-06 13:45",temp_c:19,temp_f:66.2,is_day:1,condition:{text:"Partly cloudy",icon:"//cdn.weatherapi.com/weather/64x64/day/116.png",code:1003},wind_mph:3.8,wind_kph:6.1,wind_degree:10,wind_dir:"N",pressure_mb:1026,pressure_in:30.3,precip_mm:0,precip_in:0,humidity:56,cloud:75,feelslike_c:19,feelslike_f:66.2,vis_km:10,vis_miles:6,uv:5,gust_mph:7.8,gust_kph:12.6},forecast:{forecastday:[{date:"2022-07-06",date_epoch:1657065600,day:{maxtemp_c:23.9,maxtemp_f:75,mintemp_c:10.9,mintemp_f:51.6,avgtemp_c:17.3,avgtemp_f:63.2,maxwind_mph:11.9,maxwind_kph:19.1,totalprecip_mm:0,totalprecip_in:0,avgvis_km:10,avgvis_miles:6,avghumidity:65,daily_will_it_rain:0,daily_chance_of_rain:0,daily_will_it_snow:0,daily_chance_of_snow:0,condition:{text:"Partly cloudy",icon:"//cdn.weatherapi.com/weather/64x64/day/116.png",code:1003},uv:5},astro:{sunrise:"05:38 AM",sunset:"09:57 PM",moonrise:"01:14 PM",moonset:"01:11 AM",moon_phase:"First Quarter",moon_illumination:"48"},hour:[{time_epoch:1657058400,time:"2022-07-06 00:00",temp_c:12.6,temp_f:54.7,is_day:0,condition:{text:"Clear",icon:"//cdn.weatherapi.com/weather/64x64/night/113.png",code:1e3},wind_mph:4.3,wind_kph:6.8,wind_degree:6,wind_dir:"N",pressure_mb:1027,pressure_in:30.31,precip_mm:0,precip_in:0,humidity:84,cloud:1,feelslike_c:12.3,feelslike_f:54.1,windchill_c:12.3,windchill_f:54.1,heatindex_c:12.6,heatindex_f:54.7,dewpoint_c:9.9,dewpoint_f:49.8,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:8.5,gust_kph:13.7,uv:1},{time_epoch:1657062e3,time:"2022-07-06 01:00",temp_c:12.2,temp_f:54,is_day:0,condition:{text:"Clear",icon:"//cdn.weatherapi.com/weather/64x64/night/113.png",code:1e3},wind_mph:2.7,wind_kph:4.3,wind_degree:15,wind_dir:"NNE",pressure_mb:1027,pressure_in:30.31,precip_mm:0,precip_in:0,humidity:84,cloud:0,feelslike_c:12.4,feelslike_f:54.3,windchill_c:12.4,windchill_f:54.3,heatindex_c:12.2,heatindex_f:54,dewpoint_c:9.5,dewpoint_f:49.1,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:5.4,gust_kph:8.6,uv:1},{time_epoch:1657065600,time:"2022-07-06 02:00",temp_c:11.7,temp_f:53.1,is_day:0,condition:{text:"Clear",icon:"//cdn.weatherapi.com/weather/64x64/night/113.png",code:1e3},wind_mph:2,wind_kph:3.2,wind_degree:31,wind_dir:"NNE",pressure_mb:1026,pressure_in:30.31,precip_mm:0,precip_in:0,humidity:84,cloud:19,feelslike_c:12.3,feelslike_f:54.1,windchill_c:12.3,windchill_f:54.1,heatindex_c:11.7,heatindex_f:53.1,dewpoint_c:9,dewpoint_f:48.2,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:4,gust_kph:6.5,uv:1},{time_epoch:1657069200,time:"2022-07-06 03:00",temp_c:11.4,temp_f:52.5,is_day:0,condition:{text:"Partly cloudy",icon:"//cdn.weatherapi.com/weather/64x64/night/116.png",code:1003},wind_mph:1.8,wind_kph:2.9,wind_degree:48,wind_dir:"NE",pressure_mb:1026,pressure_in:30.31,precip_mm:0,precip_in:0,humidity:84,cloud:26,feelslike_c:11.4,feelslike_f:52.5,windchill_c:11.4,windchill_f:52.5,heatindex_c:11.4,heatindex_f:52.5,dewpoint_c:8.8,dewpoint_f:47.8,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:3.6,gust_kph:5.8,uv:1},{time_epoch:1657072800,time:"2022-07-06 04:00",temp_c:11.1,temp_f:52,is_day:0,condition:{text:"Clear",icon:"//cdn.weatherapi.com/weather/64x64/night/113.png",code:1e3},wind_mph:2,wind_kph:3.2,wind_degree:135,wind_dir:"SE",pressure_mb:1026,pressure_in:30.3,precip_mm:0,precip_in:0,humidity:83,cloud:20,feelslike_c:11.6,feelslike_f:52.9,windchill_c:11.6,windchill_f:52.9,heatindex_c:11.1,heatindex_f:52,dewpoint_c:8.4,dewpoint_f:47.1,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:4.3,gust_kph:6.8,uv:1},{time_epoch:1657076400,time:"2022-07-06 05:00",temp_c:10.9,temp_f:51.6,is_day:0,condition:{text:"Clear",icon:"//cdn.weatherapi.com/weather/64x64/night/113.png",code:1e3},wind_mph:3.4,wind_kph:5.4,wind_degree:167,wind_dir:"SSE",pressure_mb:1026,pressure_in:30.29,precip_mm:0,precip_in:0,humidity:82,cloud:17,feelslike_c:10.7,feelslike_f:51.3,windchill_c:10.7,windchill_f:51.3,heatindex_c:10.9,heatindex_f:51.6,dewpoint_c:8,dewpoint_f:46.4,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:6.9,gust_kph:11.2,uv:1},{time_epoch:165708e4,time:"2022-07-06 06:00",temp_c:12.2,temp_f:54,is_day:1,condition:{text:"Sunny",icon:"//cdn.weatherapi.com/weather/64x64/day/113.png",code:1e3},wind_mph:2.7,wind_kph:4.3,wind_degree:218,wind_dir:"SW",pressure_mb:1026,pressure_in:30.31,precip_mm:0,precip_in:0,humidity:77,cloud:9,feelslike_c:12.4,feelslike_f:54.3,windchill_c:12.4,windchill_f:54.3,heatindex_c:12.2,heatindex_f:54,dewpoint_c:8.4,dewpoint_f:47.1,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:4.7,gust_kph:7.6,uv:4},{time_epoch:1657083600,time:"2022-07-06 07:00",temp_c:13.7,temp_f:56.7,is_day:1,condition:{text:"Sunny",icon:"//cdn.weatherapi.com/weather/64x64/day/113.png",code:1e3},wind_mph:3.4,wind_kph:5.4,wind_degree:254,wind_dir:"WSW",pressure_mb:1027,pressure_in:30.32,precip_mm:0,precip_in:0,humidity:71,cloud:14,feelslike_c:13.9,feelslike_f:57,windchill_c:13.9,windchill_f:57,heatindex_c:13.7,heatindex_f:56.7,dewpoint_c:8.6,dewpoint_f:47.5,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:4.7,gust_kph:7.6,uv:4},{time_epoch:1657087200,time:"2022-07-06 08:00",temp_c:15.5,temp_f:59.9,is_day:1,condition:{text:"Partly cloudy",icon:"//cdn.weatherapi.com/weather/64x64/day/116.png",code:1003},wind_mph:4,wind_kph:6.5,wind_degree:237,wind_dir:"WSW",pressure_mb:1027,pressure_in:30.32,precip_mm:0,precip_in:0,humidity:64,cloud:54,feelslike_c:15.5,feelslike_f:59.9,windchill_c:15.5,windchill_f:59.9,heatindex_c:15.5,heatindex_f:59.9,dewpoint_c:8.8,dewpoint_f:47.8,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:4.9,gust_kph:7.9,uv:5},{time_epoch:1657090800,time:"2022-07-06 09:00",temp_c:16.9,temp_f:62.4,is_day:1,condition:{text:"Partly cloudy",icon:"//cdn.weatherapi.com/weather/64x64/day/116.png",code:1003},wind_mph:4.7,wind_kph:7.6,wind_degree:244,wind_dir:"WSW",pressure_mb:1027,pressure_in:30.31,precip_mm:0,precip_in:0,humidity:59,cloud:62,feelslike_c:16.9,feelslike_f:62.4,windchill_c:16.9,windchill_f:62.4,heatindex_c:16.9,heatindex_f:62.4,dewpoint_c:8.9,dewpoint_f:48,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:5.6,gust_kph:9,uv:5},{time_epoch:1657094400,time:"2022-07-06 10:00",temp_c:18,temp_f:64.4,is_day:1,condition:{text:"Partly cloudy",icon:"//cdn.weatherapi.com/weather/64x64/day/116.png",code:1003},wind_mph:5.1,wind_kph:8.3,wind_degree:249,wind_dir:"WSW",pressure_mb:1026,pressure_in:30.3,precip_mm:0,precip_in:0,humidity:56,cloud:56,feelslike_c:18,feelslike_f:64.4,windchill_c:18,windchill_f:64.4,heatindex_c:18,heatindex_f:64.4,dewpoint_c:9.1,dewpoint_f:48.4,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:6,gust_kph:9.7,uv:5},{time_epoch:1657098e3,time:"2022-07-06 11:00",temp_c:19.3,temp_f:66.7,is_day:1,condition:{text:"Partly cloudy",icon:"//cdn.weatherapi.com/weather/64x64/day/116.png",code:1003},wind_mph:6,wind_kph:9.7,wind_degree:259,wind_dir:"W",pressure_mb:1026,pressure_in:30.31,precip_mm:0,precip_in:0,humidity:54,cloud:61,feelslike_c:19.3,feelslike_f:66.7,windchill_c:19.3,windchill_f:66.7,heatindex_c:19.3,heatindex_f:66.7,dewpoint_c:9.6,dewpoint_f:49.3,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:6.9,gust_kph:11.2,uv:5},{time_epoch:1657101600,time:"2022-07-06 12:00",temp_c:20.2,temp_f:68.4,is_day:1,condition:{text:"Overcast",icon:"//cdn.weatherapi.com/weather/64x64/day/122.png",code:1009},wind_mph:6.7,wind_kph:10.8,wind_degree:270,wind_dir:"W",pressure_mb:1026,pressure_in:30.3,precip_mm:0,precip_in:0,humidity:52,cloud:89,feelslike_c:20.2,feelslike_f:68.4,windchill_c:20.2,windchill_f:68.4,heatindex_c:20.2,heatindex_f:68.4,dewpoint_c:9.9,dewpoint_f:49.8,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:7.8,gust_kph:12.6,uv:5},{time_epoch:1657105200,time:"2022-07-06 13:00",temp_c:21.5,temp_f:70.7,is_day:1,condition:{text:"Partly cloudy",icon:"//cdn.weatherapi.com/weather/64x64/day/116.png",code:1003},wind_mph:5.6,wind_kph:9,wind_degree:259,wind_dir:"W",pressure_mb:1025,pressure_in:30.27,precip_mm:0,precip_in:0,humidity:48,cloud:55,feelslike_c:21.5,feelslike_f:70.7,windchill_c:21.5,windchill_f:70.7,heatindex_c:24.2,heatindex_f:75.6,dewpoint_c:9.9,dewpoint_f:49.8,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:6.5,gust_kph:10.4,uv:6},{time_epoch:1657108800,time:"2022-07-06 14:00",temp_c:23,temp_f:73.4,is_day:1,condition:{text:"Partly cloudy",icon:"//cdn.weatherapi.com/weather/64x64/day/116.png",code:1003},wind_mph:5.4,wind_kph:8.6,wind_degree:277,wind_dir:"W",pressure_mb:1025,pressure_in:30.25,precip_mm:0,precip_in:0,humidity:44,cloud:47,feelslike_c:24.5,feelslike_f:76.1,windchill_c:23,windchill_f:73.4,heatindex_c:24.5,heatindex_f:76.1,dewpoint_c:9.9,dewpoint_f:49.8,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:6.3,gust_kph:10.1,uv:6},{time_epoch:1657112400,time:"2022-07-06 15:00",temp_c:23.9,temp_f:75,is_day:1,condition:{text:"Cloudy",icon:"//cdn.weatherapi.com/weather/64x64/day/119.png",code:1006},wind_mph:5.4,wind_kph:8.6,wind_degree:282,wind_dir:"WNW",pressure_mb:1024,pressure_in:30.23,precip_mm:0,precip_in:0,humidity:41,cloud:81,feelslike_c:24.8,feelslike_f:76.6,windchill_c:23.9,windchill_f:75,heatindex_c:24.8,heatindex_f:76.6,dewpoint_c:9.9,dewpoint_f:49.8,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:6.3,gust_kph:10.1,uv:5},{time_epoch:1657116e3,time:"2022-07-06 16:00",temp_c:23.9,temp_f:75,is_day:1,condition:{text:"Cloudy",icon:"//cdn.weatherapi.com/weather/64x64/day/119.png",code:1006},wind_mph:8.3,wind_kph:13.3,wind_degree:298,wind_dir:"WNW",pressure_mb:1023,pressure_in:30.22,precip_mm:0,precip_in:0,humidity:41,cloud:81,feelslike_c:24.8,feelslike_f:76.6,windchill_c:23.9,windchill_f:75,heatindex_c:24.8,heatindex_f:76.6,dewpoint_c:9.9,dewpoint_f:49.8,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:9.8,gust_kph:15.8,uv:5},{time_epoch:1657119600,time:"2022-07-06 17:00",temp_c:22.7,temp_f:72.9,is_day:1,condition:{text:"Partly cloudy",icon:"//cdn.weatherapi.com/weather/64x64/day/116.png",code:1003},wind_mph:10.3,wind_kph:16.6,wind_degree:311,wind_dir:"NW",pressure_mb:1023,pressure_in:30.21,precip_mm:0,precip_in:0,humidity:46,cloud:54,feelslike_c:24.5,feelslike_f:76.1,windchill_c:22.7,windchill_f:72.9,heatindex_c:24.5,heatindex_f:76.1,dewpoint_c:10.6,dewpoint_f:51.1,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:14.5,gust_kph:23.4,uv:6},{time_epoch:1657123200,time:"2022-07-06 18:00",temp_c:22.7,temp_f:72.9,is_day:1,condition:{text:"Partly cloudy",icon:"//cdn.weatherapi.com/weather/64x64/day/116.png",code:1003},wind_mph:11.9,wind_kph:19.1,wind_degree:318,wind_dir:"NW",pressure_mb:1023,pressure_in:30.22,precip_mm:0,precip_in:0,humidity:51,cloud:55,feelslike_c:24.6,feelslike_f:76.3,windchill_c:22.7,windchill_f:72.9,heatindex_c:24.6,heatindex_f:76.3,dewpoint_c:12,dewpoint_f:53.6,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:13.6,gust_kph:22,uv:6},{time_epoch:1657126800,time:"2022-07-06 19:00",temp_c:22.1,temp_f:71.8,is_day:1,condition:{text:"Sunny",icon:"//cdn.weatherapi.com/weather/64x64/day/113.png",code:1e3},wind_mph:11,wind_kph:17.6,wind_degree:317,wind_dir:"NW",pressure_mb:1023,pressure_in:30.22,precip_mm:0,precip_in:0,humidity:57,cloud:25,feelslike_c:24.6,feelslike_f:76.3,windchill_c:22.1,windchill_f:71.8,heatindex_c:24.6,heatindex_f:76.3,dewpoint_c:13.3,dewpoint_f:55.9,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:12.5,gust_kph:20.2,uv:6},{time_epoch:1657130400,time:"2022-07-06 20:00",temp_c:19.5,temp_f:67.1,is_day:1,condition:{text:"Partly cloudy",icon:"//cdn.weatherapi.com/weather/64x64/day/116.png",code:1003},wind_mph:8.3,wind_kph:13.3,wind_degree:314,wind_dir:"NW",pressure_mb:1024,pressure_in:30.23,precip_mm:0,precip_in:0,humidity:64,cloud:28,feelslike_c:19.5,feelslike_f:67.1,windchill_c:19.5,windchill_f:67.1,heatindex_c:19.5,heatindex_f:67.1,dewpoint_c:12.6,dewpoint_f:54.7,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:13.2,gust_kph:21.2,uv:5},{time_epoch:1657134e3,time:"2022-07-06 21:00",temp_c:17.8,temp_f:64,is_day:1,condition:{text:"Partly cloudy",icon:"//cdn.weatherapi.com/weather/64x64/day/116.png",code:1003},wind_mph:6.3,wind_kph:10.1,wind_degree:291,wind_dir:"WNW",pressure_mb:1024,pressure_in:30.22,precip_mm:0,precip_in:0,humidity:72,cloud:35,feelslike_c:17.8,feelslike_f:64,windchill_c:17.8,windchill_f:64,heatindex_c:17.8,heatindex_f:64,dewpoint_c:12.7,dewpoint_f:54.9,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:11.6,gust_kph:18.7,uv:5},{time_epoch:1657137600,time:"2022-07-06 22:00",temp_c:16.9,temp_f:62.4,is_day:0,condition:{text:"Partly cloudy",icon:"//cdn.weatherapi.com/weather/64x64/night/116.png",code:1003},wind_mph:5.8,wind_kph:9.4,wind_degree:268,wind_dir:"W",pressure_mb:1023,pressure_in:30.22,precip_mm:0,precip_in:0,humidity:77,cloud:38,feelslike_c:16.9,feelslike_f:62.4,windchill_c:16.9,windchill_f:62.4,heatindex_c:16.9,heatindex_f:62.4,dewpoint_c:12.8,dewpoint_f:55,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:11.2,gust_kph:18,uv:1},{time_epoch:1657141200,time:"2022-07-06 23:00",temp_c:16.2,temp_f:61.2,is_day:0,condition:{text:"Partly cloudy",icon:"//cdn.weatherapi.com/weather/64x64/night/116.png",code:1003},wind_mph:6.9,wind_kph:11.2,wind_degree:247,wind_dir:"WSW",pressure_mb:1023,pressure_in:30.21,precip_mm:0,precip_in:0,humidity:79,cloud:34,feelslike_c:16.2,feelslike_f:61.2,windchill_c:16.2,windchill_f:61.2,heatindex_c:16.2,heatindex_f:61.2,dewpoint_c:12.6,dewpoint_f:54.7,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:13.6,gust_kph:22,uv:1}]},{date:"2022-07-07",date_epoch:1657152e3,day:{maxtemp_c:22.8,maxtemp_f:73,mintemp_c:12.3,mintemp_f:54.1,avgtemp_c:17.6,avgtemp_f:63.6,maxwind_mph:16.8,maxwind_kph:27,totalprecip_mm:1.3,totalprecip_in:.05,avgvis_km:10,avgvis_miles:6,avghumidity:71,daily_will_it_rain:1,daily_chance_of_rain:89,daily_will_it_snow:0,daily_chance_of_snow:0,condition:{text:"Patchy rain possible",icon:"//cdn.weatherapi.com/weather/64x64/day/176.png",code:1063},uv:4},astro:{sunrise:"05:38 AM",sunset:"09:57 PM",moonrise:"02:29 PM",moonset:"01:25 AM",moon_phase:"First Quarter",moon_illumination:"55"},hour:[{time_epoch:1657144800,time:"2022-07-07 00:00",temp_c:15.9,temp_f:60.6,is_day:0,condition:{text:"Cloudy",icon:"//cdn.weatherapi.com/weather/64x64/night/119.png",code:1006},wind_mph:8.9,wind_kph:14.4,wind_degree:235,wind_dir:"SW",pressure_mb:1023,pressure_in:30.19,precip_mm:0,precip_in:0,humidity:81,cloud:72,feelslike_c:15.9,feelslike_f:60.6,windchill_c:15.9,windchill_f:60.6,heatindex_c:15.9,heatindex_f:60.6,dewpoint_c:12.6,dewpoint_f:54.7,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:16.8,gust_kph:27,uv:1},{time_epoch:1657148400,time:"2022-07-07 01:00",temp_c:15.6,temp_f:60.1,is_day:0,condition:{text:"Overcast",icon:"//cdn.weatherapi.com/weather/64x64/night/122.png",code:1009},wind_mph:8.9,wind_kph:14.4,wind_degree:242,wind_dir:"WSW",pressure_mb:1022,pressure_in:30.18,precip_mm:0,precip_in:0,humidity:84,cloud:100,feelslike_c:15.6,feelslike_f:60.1,windchill_c:15.6,windchill_f:60.1,heatindex_c:15.6,heatindex_f:60.1,dewpoint_c:12.9,dewpoint_f:55.2,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:16.6,gust_kph:26.6,uv:1},{time_epoch:1657152e3,time:"2022-07-07 02:00",temp_c:17,temp_f:62.6,is_day:0,condition:{text:"Overcast",icon:"//cdn.weatherapi.com/weather/64x64/night/122.png",code:1009},wind_mph:9.6,wind_kph:15.5,wind_degree:256,wind_dir:"WSW",pressure_mb:1022,pressure_in:30.17,precip_mm:0,precip_in:0,humidity:78,cloud:100,feelslike_c:17,feelslike_f:62.6,windchill_c:17,windchill_f:62.6,heatindex_c:17,heatindex_f:62.6,dewpoint_c:13.1,dewpoint_f:55.6,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:14.3,gust_kph:23,uv:1},{time_epoch:1657155600,time:"2022-07-07 03:00",temp_c:17.3,temp_f:63.1,is_day:0,condition:{text:"Overcast",icon:"//cdn.weatherapi.com/weather/64x64/night/122.png",code:1009},wind_mph:9.4,wind_kph:15.1,wind_degree:261,wind_dir:"W",pressure_mb:1022,pressure_in:30.16,precip_mm:0,precip_in:0,humidity:77,cloud:100,feelslike_c:17.3,feelslike_f:63.1,windchill_c:17.3,windchill_f:63.1,heatindex_c:17.3,heatindex_f:63.1,dewpoint_c:13.2,dewpoint_f:55.8,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:13.6,gust_kph:22,uv:1},{time_epoch:1657159200,time:"2022-07-07 04:00",temp_c:16.8,temp_f:62.2,is_day:0,condition:{text:"Patchy rain possible",icon:"//cdn.weatherapi.com/weather/64x64/night/176.png",code:1063},wind_mph:9.2,wind_kph:14.8,wind_degree:265,wind_dir:"W",pressure_mb:1021,pressure_in:30.16,precip_mm:.1,precip_in:0,humidity:82,cloud:100,feelslike_c:16.8,feelslike_f:62.2,windchill_c:16.8,windchill_f:62.2,heatindex_c:16.8,heatindex_f:62.2,dewpoint_c:13.7,dewpoint_f:56.7,will_it_rain:0,chance_of_rain:69,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:13.9,gust_kph:22.3,uv:1},{time_epoch:1657162800,time:"2022-07-07 05:00",temp_c:15.7,temp_f:60.3,is_day:0,condition:{text:"Overcast",icon:"//cdn.weatherapi.com/weather/64x64/night/122.png",code:1009},wind_mph:10.3,wind_kph:16.6,wind_degree:282,wind_dir:"WNW",pressure_mb:1021,pressure_in:30.16,precip_mm:0,precip_in:0,humidity:89,cloud:100,feelslike_c:15.7,feelslike_f:60.3,windchill_c:15.7,windchill_f:60.3,heatindex_c:15.7,heatindex_f:60.3,dewpoint_c:14,dewpoint_f:57.2,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:16.6,gust_kph:26.6,uv:1},{time_epoch:1657166400,time:"2022-07-07 06:00",temp_c:15.7,temp_f:60.3,is_day:1,condition:{text:"Patchy rain possible",icon:"//cdn.weatherapi.com/weather/64x64/day/176.png",code:1063},wind_mph:11,wind_kph:17.6,wind_degree:302,wind_dir:"WNW",pressure_mb:1022,pressure_in:30.17,precip_mm:.1,precip_in:0,humidity:92,cloud:100,feelslike_c:15.7,feelslike_f:60.3,windchill_c:15.7,windchill_f:60.3,heatindex_c:15.7,heatindex_f:60.3,dewpoint_c:14.4,dewpoint_f:57.9,will_it_rain:1,chance_of_rain:72,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:16.6,gust_kph:26.6,uv:4},{time_epoch:165717e4,time:"2022-07-07 07:00",temp_c:15.8,temp_f:60.4,is_day:1,condition:{text:"Light rain shower",icon:"//cdn.weatherapi.com/weather/64x64/day/353.png",code:1240},wind_mph:11.6,wind_kph:18.7,wind_degree:325,wind_dir:"NW",pressure_mb:1022,pressure_in:30.19,precip_mm:.5,precip_in:.02,humidity:88,cloud:100,feelslike_c:15.8,feelslike_f:60.4,windchill_c:15.8,windchill_f:60.4,heatindex_c:15.8,heatindex_f:60.4,dewpoint_c:13.8,dewpoint_f:56.8,will_it_rain:0,chance_of_rain:63,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:17,gust_kph:27.4,uv:4},{time_epoch:1657173600,time:"2022-07-07 08:00",temp_c:16,temp_f:60.8,is_day:1,condition:{text:"Cloudy",icon:"//cdn.weatherapi.com/weather/64x64/day/119.png",code:1006},wind_mph:11.9,wind_kph:19.1,wind_degree:325,wind_dir:"NW",pressure_mb:1023,pressure_in:30.21,precip_mm:0,precip_in:0,humidity:84,cloud:78,feelslike_c:16,feelslike_f:60.8,windchill_c:16,windchill_f:60.8,heatindex_c:16,heatindex_f:60.8,dewpoint_c:13.3,dewpoint_f:55.9,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:16.6,gust_kph:26.6,uv:4},{time_epoch:1657177200,time:"2022-07-07 09:00",temp_c:16.8,temp_f:62.2,is_day:1,condition:{text:"Cloudy",icon:"//cdn.weatherapi.com/weather/64x64/day/119.png",code:1006},wind_mph:12.8,wind_kph:20.5,wind_degree:326,wind_dir:"NNW",pressure_mb:1023,pressure_in:30.22,precip_mm:0,precip_in:0,humidity:77,cloud:63,feelslike_c:16.8,feelslike_f:62.2,windchill_c:16.8,windchill_f:62.2,heatindex_c:16.8,heatindex_f:62.2,dewpoint_c:12.7,dewpoint_f:54.9,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:17,gust_kph:27.4,uv:4},{time_epoch:1657180800,time:"2022-07-07 10:00",temp_c:18.5,temp_f:65.3,is_day:1,condition:{text:"Light rain shower",icon:"//cdn.weatherapi.com/weather/64x64/day/353.png",code:1240},wind_mph:15.2,wind_kph:24.5,wind_degree:332,wind_dir:"NNW",pressure_mb:1024,pressure_in:30.24,precip_mm:.2,precip_in:.01,humidity:65,cloud:91,feelslike_c:18.5,feelslike_f:65.3,windchill_c:18.5,windchill_f:65.3,heatindex_c:18.5,heatindex_f:65.3,dewpoint_c:11.7,dewpoint_f:53.1,will_it_rain:1,chance_of_rain:89,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:17.7,gust_kph:28.4,uv:4},{time_epoch:1657184400,time:"2022-07-07 11:00",temp_c:18.8,temp_f:65.8,is_day:1,condition:{text:"Cloudy",icon:"//cdn.weatherapi.com/weather/64x64/day/119.png",code:1006},wind_mph:15.4,wind_kph:24.8,wind_degree:335,wind_dir:"NNW",pressure_mb:1025,pressure_in:30.26,precip_mm:0,precip_in:0,humidity:63,cloud:86,feelslike_c:18.8,feelslike_f:65.8,windchill_c:18.8,windchill_f:65.8,heatindex_c:18.8,heatindex_f:65.8,dewpoint_c:11.7,dewpoint_f:53.1,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:17.7,gust_kph:28.4,uv:4},{time_epoch:1657188e3,time:"2022-07-07 12:00",temp_c:19,temp_f:66.2,is_day:1,condition:{text:"Patchy rain possible",icon:"//cdn.weatherapi.com/weather/64x64/day/176.png",code:1063},wind_mph:15.2,wind_kph:24.5,wind_degree:332,wind_dir:"NNW",pressure_mb:1025,pressure_in:30.27,precip_mm:.1,precip_in:0,humidity:63,cloud:91,feelslike_c:19,feelslike_f:66.2,windchill_c:19,windchill_f:66.2,heatindex_c:19,heatindex_f:66.2,dewpoint_c:11.9,dewpoint_f:53.4,will_it_rain:1,chance_of_rain:74,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:18.3,gust_kph:29.5,uv:4},{time_epoch:1657191600,time:"2022-07-07 13:00",temp_c:21.1,temp_f:70,is_day:1,condition:{text:"Patchy rain possible",icon:"//cdn.weatherapi.com/weather/64x64/day/176.png",code:1063},wind_mph:15.9,wind_kph:25.6,wind_degree:336,wind_dir:"NNW",pressure_mb:1025,pressure_in:30.28,precip_mm:.1,precip_in:0,humidity:56,cloud:77,feelslike_c:21.1,feelslike_f:70,windchill_c:21.1,windchill_f:70,heatindex_c:24.4,heatindex_f:75.9,dewpoint_c:12,dewpoint_f:53.6,will_it_rain:0,chance_of_rain:68,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:18.3,gust_kph:29.5,uv:5},{time_epoch:1657195200,time:"2022-07-07 14:00",temp_c:20.4,temp_f:68.7,is_day:1,condition:{text:"Patchy rain possible",icon:"//cdn.weatherapi.com/weather/64x64/day/176.png",code:1063},wind_mph:16.6,wind_kph:26.6,wind_degree:338,wind_dir:"NNW",pressure_mb:1026,pressure_in:30.29,precip_mm:.1,precip_in:0,humidity:57,cloud:91,feelslike_c:20.4,feelslike_f:68.7,windchill_c:20.4,windchill_f:68.7,heatindex_c:20.4,heatindex_f:68.7,dewpoint_c:11.7,dewpoint_f:53.1,will_it_rain:1,chance_of_rain:80,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:19,gust_kph:30.6,uv:5},{time_epoch:1657198800,time:"2022-07-07 15:00",temp_c:20.3,temp_f:68.5,is_day:1,condition:{text:"Partly cloudy",icon:"//cdn.weatherapi.com/weather/64x64/day/116.png",code:1003},wind_mph:16.8,wind_kph:27,wind_degree:340,wind_dir:"NNW",pressure_mb:1026,pressure_in:30.31,precip_mm:0,precip_in:0,humidity:57,cloud:25,feelslike_c:20.3,feelslike_f:68.5,windchill_c:20.3,windchill_f:68.5,heatindex_c:20.3,heatindex_f:68.5,dewpoint_c:11.5,dewpoint_f:52.7,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:19.2,gust_kph:31,uv:6},{time_epoch:1657202400,time:"2022-07-07 16:00",temp_c:22.8,temp_f:73,is_day:1,condition:{text:"Patchy rain possible",icon:"//cdn.weatherapi.com/weather/64x64/day/176.png",code:1063},wind_mph:16.3,wind_kph:26.3,wind_degree:341,wind_dir:"NNW",pressure_mb:1027,pressure_in:30.32,precip_mm:.1,precip_in:0,humidity:50,cloud:78,feelslike_c:24.7,feelslike_f:76.5,windchill_c:22.8,windchill_f:73,heatindex_c:24.7,heatindex_f:76.5,dewpoint_c:11.9,dewpoint_f:53.4,will_it_rain:1,chance_of_rain:87,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:18.8,gust_kph:30.2,uv:5},{time_epoch:1657206e3,time:"2022-07-07 17:00",temp_c:22.3,temp_f:72.1,is_day:1,condition:{text:"Sunny",icon:"//cdn.weatherapi.com/weather/64x64/day/113.png",code:1e3},wind_mph:15.9,wind_kph:25.6,wind_degree:340,wind_dir:"NNW",pressure_mb:1027,pressure_in:30.34,precip_mm:0,precip_in:0,humidity:50,cloud:2,feelslike_c:24.5,feelslike_f:76.1,windchill_c:22.3,windchill_f:72.1,heatindex_c:24.5,heatindex_f:76.1,dewpoint_c:11.5,dewpoint_f:52.7,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:18.3,gust_kph:29.5,uv:6},{time_epoch:1657209600,time:"2022-07-07 18:00",temp_c:20.2,temp_f:68.4,is_day:1,condition:{text:"Sunny",icon:"//cdn.weatherapi.com/weather/64x64/day/113.png",code:1e3},wind_mph:14.8,wind_kph:23.8,wind_degree:341,wind_dir:"NNW",pressure_mb:1028,pressure_in:30.35,precip_mm:0,precip_in:0,humidity:53,cloud:11,feelslike_c:20.2,feelslike_f:68.4,windchill_c:20.2,windchill_f:68.4,heatindex_c:20.2,heatindex_f:68.4,dewpoint_c:10.4,dewpoint_f:50.7,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:17,gust_kph:27.4,uv:6},{time_epoch:1657213200,time:"2022-07-07 19:00",temp_c:19.2,temp_f:66.6,is_day:1,condition:{text:"Sunny",icon:"//cdn.weatherapi.com/weather/64x64/day/113.png",code:1e3},wind_mph:13.4,wind_kph:21.6,wind_degree:339,wind_dir:"NNW",pressure_mb:1028,pressure_in:30.36,precip_mm:0,precip_in:0,humidity:59,cloud:19,feelslike_c:19.2,feelslike_f:66.6,windchill_c:19.2,windchill_f:66.6,heatindex_c:19.2,heatindex_f:66.6,dewpoint_c:10.9,dewpoint_f:51.6,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:15.4,gust_kph:24.8,uv:5},{time_epoch:1657216800,time:"2022-07-07 20:00",temp_c:16.3,temp_f:61.3,is_day:1,condition:{text:"Sunny",icon:"//cdn.weatherapi.com/weather/64x64/day/113.png",code:1e3},wind_mph:12.3,wind_kph:19.8,wind_degree:340,wind_dir:"NNW",pressure_mb:1029,pressure_in:30.38,precip_mm:0,precip_in:0,humidity:65,cloud:8,feelslike_c:16.3,feelslike_f:61.3,windchill_c:16.3,windchill_f:61.3,heatindex_c:16.3,heatindex_f:61.3,dewpoint_c:9.8,dewpoint_f:49.6,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:17.2,gust_kph:27.7,uv:5},{time_epoch:1657220400,time:"2022-07-07 21:00",temp_c:14.3,temp_f:57.7,is_day:1,condition:{text:"Sunny",icon:"//cdn.weatherapi.com/weather/64x64/day/113.png",code:1e3},wind_mph:10.1,wind_kph:16.2,wind_degree:345,wind_dir:"NNW",pressure_mb:1030,pressure_in:30.4,precip_mm:0,precip_in:0,humidity:73,cloud:7,feelslike_c:13.1,feelslike_f:55.6,windchill_c:13.1,windchill_f:55.6,heatindex_c:14.3,heatindex_f:57.7,dewpoint_c:9.6,dewpoint_f:49.3,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:16.8,gust_kph:27,uv:4},{time_epoch:1657224e3,time:"2022-07-07 22:00",temp_c:13.1,temp_f:55.6,is_day:0,condition:{text:"Clear",icon:"//cdn.weatherapi.com/weather/64x64/night/113.png",code:1e3},wind_mph:8.1,wind_kph:13,wind_degree:350,wind_dir:"N",pressure_mb:1030,pressure_in:30.42,precip_mm:0,precip_in:0,humidity:80,cloud:6,feelslike_c:12,feelslike_f:53.6,windchill_c:12,windchill_f:53.6,heatindex_c:13.1,heatindex_f:55.6,dewpoint_c:9.7,dewpoint_f:49.5,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:14.5,gust_kph:23.4,uv:1},{time_epoch:1657227600,time:"2022-07-07 23:00",temp_c:12.3,temp_f:54.1,is_day:0,condition:{text:"Clear",icon:"//cdn.weatherapi.com/weather/64x64/night/113.png",code:1e3},wind_mph:6.7,wind_kph:10.8,wind_degree:351,wind_dir:"N",pressure_mb:1031,pressure_in:30.43,precip_mm:0,precip_in:0,humidity:84,cloud:4,feelslike_c:11.3,feelslike_f:52.3,windchill_c:11.3,windchill_f:52.3,heatindex_c:12.3,heatindex_f:54.1,dewpoint_c:9.7,dewpoint_f:49.5,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:12.8,gust_kph:20.5,uv:1}]},{date:"2022-07-08",date_epoch:1657238400,day:{maxtemp_c:28,maxtemp_f:82.4,mintemp_c:10.1,mintemp_f:50.2,avgtemp_c:18.1,avgtemp_f:64.5,maxwind_mph:10.1,maxwind_kph:16.2,totalprecip_mm:0,totalprecip_in:0,avgvis_km:10,avgvis_miles:6,avghumidity:64,daily_will_it_rain:0,daily_chance_of_rain:0,daily_will_it_snow:0,daily_chance_of_snow:0,condition:{text:"Sunny",icon:"//cdn.weatherapi.com/weather/64x64/day/113.png",code:1e3},uv:5},astro:{sunrise:"05:39 AM",sunset:"09:56 PM",moonrise:"03:49 PM",moonset:"01:39 AM",moon_phase:"First Quarter",moon_illumination:"63"},hour:[{time_epoch:1657231200,time:"2022-07-08 00:00",temp_c:11.6,temp_f:52.9,is_day:0,condition:{text:"Clear",icon:"//cdn.weatherapi.com/weather/64x64/night/113.png",code:1e3},wind_mph:5.8,wind_kph:9.4,wind_degree:349,wind_dir:"N",pressure_mb:1031,pressure_in:30.44,precip_mm:0,precip_in:0,humidity:86,cloud:4,feelslike_c:10.7,feelslike_f:51.3,windchill_c:10.7,windchill_f:51.3,heatindex_c:11.6,heatindex_f:52.9,dewpoint_c:9.3,dewpoint_f:48.7,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:11.6,gust_kph:18.7,uv:1},{time_epoch:1657234800,time:"2022-07-08 01:00",temp_c:11.2,temp_f:52.2,is_day:0,condition:{text:"Clear",icon:"//cdn.weatherapi.com/weather/64x64/night/113.png",code:1e3},wind_mph:5.8,wind_kph:9.4,wind_degree:345,wind_dir:"NNW",pressure_mb:1031,pressure_in:30.45,precip_mm:0,precip_in:0,humidity:87,cloud:5,feelslike_c:10.2,feelslike_f:50.4,windchill_c:10.2,windchill_f:50.4,heatindex_c:11.2,heatindex_f:52.2,dewpoint_c:9.1,dewpoint_f:48.4,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:11.9,gust_kph:19.1,uv:1},{time_epoch:1657238400,time:"2022-07-08 02:00",temp_c:10.9,temp_f:51.6,is_day:0,condition:{text:"Clear",icon:"//cdn.weatherapi.com/weather/64x64/night/113.png",code:1e3},wind_mph:5.4,wind_kph:8.6,wind_degree:347,wind_dir:"NNW",pressure_mb:1031,pressure_in:30.45,precip_mm:0,precip_in:0,humidity:88,cloud:5,feelslike_c:9.9,feelslike_f:49.8,windchill_c:9.9,windchill_f:49.8,heatindex_c:10.9,heatindex_f:51.6,dewpoint_c:9,dewpoint_f:48.2,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:11,gust_kph:17.6,uv:1},{time_epoch:1657242e3,time:"2022-07-08 03:00",temp_c:10.8,temp_f:51.4,is_day:0,condition:{text:"Clear",icon:"//cdn.weatherapi.com/weather/64x64/night/113.png",code:1e3},wind_mph:4.5,wind_kph:7.2,wind_degree:356,wind_dir:"N",pressure_mb:1031,pressure_in:30.45,precip_mm:0,precip_in:0,humidity:89,cloud:5,feelslike_c:10.1,feelslike_f:50.2,windchill_c:10.1,windchill_f:50.2,heatindex_c:10.8,heatindex_f:51.4,dewpoint_c:9,dewpoint_f:48.2,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:8.9,gust_kph:14.4,uv:1},{time_epoch:1657245600,time:"2022-07-08 04:00",temp_c:10.4,temp_f:50.7,is_day:0,condition:{text:"Clear",icon:"//cdn.weatherapi.com/weather/64x64/night/113.png",code:1e3},wind_mph:3.4,wind_kph:5.4,wind_degree:7,wind_dir:"N",pressure_mb:1031,pressure_in:30.45,precip_mm:0,precip_in:0,humidity:89,cloud:6,feelslike_c:10.1,feelslike_f:50.2,windchill_c:10.1,windchill_f:50.2,heatindex_c:10.4,heatindex_f:50.7,dewpoint_c:8.7,dewpoint_f:47.7,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:6.9,gust_kph:11.2,uv:1},{time_epoch:1657249200,time:"2022-07-08 05:00",temp_c:10.1,temp_f:50.2,is_day:0,condition:{text:"Clear",icon:"//cdn.weatherapi.com/weather/64x64/night/113.png",code:1e3},wind_mph:2.2,wind_kph:3.6,wind_degree:5,wind_dir:"N",pressure_mb:1031,pressure_in:30.45,precip_mm:0,precip_in:0,humidity:89,cloud:4,feelslike_c:10.4,feelslike_f:50.7,windchill_c:10.4,windchill_f:50.7,heatindex_c:10.1,heatindex_f:50.2,dewpoint_c:8.4,dewpoint_f:47.1,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:4.7,gust_kph:7.6,uv:1},{time_epoch:1657252800,time:"2022-07-08 06:00",temp_c:11.7,temp_f:53.1,is_day:1,condition:{text:"Sunny",icon:"//cdn.weatherapi.com/weather/64x64/day/113.png",code:1e3},wind_mph:2,wind_kph:3.2,wind_degree:352,wind_dir:"N",pressure_mb:1032,pressure_in:30.46,precip_mm:0,precip_in:0,humidity:85,cloud:6,feelslike_c:12.3,feelslike_f:54.1,windchill_c:12.3,windchill_f:54.1,heatindex_c:11.7,heatindex_f:53.1,dewpoint_c:9.3,dewpoint_f:48.7,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:3.4,gust_kph:5.4,uv:4},{time_epoch:1657256400,time:"2022-07-08 07:00",temp_c:13.6,temp_f:56.5,is_day:1,condition:{text:"Sunny",icon:"//cdn.weatherapi.com/weather/64x64/day/113.png",code:1e3},wind_mph:3.6,wind_kph:5.8,wind_degree:1,wind_dir:"N",pressure_mb:1032,pressure_in:30.46,precip_mm:0,precip_in:0,humidity:78,cloud:4,feelslike_c:13.7,feelslike_f:56.7,windchill_c:13.7,windchill_f:56.7,heatindex_c:13.6,heatindex_f:56.5,dewpoint_c:9.8,dewpoint_f:49.6,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:4.7,gust_kph:7.6,uv:4},{time_epoch:165726e4,time:"2022-07-08 08:00",temp_c:15.5,temp_f:59.9,is_day:1,condition:{text:"Sunny",icon:"//cdn.weatherapi.com/weather/64x64/day/113.png",code:1e3},wind_mph:4.7,wind_kph:7.6,wind_degree:12,wind_dir:"NNE",pressure_mb:1032,pressure_in:30.47,precip_mm:0,precip_in:0,humidity:70,cloud:5,feelslike_c:15.5,feelslike_f:59.9,windchill_c:15.5,windchill_f:59.9,heatindex_c:15.5,heatindex_f:59.9,dewpoint_c:10.1,dewpoint_f:50.2,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:5.8,gust_kph:9.4,uv:5},{time_epoch:1657263600,time:"2022-07-08 09:00",temp_c:17.3,temp_f:63.1,is_day:1,condition:{text:"Sunny",icon:"//cdn.weatherapi.com/weather/64x64/day/113.png",code:1e3},wind_mph:4.9,wind_kph:7.9,wind_degree:10,wind_dir:"N",pressure_mb:1032,pressure_in:30.47,precip_mm:0,precip_in:0,humidity:61,cloud:12,feelslike_c:17.3,feelslike_f:63.1,windchill_c:17.3,windchill_f:63.1,heatindex_c:17.3,heatindex_f:63.1,dewpoint_c:9.8,dewpoint_f:49.6,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:5.6,gust_kph:9,uv:5},{time_epoch:1657267200,time:"2022-07-08 10:00",temp_c:19,temp_f:66.2,is_day:1,condition:{text:"Sunny",icon:"//cdn.weatherapi.com/weather/64x64/day/113.png",code:1e3},wind_mph:5.4,wind_kph:8.6,wind_degree:14,wind_dir:"NNE",pressure_mb:1032,pressure_in:30.47,precip_mm:0,precip_in:0,humidity:55,cloud:7,feelslike_c:19,feelslike_f:66.2,windchill_c:19,windchill_f:66.2,heatindex_c:19,heatindex_f:66.2,dewpoint_c:9.6,dewpoint_f:49.3,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:6.3,gust_kph:10.1,uv:5},{time_epoch:1657270800,time:"2022-07-08 11:00",temp_c:21.3,temp_f:70.3,is_day:1,condition:{text:"Sunny",icon:"//cdn.weatherapi.com/weather/64x64/day/113.png",code:1e3},wind_mph:5.1,wind_kph:8.3,wind_degree:9,wind_dir:"N",pressure_mb:1031,pressure_in:30.45,precip_mm:0,precip_in:0,humidity:50,cloud:6,feelslike_c:21.3,feelslike_f:70.3,windchill_c:21.3,windchill_f:70.3,heatindex_c:24.3,heatindex_f:75.7,dewpoint_c:10.4,dewpoint_f:50.7,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:5.8,gust_kph:9.4,uv:6},{time_epoch:1657274400,time:"2022-07-08 12:00",temp_c:22.9,temp_f:73.2,is_day:1,condition:{text:"Sunny",icon:"//cdn.weatherapi.com/weather/64x64/day/113.png",code:1e3},wind_mph:5.4,wind_kph:8.6,wind_degree:1,wind_dir:"N",pressure_mb:1031,pressure_in:30.44,precip_mm:0,precip_in:0,humidity:47,cloud:6,feelslike_c:24.6,feelslike_f:76.3,windchill_c:22.9,windchill_f:73.2,heatindex_c:24.6,heatindex_f:76.3,dewpoint_c:11,dewpoint_f:51.8,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:6.3,gust_kph:10.1,uv:6},{time_epoch:1657278e3,time:"2022-07-08 13:00",temp_c:24.1,temp_f:75.4,is_day:1,condition:{text:"Sunny",icon:"//cdn.weatherapi.com/weather/64x64/day/113.png",code:1e3},wind_mph:6,wind_kph:9.7,wind_degree:353,wind_dir:"N",pressure_mb:1031,pressure_in:30.43,precip_mm:0,precip_in:0,humidity:45,cloud:6,feelslike_c:25.1,feelslike_f:77.2,windchill_c:24.1,windchill_f:75.4,heatindex_c:25.1,heatindex_f:77.2,dewpoint_c:11.5,dewpoint_f:52.7,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:6.9,gust_kph:11.2,uv:6},{time_epoch:1657281600,time:"2022-07-08 14:00",temp_c:25.1,temp_f:77.2,is_day:1,condition:{text:"Sunny",icon:"//cdn.weatherapi.com/weather/64x64/day/113.png",code:1e3},wind_mph:6.5,wind_kph:10.4,wind_degree:349,wind_dir:"N",pressure_mb:1030,pressure_in:30.42,precip_mm:0,precip_in:0,humidity:43,cloud:6,feelslike_c:25.6,feelslike_f:78.1,windchill_c:25.1,windchill_f:77.2,heatindex_c:25.6,heatindex_f:78.1,dewpoint_c:11.6,dewpoint_f:52.9,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:7.4,gust_kph:11.9,uv:7},{time_epoch:1657285200,time:"2022-07-08 15:00",temp_c:28,temp_f:82.4,is_day:1,condition:{text:"Sunny",icon:"//cdn.weatherapi.com/weather/64x64/day/113.png",code:1e3},wind_mph:7.4,wind_kph:11.9,wind_degree:350,wind_dir:"N",pressure_mb:1030,pressure_in:30.41,precip_mm:0,precip_in:0,humidity:42,cloud:4,feelslike_c:28,feelslike_f:82.4,windchill_c:28,windchill_f:82.4,heatindex_c:28,heatindex_f:82.4,dewpoint_c:13.7,dewpoint_f:56.7,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:8.5,gust_kph:13.7,uv:7},{time_epoch:1657288800,time:"2022-07-08 16:00",temp_c:25.6,temp_f:78.1,is_day:1,condition:{text:"Sunny",icon:"//cdn.weatherapi.com/weather/64x64/day/113.png",code:1e3},wind_mph:8.9,wind_kph:14.4,wind_degree:356,wind_dir:"N",pressure_mb:1029,pressure_in:30.4,precip_mm:0,precip_in:0,humidity:41,cloud:5,feelslike_c:25.8,feelslike_f:78.4,windchill_c:25.6,windchill_f:78.1,heatindex_c:25.8,heatindex_f:78.4,dewpoint_c:11.5,dewpoint_f:52.7,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:10.3,gust_kph:16.6,uv:7},{time_epoch:1657292400,time:"2022-07-08 17:00",temp_c:24.7,temp_f:76.5,is_day:1,condition:{text:"Sunny",icon:"//cdn.weatherapi.com/weather/64x64/day/113.png",code:1e3},wind_mph:10.1,wind_kph:16.2,wind_degree:359,wind_dir:"N",pressure_mb:1029,pressure_in:30.39,precip_mm:0,precip_in:0,humidity:43,cloud:3,feelslike_c:25.3,feelslike_f:77.5,windchill_c:24.7,windchill_f:76.5,heatindex_c:25.3,heatindex_f:77.5,dewpoint_c:11.2,dewpoint_f:52.2,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:11.9,gust_kph:19.1,uv:6},{time_epoch:1657296e3,time:"2022-07-08 18:00",temp_c:24,temp_f:75.2,is_day:1,condition:{text:"Sunny",icon:"//cdn.weatherapi.com/weather/64x64/day/113.png",code:1e3},wind_mph:9.8,wind_kph:15.8,wind_degree:0,wind_dir:"N",pressure_mb:1029,pressure_in:30.39,precip_mm:0,precip_in:0,humidity:46,cloud:1,feelslike_c:25,feelslike_f:77,windchill_c:24,windchill_f:75.2,heatindex_c:25,heatindex_f:77,dewpoint_c:11.5,dewpoint_f:52.7,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:12.1,gust_kph:19.4,uv:6},{time_epoch:1657299600,time:"2022-07-08 19:00",temp_c:24.1,temp_f:75.4,is_day:1,condition:{text:"Sunny",icon:"//cdn.weatherapi.com/weather/64x64/day/113.png",code:1e3},wind_mph:8.3,wind_kph:13.3,wind_degree:2,wind_dir:"N",pressure_mb:1029,pressure_in:30.39,precip_mm:0,precip_in:0,humidity:51,cloud:0,feelslike_c:25.3,feelslike_f:77.5,windchill_c:24.1,windchill_f:75.4,heatindex_c:25.3,heatindex_f:77.5,dewpoint_c:13.4,dewpoint_f:56.1,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:9.6,gust_kph:15.5,uv:6},{time_epoch:1657303200,time:"2022-07-08 20:00",temp_c:20.7,temp_f:69.3,is_day:1,condition:{text:"Sunny",icon:"//cdn.weatherapi.com/weather/64x64/day/113.png",code:1e3},wind_mph:7.2,wind_kph:11.5,wind_degree:2,wind_dir:"N",pressure_mb:1029,pressure_in:30.39,precip_mm:0,precip_in:0,humidity:59,cloud:0,feelslike_c:20.7,feelslike_f:69.3,windchill_c:20.7,windchill_f:69.3,heatindex_c:20.7,heatindex_f:69.3,dewpoint_c:12.4,dewpoint_f:54.3,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:11.6,gust_kph:18.7,uv:6},{time_epoch:1657306800,time:"2022-07-08 21:00",temp_c:18.3,temp_f:64.9,is_day:1,condition:{text:"Sunny",icon:"//cdn.weatherapi.com/weather/64x64/day/113.png",code:1e3},wind_mph:6.9,wind_kph:11.2,wind_degree:3,wind_dir:"N",pressure_mb:1029,pressure_in:30.4,precip_mm:0,precip_in:0,humidity:64,cloud:5,feelslike_c:18.3,feelslike_f:64.9,windchill_c:18.3,windchill_f:64.9,heatindex_c:18.3,heatindex_f:64.9,dewpoint_c:11.4,dewpoint_f:52.5,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:13.4,gust_kph:21.6,uv:5},{time_epoch:1657310400,time:"2022-07-08 22:00",temp_c:16.9,temp_f:62.4,is_day:0,condition:{text:"Clear",icon:"//cdn.weatherapi.com/weather/64x64/night/113.png",code:1e3},wind_mph:5.8,wind_kph:9.4,wind_degree:0,wind_dir:"N",pressure_mb:1029,pressure_in:30.39,precip_mm:0,precip_in:0,humidity:68,cloud:15,feelslike_c:16.9,feelslike_f:62.4,windchill_c:16.9,windchill_f:62.4,heatindex_c:16.9,heatindex_f:62.4,dewpoint_c:11,dewpoint_f:51.8,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:11.9,gust_kph:19.1,uv:1},{time_epoch:1657314e3,time:"2022-07-08 23:00",temp_c:16,temp_f:60.8,is_day:0,condition:{text:"Partly cloudy",icon:"//cdn.weatherapi.com/weather/64x64/night/116.png",code:1003},wind_mph:4.7,wind_kph:7.6,wind_degree:356,wind_dir:"N",pressure_mb:1029,pressure_in:30.39,precip_mm:0,precip_in:0,humidity:72,cloud:32,feelslike_c:16,feelslike_f:60.8,windchill_c:16,windchill_f:60.8,heatindex_c:16,heatindex_f:60.8,dewpoint_c:10.9,dewpoint_f:51.6,will_it_rain:0,chance_of_rain:0,will_it_snow:0,chance_of_snow:0,vis_km:10,vis_miles:6,gust_mph:9.8,gust_kph:15.8,uv:1}]}]}};class R1{static getCurrentWeather(){return $o.current}static getForecast(e=0){return e>=$o.forecast.forecastday.length?$o.forecast.forecastday[$o.forecast.forecastday.length-1]:$o.forecast.forecastday[e]}}function lp(t){let e,n,r=t[0].day.mintemp_c+"",i,s,o=t[0].day.maxtemp_c+"",a,c,l,u,d,p;return{c(){e=dt("div"),n=dt("span"),i=bt(r),s=bt("-"),a=bt(o),c=bt("\xB0C"),l=ct(),u=dt("div"),d=dt("div"),p=bt("\u{1F324}"),this.h()},l(h){e=ft(h,"DIV",{class:!0});var m=Ke(e);n=ft(m,"SPAN",{class:!0});var _=Ke(n);i=vt(_,r),s=vt(_,"-"),a=vt(_,o),c=vt(_,"\xB0C"),_.forEach(ne),l=lt(m),u=ft(m,"DIV",{class:!0});var b=Ke(u);d=ft(b,"DIV",{class:!0});var v=Ke(d);p=vt(v,"\u{1F324}"),v.forEach(ne),b.forEach(ne),m.forEach(ne),this.h()},h(){ht(n,"class","text-lg"),ht(d,"class","absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2"),ht(u,"class","absolute h-6 aspect-square rounded-full bg-blue-700 -right-1 -top-1"),ht(e,"class","bg-blue-200 rounded-md min-h-4 p-3 select-none relative")},m(h,m){Be(h,e,m),ie(e,n),ie(n,i),ie(n,s),ie(n,a),ie(n,c),ie(e,l),ie(e,u),ie(u,d),ie(d,p)},p(h,m){m&1&&r!==(r=h[0].day.mintemp_c+"")&&pr(i,r),m&1&&o!==(o=h[0].day.maxtemp_c+"")&&pr(a,o)},d(h){h&&ne(e)}}}function D1(t){let e,n=t[0]&&lp(t);return{c(){n&&n.c(),e=kr()},l(r){n&&n.l(r),e=kr()},m(r,i){n&&n.m(r,i),Be(r,e,i)},p(r,[i]){r[0]?n?n.p(r,i):(n=lp(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:ri,o:ri,d(r){n&&n.d(r),r&&ne(e)}}}function O1(t,e,n){let{day:r}=e,i;return Em(()=>{const o=ts.Now.plainDateISO().until(r).days;n(0,i=R1.getForecast(o))}),t.$$set=s=>{"day"in s&&n(1,r=s.day)},[i,r]}class k1 extends ai{constructor(e){super(),ci(this,e,O1,D1,li,{day:1})}}function up(t,e,n){const r=t.slice();return r[11]=e[n],r}function dp(t,e,n){const r=t.slice();return r[14]=e[n],r}function fp(t){let e,n;return e=new k1({props:{day:t[11]}}),{c(){gt(e.$$.fragment)},l(r){_t(e.$$.fragment,r)},m(r,i){wt(e,r,i),n=!0},p(r,i){const s={};i&1&&(s.day=r[11]),e.$set(s)},i(r){n||(ce(e.$$.fragment,r),n=!0)},o(r){fe(e.$$.fragment,r),n=!1},d(r){yt(e,r)}}}function S1(t){let e,n;return e=new fs({props:{filled:!0,$$slots:{default:[$1]},$$scope:{ctx:t}}}),e.$on("click",$i.new),{c(){gt(e.$$.fragment)},l(r){_t(e.$$.fragment,r)},m(r,i){wt(e,r,i),n=!0},p(r,i){const s={};i&131072&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){n||(ce(e.$$.fragment,r),n=!0)},o(r){fe(e.$$.fragment,r),n=!1},d(r){yt(e,r)}}}function A1(t){let e,n,r=t[1][t[11].toString()],i=[];for(let o=0;o<r.length;o+=1)i[o]=hp(dp(t,r,o));const s=o=>fe(i[o],1,1,()=>{i[o]=null});return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=kr()},l(o){for(let a=0;a<i.length;a+=1)i[a].l(o);e=kr()},m(o,a){for(let c=0;c<i.length;c+=1)i[c].m(o,a);Be(o,e,a),n=!0},p(o,a){if(a&3){r=o[1][o[11].toString()];let c;for(c=0;c<r.length;c+=1){const l=dp(o,r,c);i[c]?(i[c].p(l,a),ce(i[c],1)):(i[c]=hp(l),i[c].c(),ce(i[c],1),i[c].m(e.parentNode,e))}for(Di(),c=r.length;c<i.length;c+=1)s(c);Oi()}},i(o){if(!n){for(let a=0;a<r.length;a+=1)ce(i[a]);n=!0}},o(o){i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)fe(i[a]);n=!1},d(o){nf(i,o),o&&ne(e)}}}function $1(t){let e;return{c(){e=bt("Create event")},l(n){e=vt(n,"Create event")},m(n,r){Be(n,e,r)},d(n){n&&ne(e)}}}function hp(t){let e,n;function r(){return t[6](t[14])}return e=new y1({props:{event:t[14]}}),e.$on("click",r),{c(){gt(e.$$.fragment)},l(i){_t(e.$$.fragment,i)},m(i,s){wt(e,i,s),n=!0},p(i,s){t=i;const o={};s&3&&(o.event=t[14]),e.$set(o)},i(i){n||(ce(e.$$.fragment,i),n=!0)},o(i){fe(e.$$.fragment,i),n=!1},d(i){yt(e,i)}}}function pp(t){let e,n,r,i=t[4][t[11].dayOfWeek-1]+"",s,o,a=np.DateTimeFormat("gb-GB").format(t[11])+"",c,l,u,d=t[11].until(t[3]).days<=0,p,h,m,_,b,v,T=d&&fp(t);const x=[A1,S1],N=[];function D(O,R){return R&3&&(h=null),h==null&&(h=O[11].toString()in O[1]),h?0:1}return m=D(t,-1),_=N[m]=x[m](t),{c(){e=dt("div"),n=dt("div"),r=dt("span"),s=bt(i),o=ct(),c=bt(a),l=ct(),u=dt("div"),T&&T.c(),p=ct(),_.c(),b=ct(),this.h()},l(O){e=ft(O,"DIV",{class:!0});var R=Ke(e);n=ft(R,"DIV",{class:!0});var j=Ke(n);r=ft(j,"SPAN",{class:!0});var M=Ke(r);s=vt(M,i),M.forEach(ne),o=lt(j),c=vt(j,a),j.forEach(ne),l=lt(R),u=ft(R,"DIV",{class:!0});var z=Ke(u);T&&T.l(z),p=lt(z),_.l(z),z.forEach(ne),b=lt(R),R.forEach(ne),this.h()},h(){ht(r,"class","font-lg"),ht(n,"class","py-2 svelte-9qm4p1"),Sc(n,"today",t[11].equals(t[3])),ht(u,"class","flex flex-col gap-4 my-4"),ht(e,"class","grow max-w-xs")},m(O,R){Be(O,e,R),ie(e,n),ie(n,r),ie(r,s),ie(n,o),ie(n,c),ie(e,l),ie(e,u),T&&T.m(u,null),ie(u,p),N[m].m(u,null),ie(e,b),v=!0},p(O,R){(!v||R&1)&&i!==(i=O[4][O[11].dayOfWeek-1]+"")&&pr(s,i),(!v||R&1)&&a!==(a=np.DateTimeFormat("gb-GB").format(O[11])+"")&&pr(c,a),R&9&&Sc(n,"today",O[11].equals(O[3])),R&1&&(d=O[11].until(O[3]).days<=0),d?T?(T.p(O,R),R&1&&ce(T,1)):(T=fp(O),T.c(),ce(T,1),T.m(u,p)):T&&(Di(),fe(T,1,1,()=>{T=null}),Oi());let j=m;m=D(O,R),m===j?N[m].p(O,R):(Di(),fe(N[j],1,1,()=>{N[j]=null}),Oi(),_=N[m],_?_.p(O,R):(_=N[m]=x[m](O),_.c()),ce(_,1),_.m(u,null))},i(O){v||(ce(T),ce(_),v=!0)},o(O){fe(T),fe(_),v=!1},d(O){O&&ne(e),T&&T.d(),N[m].d()}}}function j1(t){let e,n,r,i;e=new fs({props:{filled:!0,destructive:!0,$$slots:{default:[C1]},$$scope:{ctx:t}}}),e.$on("click",$i.reset);function s(){return t[9](t[10])}return r=new fs({props:{filled:!0,focused:!0,$$slots:{default:[L1]},$$scope:{ctx:t}}}),r.$on("click",s),{c(){gt(e.$$.fragment),n=ct(),gt(r.$$.fragment)},l(o){_t(e.$$.fragment,o),n=lt(o),_t(r.$$.fragment,o)},m(o,a){wt(e,o,a),Be(o,n,a),wt(r,o,a),i=!0},p(o,a){t=o;const c={};a&131072&&(c.$$scope={dirty:a,ctx:t}),e.$set(c);const l={};a&131072&&(l.$$scope={dirty:a,ctx:t}),r.$set(l)},i(o){i||(ce(e.$$.fragment,o),ce(r.$$.fragment,o),i=!0)},o(o){fe(e.$$.fragment,o),fe(r.$$.fragment,o),i=!1},d(o){yt(e,o),o&&ne(n),yt(r,o)}}}function M1(t){let e,n,r,i;function s(){return t[7](t[10])}e=new fs({props:{filled:!0,destructive:!0,$$slots:{default:[P1]},$$scope:{ctx:t}}}),e.$on("click",s);function o(){return t[8](t[10])}return r=new fs({props:{filled:!0,focused:!0,$$slots:{default:[U1]},$$scope:{ctx:t}}}),r.$on("click",o),{c(){gt(e.$$.fragment),n=ct(),gt(r.$$.fragment)},l(a){_t(e.$$.fragment,a),n=lt(a),_t(r.$$.fragment,a)},m(a,c){wt(e,a,c),Be(a,n,c),wt(r,a,c),i=!0},p(a,c){t=a;const l={};c&131072&&(l.$$scope={dirty:c,ctx:t}),e.$set(l);const u={};c&131072&&(u.$$scope={dirty:c,ctx:t}),r.$set(u)},i(a){i||(ce(e.$$.fragment,a),ce(r.$$.fragment,a),i=!0)},o(a){fe(e.$$.fragment,a),fe(r.$$.fragment,a),i=!1},d(a){yt(e,a),a&&ne(n),yt(r,a)}}}function C1(t){let e;return{c(){e=bt("Cancel")},l(n){e=vt(n,"Cancel")},m(n,r){Be(n,e,r)},d(n){n&&ne(e)}}}function L1(t){let e;return{c(){e=bt("Create Event")},l(n){e=vt(n,"Create Event")},m(n,r){Be(n,e,r)},d(n){n&&ne(e)}}}function P1(t){let e;return{c(){e=bt("Delete Event")},l(n){e=vt(n,"Delete Event")},m(n,r){Be(n,e,r)},d(n){n&&ne(e)}}}function U1(t){let e;return{c(){e=bt("Update Event")},l(n){e=vt(n,"Update Event")},m(n,r){Be(n,e,r)},d(n){n&&ne(e)}}}function F1(t){let e,n,r,i;const s=[M1,j1],o=[];function a(c,l){return c[2].editMode?0:1}return e=a(t),n=o[e]=s[e](t),{c(){n.c(),r=kr()},l(c){n.l(c),r=kr()},m(c,l){o[e].m(c,l),Be(c,r,l),i=!0},p(c,l){let u=e;e=a(c),e===u?o[e].p(c,l):(Di(),fe(o[u],1,1,()=>{o[u]=null}),Oi(),n=o[e],n?n.p(c,l):(n=o[e]=s[e](c),n.c()),ce(n,1),n.m(r.parentNode,r))},i(c){i||(ce(n),i=!0)},o(c){fe(n),i=!1},d(c){o[e].d(c),c&&ne(r)}}}function B1(t){let e,n;return e=new E1({props:{$$slots:{default:[F1,({submit:r})=>({10:r}),({submit:r})=>r?1024:0]},$$scope:{ctx:t}}}),{c(){gt(e.$$.fragment)},l(r){_t(e.$$.fragment,r)},m(r,i){wt(e,r,i),n=!0},p(r,i){const s={};i&132100&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){n||(ce(e.$$.fragment,r),n=!0)},o(r){fe(e.$$.fragment,r),n=!1},d(r){yt(e,r)}}}function q1(t){let e,n,r,i,s=t[0],o=[];for(let c=0;c<s.length;c+=1)o[c]=pp(up(t,s,c));const a=c=>fe(o[c],1,1,()=>{o[c]=null});return r=new N1({props:{visible:t[2].visible,$$slots:{default:[B1]},$$scope:{ctx:t}}}),r.$on("close",$i.reset),{c(){e=dt("div");for(let c=0;c<o.length;c+=1)o[c].c();n=ct(),gt(r.$$.fragment),this.h()},l(c){e=ft(c,"DIV",{class:!0});var l=Ke(e);for(let u=0;u<o.length;u+=1)o[u].l(l);l.forEach(ne),n=lt(c),_t(r.$$.fragment,c),this.h()},h(){ht(e,"class","m-4 flex gap-3 container mx-auto")},m(c,l){Be(c,e,l);for(let u=0;u<o.length;u+=1)o[u].m(e,null);Be(c,n,l),wt(r,c,l),i=!0},p(c,[l]){if(l&27){s=c[0];let d;for(d=0;d<s.length;d+=1){const p=up(c,s,d);o[d]?(o[d].p(p,l),ce(o[d],1)):(o[d]=pp(p),o[d].c(),ce(o[d],1),o[d].m(e,null))}for(Di(),d=s.length;d<o.length;d+=1)a(d);Oi()}const u={};l&4&&(u.visible=c[2].visible),l&131076&&(u.$$scope={dirty:l,ctx:c}),r.$set(u)},i(c){if(!i){for(let l=0;l<s.length;l+=1)ce(o[l]);ce(r.$$.fragment,c),i=!0}},o(c){o=o.filter(Boolean);for(let l=0;l<o.length;l+=1)fe(o[l]);fe(r.$$.fragment,c),i=!1},d(c){c&&ne(e),nf(o,c),c&&ne(n),yt(r,c)}}}function Y1(t,e,n){let r,i;td(t,p1,h=>n(1,r=h)),td(t,$i,h=>n(2,i=h));let{startOfWeek:s}=e;const o=ts.Now.plainDateISO(),a=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];let c=[];const l=h=>$i.edit(h),u=h=>h(Ho.deleteEvent),d=h=>h(Ho.updateEvent),p=h=>h(Ho.addEvent);return t.$$set=h=>{"startOfWeek"in h&&n(5,s=h.startOfWeek)},t.$$.update=()=>{t.$$.dirty&32&&s&&n(0,c=a.map((h,m)=>s.add({days:m})))},[c,r,i,o,a,s,l,u,d,p]}class z1 extends ai{constructor(e){super(),ci(this,e,Y1,q1,li,{startOfWeek:5})}}function G1(t){let e,n,r=t[0][0]+"",i,s,o=t[1][t[1].length-1][0]+"",a,c,l;return{c(){e=dt("div"),n=dt("span"),i=bt(r),s=ct(),a=bt(o),this.h()},l(u){e=ft(u,"DIV",{class:!0});var d=Ke(e);n=ft(d,"SPAN",{class:!0});var p=Ke(n);i=vt(p,r),s=lt(p),a=vt(p,o),p.forEach(ne),d.forEach(ne),this.h()},h(){ht(n,"class","w-full text-center"),ht(e,"class","rounded-full bg-green-600 text-green-100 h-12 w-12 flex items-center cursor-pointer")},m(u,d){Be(u,e,d),ie(e,n),ie(n,i),ie(n,s),ie(n,a),c||(l=kc(e,"click",t[3]),c=!0)},p(u,[d]){d&1&&r!==(r=u[0][0]+"")&&pr(i,r),d&2&&o!==(o=u[1][u[1].length-1][0]+"")&&pr(a,o)},i:ri,o:ri,d(u){u&&ne(e),c=!1,l()}}}function W1(t,e,n){let r,{firstname:i}=e,{lastname:s}=e;function o(a){el.call(this,t,a)}return t.$$set=a=>{"firstname"in a&&n(0,i=a.firstname),"lastname"in a&&n(2,s=a.lastname)},t.$$.update=()=>{t.$$.dirty&4&&n(1,r=s.split(" "))},[i,r,s,o]}class V1 extends ai{constructor(e){super(),ci(this,e,W1,G1,li,{firstname:0,lastname:2})}}const H1=t=>({}),mp=t=>({});function gp(t){let e;const n=t[3].icon,r=il(n,t,t[2],mp);return{c(){r&&r.c()},l(i){r&&r.l(i)},m(i,s){r&&r.m(i,s),e=!0},p(i,s){r&&r.p&&(!e||s&4)&&tl(r,n,i,i[2],e?rl(n,i[2],s,H1):nl(i[2]),mp)},i(i){e||(ce(r,i),e=!0)},o(i){fe(r,i),e=!1},d(i){r&&r.d(i)}}}function Z1(t){let e,n,r,i,s,o=t[1].icon&&gp(t);const a=t[3].default,c=il(a,t,t[2],null);return{c(){e=dt("div"),o&&o.c(),n=ct(),c&&c.c(),this.h()},l(l){e=ft(l,"DIV",{class:!0});var u=Ke(e);o&&o.l(u),n=lt(u),c&&c.l(u),u.forEach(ne),this.h()},h(){ht(e,"class","rounded-full p-2 h-min flex gap-4 items-center cursor-pointer svelte-k6w3fr"),Sc(e,"filled",t[0])},m(l,u){Be(l,e,u),o&&o.m(e,null),ie(e,n),c&&c.m(e,null),r=!0,i||(s=kc(e,"click",t[4]),i=!0)},p(l,[u]){l[1].icon?o?(o.p(l,u),u&2&&ce(o,1)):(o=gp(l),o.c(),ce(o,1),o.m(e,n)):o&&(Di(),fe(o,1,1,()=>{o=null}),Oi()),c&&c.p&&(!r||u&4)&&tl(c,a,l,l[2],r?rl(a,l[2],u,null):nl(l[2]),null),u&1&&Sc(e,"filled",l[0])},i(l){r||(ce(o),ce(c,l),r=!0)},o(l){fe(o),fe(c,l),r=!1},d(l){l&&ne(e),o&&o.d(),c&&c.d(l),i=!1,s()}}}function Q1(t,e,n){let{$$slots:r={},$$scope:i}=e;const s=yw(r);let{filled:o=!1}=e;function a(c){el.call(this,t,c)}return t.$$set=c=>{"filled"in c&&n(0,o=c.filled),"$$scope"in c&&n(2,i=c.$$scope)},[o,s,i,r,a]}class _p extends ai{constructor(e){super(),ci(this,e,Q1,Z1,li,{filled:0})}}var ji={},bl={};bl.byteLength=J1;bl.toByteArray=tb;bl.fromByteArray=ib;var Or=[],Vn=[],X1=typeof Uint8Array!="undefined"?Uint8Array:Array,gu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Ps=0,K1=gu.length;Ps<K1;++Ps)Or[Ps]=gu[Ps],Vn[gu.charCodeAt(Ps)]=Ps;Vn["-".charCodeAt(0)]=62;Vn["_".charCodeAt(0)]=63;function $g(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function J1(t){var e=$g(t),n=e[0],r=e[1];return(n+r)*3/4-r}function eb(t,e,n){return(e+n)*3/4-n}function tb(t){var e,n=$g(t),r=n[0],i=n[1],s=new X1(eb(t,r,i)),o=0,a=i>0?r-4:r,c;for(c=0;c<a;c+=4)e=Vn[t.charCodeAt(c)]<<18|Vn[t.charCodeAt(c+1)]<<12|Vn[t.charCodeAt(c+2)]<<6|Vn[t.charCodeAt(c+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=Vn[t.charCodeAt(c)]<<2|Vn[t.charCodeAt(c+1)]>>4,s[o++]=e&255),i===1&&(e=Vn[t.charCodeAt(c)]<<10|Vn[t.charCodeAt(c+1)]<<4|Vn[t.charCodeAt(c+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function nb(t){return Or[t>>18&63]+Or[t>>12&63]+Or[t>>6&63]+Or[t&63]}function rb(t,e,n){for(var r,i=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(nb(r));return i.join("")}function ib(t){for(var e,n=t.length,r=n%3,i=[],s=16383,o=0,a=n-r;o<a;o+=s)i.push(rb(t,o,o+s>a?a:o+s));return r===1?(e=t[n-1],i.push(Or[e>>2]+Or[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(Or[e>>10]+Or[e>>4&63]+Or[e<<2&63]+"=")),i.join("")}var Af={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Af.read=function(t,e,n,r,i){var s,o,a=i*8-r-1,c=(1<<a)-1,l=c>>1,u=-7,d=n?i-1:0,p=n?-1:1,h=t[e+d];for(d+=p,s=h&(1<<-u)-1,h>>=-u,u+=a;u>0;s=s*256+t[e+d],d+=p,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=r;u>0;o=o*256+t[e+d],d+=p,u-=8);if(s===0)s=1-l;else{if(s===c)return o?NaN:(h?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-l}return(h?-1:1)*o*Math.pow(2,s-r)};Af.write=function(t,e,n,r,i,s){var o,a,c,l=s*8-i-1,u=(1<<l)-1,d=u>>1,p=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:s-1,m=r?1:-1,_=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+d>=1?e+=p/c:e+=p*Math.pow(2,1-d),e*c>=2&&(o++,c/=2),o+d>=u?(a=0,o=u):o+d>=1?(a=(e*c-1)*Math.pow(2,i),o=o+d):(a=e*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;t[n+h]=a&255,h+=m,a/=256,i-=8);for(o=o<<i|a,l+=i;l>0;t[n+h]=o&255,h+=m,o/=256,l-=8);t[n+h-m]|=_*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=bl,n=Af,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=T,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const E=new Uint8Array(1),w={foo:function(){return 42}};return Object.setPrototypeOf(w,Uint8Array.prototype),Object.setPrototypeOf(E,w),E.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(!!a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(!!a.isBuffer(this))return this.byteOffset}});function o(E){if(E>i)throw new RangeError('The value "'+E+'" is invalid for option "size"');const w=new Uint8Array(E);return Object.setPrototypeOf(w,a.prototype),w}function a(E,w,y){if(typeof E=="number"){if(typeof w=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(E)}return c(E,w,y)}a.poolSize=8192;function c(E,w,y){if(typeof E=="string")return p(E,w);if(ArrayBuffer.isView(E))return m(E);if(E==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof E);if(br(E,ArrayBuffer)||E&&br(E.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(br(E,SharedArrayBuffer)||E&&br(E.buffer,SharedArrayBuffer)))return _(E,w,y);if(typeof E=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const I=E.valueOf&&E.valueOf();if(I!=null&&I!==E)return a.from(I,w,y);const k=b(E);if(k)return k;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof E[Symbol.toPrimitive]=="function")return a.from(E[Symbol.toPrimitive]("string"),w,y);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof E)}a.from=function(E,w,y){return c(E,w,y)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function l(E){if(typeof E!="number")throw new TypeError('"size" argument must be of type number');if(E<0)throw new RangeError('The value "'+E+'" is invalid for option "size"')}function u(E,w,y){return l(E),E<=0?o(E):w!==void 0?typeof y=="string"?o(E).fill(w,y):o(E).fill(w):o(E)}a.alloc=function(E,w,y){return u(E,w,y)};function d(E){return l(E),o(E<0?0:v(E)|0)}a.allocUnsafe=function(E){return d(E)},a.allocUnsafeSlow=function(E){return d(E)};function p(E,w){if((typeof w!="string"||w==="")&&(w="utf8"),!a.isEncoding(w))throw new TypeError("Unknown encoding: "+w);const y=x(E,w)|0;let I=o(y);const k=I.write(E,w);return k!==y&&(I=I.slice(0,k)),I}function h(E){const w=E.length<0?0:v(E.length)|0,y=o(w);for(let I=0;I<w;I+=1)y[I]=E[I]&255;return y}function m(E){if(br(E,Uint8Array)){const w=new Uint8Array(E);return _(w.buffer,w.byteOffset,w.byteLength)}return h(E)}function _(E,w,y){if(w<0||E.byteLength<w)throw new RangeError('"offset" is outside of buffer bounds');if(E.byteLength<w+(y||0))throw new RangeError('"length" is outside of buffer bounds');let I;return w===void 0&&y===void 0?I=new Uint8Array(E):y===void 0?I=new Uint8Array(E,w):I=new Uint8Array(E,w,y),Object.setPrototypeOf(I,a.prototype),I}function b(E){if(a.isBuffer(E)){const w=v(E.length)|0,y=o(w);return y.length===0||E.copy(y,0,0,w),y}if(E.length!==void 0)return typeof E.length!="number"||cu(E.length)?o(0):h(E);if(E.type==="Buffer"&&Array.isArray(E.data))return h(E.data)}function v(E){if(E>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return E|0}function T(E){return+E!=E&&(E=0),a.alloc(+E)}a.isBuffer=function(w){return w!=null&&w._isBuffer===!0&&w!==a.prototype},a.compare=function(w,y){if(br(w,Uint8Array)&&(w=a.from(w,w.offset,w.byteLength)),br(y,Uint8Array)&&(y=a.from(y,y.offset,y.byteLength)),!a.isBuffer(w)||!a.isBuffer(y))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(w===y)return 0;let I=w.length,k=y.length;for(let $=0,C=Math.min(I,k);$<C;++$)if(w[$]!==y[$]){I=w[$],k=y[$];break}return I<k?-1:k<I?1:0},a.isEncoding=function(w){switch(String(w).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(w,y){if(!Array.isArray(w))throw new TypeError('"list" argument must be an Array of Buffers');if(w.length===0)return a.alloc(0);let I;if(y===void 0)for(y=0,I=0;I<w.length;++I)y+=w[I].length;const k=a.allocUnsafe(y);let $=0;for(I=0;I<w.length;++I){let C=w[I];if(br(C,Uint8Array))$+C.length>k.length?(a.isBuffer(C)||(C=a.from(C)),C.copy(k,$)):Uint8Array.prototype.set.call(k,C,$);else if(a.isBuffer(C))C.copy(k,$);else throw new TypeError('"list" argument must be an Array of Buffers');$+=C.length}return k};function x(E,w){if(a.isBuffer(E))return E.length;if(ArrayBuffer.isView(E)||br(E,ArrayBuffer))return E.byteLength;if(typeof E!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof E);const y=E.length,I=arguments.length>2&&arguments[2]===!0;if(!I&&y===0)return 0;let k=!1;for(;;)switch(w){case"ascii":case"latin1":case"binary":return y;case"utf8":case"utf-8":return au(E).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return y*2;case"hex":return y>>>1;case"base64":return zh(E).length;default:if(k)return I?-1:au(E).length;w=(""+w).toLowerCase(),k=!0}}a.byteLength=x;function N(E,w,y){let I=!1;if((w===void 0||w<0)&&(w=0),w>this.length||((y===void 0||y>this.length)&&(y=this.length),y<=0)||(y>>>=0,w>>>=0,y<=w))return"";for(E||(E="utf8");;)switch(E){case"hex":return pn(this,w,y);case"utf8":case"utf-8":return se(this,w,y);case"ascii":return He(this,w,y);case"latin1":case"binary":return On(this,w,y);case"base64":return _e(this,w,y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Mn(this,w,y);default:if(I)throw new TypeError("Unknown encoding: "+E);E=(E+"").toLowerCase(),I=!0}}a.prototype._isBuffer=!0;function D(E,w,y){const I=E[w];E[w]=E[y],E[y]=I}a.prototype.swap16=function(){const w=this.length;if(w%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let y=0;y<w;y+=2)D(this,y,y+1);return this},a.prototype.swap32=function(){const w=this.length;if(w%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let y=0;y<w;y+=4)D(this,y,y+3),D(this,y+1,y+2);return this},a.prototype.swap64=function(){const w=this.length;if(w%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let y=0;y<w;y+=8)D(this,y,y+7),D(this,y+1,y+6),D(this,y+2,y+5),D(this,y+3,y+4);return this},a.prototype.toString=function(){const w=this.length;return w===0?"":arguments.length===0?se(this,0,w):N.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(w){if(!a.isBuffer(w))throw new TypeError("Argument must be a Buffer");return this===w?!0:a.compare(this,w)===0},a.prototype.inspect=function(){let w="";const y=t.INSPECT_MAX_BYTES;return w=this.toString("hex",0,y).replace(/(.{2})/g,"$1 ").trim(),this.length>y&&(w+=" ... "),"<Buffer "+w+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(w,y,I,k,$){if(br(w,Uint8Array)&&(w=a.from(w,w.offset,w.byteLength)),!a.isBuffer(w))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof w);if(y===void 0&&(y=0),I===void 0&&(I=w?w.length:0),k===void 0&&(k=0),$===void 0&&($=this.length),y<0||I>w.length||k<0||$>this.length)throw new RangeError("out of range index");if(k>=$&&y>=I)return 0;if(k>=$)return-1;if(y>=I)return 1;if(y>>>=0,I>>>=0,k>>>=0,$>>>=0,this===w)return 0;let C=$-k,ve=I-y;const Et=Math.min(C,ve),rt=this.slice(k,$),xt=w.slice(y,I);for(let Ye=0;Ye<Et;++Ye)if(rt[Ye]!==xt[Ye]){C=rt[Ye],ve=xt[Ye];break}return C<ve?-1:ve<C?1:0};function O(E,w,y,I,k){if(E.length===0)return-1;if(typeof y=="string"?(I=y,y=0):y>2147483647?y=2147483647:y<-2147483648&&(y=-2147483648),y=+y,cu(y)&&(y=k?0:E.length-1),y<0&&(y=E.length+y),y>=E.length){if(k)return-1;y=E.length-1}else if(y<0)if(k)y=0;else return-1;if(typeof w=="string"&&(w=a.from(w,I)),a.isBuffer(w))return w.length===0?-1:R(E,w,y,I,k);if(typeof w=="number")return w=w&255,typeof Uint8Array.prototype.indexOf=="function"?k?Uint8Array.prototype.indexOf.call(E,w,y):Uint8Array.prototype.lastIndexOf.call(E,w,y):R(E,[w],y,I,k);throw new TypeError("val must be string, number or Buffer")}function R(E,w,y,I,k){let $=1,C=E.length,ve=w.length;if(I!==void 0&&(I=String(I).toLowerCase(),I==="ucs2"||I==="ucs-2"||I==="utf16le"||I==="utf-16le")){if(E.length<2||w.length<2)return-1;$=2,C/=2,ve/=2,y/=2}function Et(xt,Ye){return $===1?xt[Ye]:xt.readUInt16BE(Ye*$)}let rt;if(k){let xt=-1;for(rt=y;rt<C;rt++)if(Et(E,rt)===Et(w,xt===-1?0:rt-xt)){if(xt===-1&&(xt=rt),rt-xt+1===ve)return xt*$}else xt!==-1&&(rt-=rt-xt),xt=-1}else for(y+ve>C&&(y=C-ve),rt=y;rt>=0;rt--){let xt=!0;for(let Ye=0;Ye<ve;Ye++)if(Et(E,rt+Ye)!==Et(w,Ye)){xt=!1;break}if(xt)return rt}return-1}a.prototype.includes=function(w,y,I){return this.indexOf(w,y,I)!==-1},a.prototype.indexOf=function(w,y,I){return O(this,w,y,I,!0)},a.prototype.lastIndexOf=function(w,y,I){return O(this,w,y,I,!1)};function j(E,w,y,I){y=Number(y)||0;const k=E.length-y;I?(I=Number(I),I>k&&(I=k)):I=k;const $=w.length;I>$/2&&(I=$/2);let C;for(C=0;C<I;++C){const ve=parseInt(w.substr(C*2,2),16);if(cu(ve))return C;E[y+C]=ve}return C}function M(E,w,y,I){return ec(au(w,E.length-y),E,y,I)}function z(E,w,y,I){return ec(dw(w),E,y,I)}function L(E,w,y,I){return ec(zh(w),E,y,I)}function G(E,w,y,I){return ec(fw(w,E.length-y),E,y,I)}a.prototype.write=function(w,y,I,k){if(y===void 0)k="utf8",I=this.length,y=0;else if(I===void 0&&typeof y=="string")k=y,I=this.length,y=0;else if(isFinite(y))y=y>>>0,isFinite(I)?(I=I>>>0,k===void 0&&(k="utf8")):(k=I,I=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const $=this.length-y;if((I===void 0||I>$)&&(I=$),w.length>0&&(I<0||y<0)||y>this.length)throw new RangeError("Attempt to write outside buffer bounds");k||(k="utf8");let C=!1;for(;;)switch(k){case"hex":return j(this,w,y,I);case"utf8":case"utf-8":return M(this,w,y,I);case"ascii":case"latin1":case"binary":return z(this,w,y,I);case"base64":return L(this,w,y,I);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,w,y,I);default:if(C)throw new TypeError("Unknown encoding: "+k);k=(""+k).toLowerCase(),C=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function _e(E,w,y){return w===0&&y===E.length?e.fromByteArray(E):e.fromByteArray(E.slice(w,y))}function se(E,w,y){y=Math.min(E.length,y);const I=[];let k=w;for(;k<y;){const $=E[k];let C=null,ve=$>239?4:$>223?3:$>191?2:1;if(k+ve<=y){let Et,rt,xt,Ye;switch(ve){case 1:$<128&&(C=$);break;case 2:Et=E[k+1],(Et&192)===128&&(Ye=($&31)<<6|Et&63,Ye>127&&(C=Ye));break;case 3:Et=E[k+1],rt=E[k+2],(Et&192)===128&&(rt&192)===128&&(Ye=($&15)<<12|(Et&63)<<6|rt&63,Ye>2047&&(Ye<55296||Ye>57343)&&(C=Ye));break;case 4:Et=E[k+1],rt=E[k+2],xt=E[k+3],(Et&192)===128&&(rt&192)===128&&(xt&192)===128&&(Ye=($&15)<<18|(Et&63)<<12|(rt&63)<<6|xt&63,Ye>65535&&Ye<1114112&&(C=Ye))}}C===null?(C=65533,ve=1):C>65535&&(C-=65536,I.push(C>>>10&1023|55296),C=56320|C&1023),I.push(C),k+=ve}return de(I)}const P=4096;function de(E){const w=E.length;if(w<=P)return String.fromCharCode.apply(String,E);let y="",I=0;for(;I<w;)y+=String.fromCharCode.apply(String,E.slice(I,I+=P));return y}function He(E,w,y){let I="";y=Math.min(E.length,y);for(let k=w;k<y;++k)I+=String.fromCharCode(E[k]&127);return I}function On(E,w,y){let I="";y=Math.min(E.length,y);for(let k=w;k<y;++k)I+=String.fromCharCode(E[k]);return I}function pn(E,w,y){const I=E.length;(!w||w<0)&&(w=0),(!y||y<0||y>I)&&(y=I);let k="";for(let $=w;$<y;++$)k+=hw[E[$]];return k}function Mn(E,w,y){const I=E.slice(w,y);let k="";for(let $=0;$<I.length-1;$+=2)k+=String.fromCharCode(I[$]+I[$+1]*256);return k}a.prototype.slice=function(w,y){const I=this.length;w=~~w,y=y===void 0?I:~~y,w<0?(w+=I,w<0&&(w=0)):w>I&&(w=I),y<0?(y+=I,y<0&&(y=0)):y>I&&(y=I),y<w&&(y=w);const k=this.subarray(w,y);return Object.setPrototypeOf(k,a.prototype),k};function Pe(E,w,y){if(E%1!==0||E<0)throw new RangeError("offset is not uint");if(E+w>y)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(w,y,I){w=w>>>0,y=y>>>0,I||Pe(w,y,this.length);let k=this[w],$=1,C=0;for(;++C<y&&($*=256);)k+=this[w+C]*$;return k},a.prototype.readUintBE=a.prototype.readUIntBE=function(w,y,I){w=w>>>0,y=y>>>0,I||Pe(w,y,this.length);let k=this[w+--y],$=1;for(;y>0&&($*=256);)k+=this[w+--y]*$;return k},a.prototype.readUint8=a.prototype.readUInt8=function(w,y){return w=w>>>0,y||Pe(w,1,this.length),this[w]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(w,y){return w=w>>>0,y||Pe(w,2,this.length),this[w]|this[w+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(w,y){return w=w>>>0,y||Pe(w,2,this.length),this[w]<<8|this[w+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(w,y){return w=w>>>0,y||Pe(w,4,this.length),(this[w]|this[w+1]<<8|this[w+2]<<16)+this[w+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(w,y){return w=w>>>0,y||Pe(w,4,this.length),this[w]*16777216+(this[w+1]<<16|this[w+2]<<8|this[w+3])},a.prototype.readBigUInt64LE=pi(function(w){w=w>>>0,$s(w,"offset");const y=this[w],I=this[w+7];(y===void 0||I===void 0)&&Ro(w,this.length-8);const k=y+this[++w]*2**8+this[++w]*2**16+this[++w]*2**24,$=this[++w]+this[++w]*2**8+this[++w]*2**16+I*2**24;return BigInt(k)+(BigInt($)<<BigInt(32))}),a.prototype.readBigUInt64BE=pi(function(w){w=w>>>0,$s(w,"offset");const y=this[w],I=this[w+7];(y===void 0||I===void 0)&&Ro(w,this.length-8);const k=y*2**24+this[++w]*2**16+this[++w]*2**8+this[++w],$=this[++w]*2**24+this[++w]*2**16+this[++w]*2**8+I;return(BigInt(k)<<BigInt(32))+BigInt($)}),a.prototype.readIntLE=function(w,y,I){w=w>>>0,y=y>>>0,I||Pe(w,y,this.length);let k=this[w],$=1,C=0;for(;++C<y&&($*=256);)k+=this[w+C]*$;return $*=128,k>=$&&(k-=Math.pow(2,8*y)),k},a.prototype.readIntBE=function(w,y,I){w=w>>>0,y=y>>>0,I||Pe(w,y,this.length);let k=y,$=1,C=this[w+--k];for(;k>0&&($*=256);)C+=this[w+--k]*$;return $*=128,C>=$&&(C-=Math.pow(2,8*y)),C},a.prototype.readInt8=function(w,y){return w=w>>>0,y||Pe(w,1,this.length),this[w]&128?(255-this[w]+1)*-1:this[w]},a.prototype.readInt16LE=function(w,y){w=w>>>0,y||Pe(w,2,this.length);const I=this[w]|this[w+1]<<8;return I&32768?I|4294901760:I},a.prototype.readInt16BE=function(w,y){w=w>>>0,y||Pe(w,2,this.length);const I=this[w+1]|this[w]<<8;return I&32768?I|4294901760:I},a.prototype.readInt32LE=function(w,y){return w=w>>>0,y||Pe(w,4,this.length),this[w]|this[w+1]<<8|this[w+2]<<16|this[w+3]<<24},a.prototype.readInt32BE=function(w,y){return w=w>>>0,y||Pe(w,4,this.length),this[w]<<24|this[w+1]<<16|this[w+2]<<8|this[w+3]},a.prototype.readBigInt64LE=pi(function(w){w=w>>>0,$s(w,"offset");const y=this[w],I=this[w+7];(y===void 0||I===void 0)&&Ro(w,this.length-8);const k=this[w+4]+this[w+5]*2**8+this[w+6]*2**16+(I<<24);return(BigInt(k)<<BigInt(32))+BigInt(y+this[++w]*2**8+this[++w]*2**16+this[++w]*2**24)}),a.prototype.readBigInt64BE=pi(function(w){w=w>>>0,$s(w,"offset");const y=this[w],I=this[w+7];(y===void 0||I===void 0)&&Ro(w,this.length-8);const k=(y<<24)+this[++w]*2**16+this[++w]*2**8+this[++w];return(BigInt(k)<<BigInt(32))+BigInt(this[++w]*2**24+this[++w]*2**16+this[++w]*2**8+I)}),a.prototype.readFloatLE=function(w,y){return w=w>>>0,y||Pe(w,4,this.length),n.read(this,w,!0,23,4)},a.prototype.readFloatBE=function(w,y){return w=w>>>0,y||Pe(w,4,this.length),n.read(this,w,!1,23,4)},a.prototype.readDoubleLE=function(w,y){return w=w>>>0,y||Pe(w,8,this.length),n.read(this,w,!0,52,8)},a.prototype.readDoubleBE=function(w,y){return w=w>>>0,y||Pe(w,8,this.length),n.read(this,w,!1,52,8)};function Ze(E,w,y,I,k,$){if(!a.isBuffer(E))throw new TypeError('"buffer" argument must be a Buffer instance');if(w>k||w<$)throw new RangeError('"value" argument is out of bounds');if(y+I>E.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(w,y,I,k){if(w=+w,y=y>>>0,I=I>>>0,!k){const ve=Math.pow(2,8*I)-1;Ze(this,w,y,I,ve,0)}let $=1,C=0;for(this[y]=w&255;++C<I&&($*=256);)this[y+C]=w/$&255;return y+I},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(w,y,I,k){if(w=+w,y=y>>>0,I=I>>>0,!k){const ve=Math.pow(2,8*I)-1;Ze(this,w,y,I,ve,0)}let $=I-1,C=1;for(this[y+$]=w&255;--$>=0&&(C*=256);)this[y+$]=w/C&255;return y+I},a.prototype.writeUint8=a.prototype.writeUInt8=function(w,y,I){return w=+w,y=y>>>0,I||Ze(this,w,y,1,255,0),this[y]=w&255,y+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(w,y,I){return w=+w,y=y>>>0,I||Ze(this,w,y,2,65535,0),this[y]=w&255,this[y+1]=w>>>8,y+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(w,y,I){return w=+w,y=y>>>0,I||Ze(this,w,y,2,65535,0),this[y]=w>>>8,this[y+1]=w&255,y+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(w,y,I){return w=+w,y=y>>>0,I||Ze(this,w,y,4,4294967295,0),this[y+3]=w>>>24,this[y+2]=w>>>16,this[y+1]=w>>>8,this[y]=w&255,y+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(w,y,I){return w=+w,y=y>>>0,I||Ze(this,w,y,4,4294967295,0),this[y]=w>>>24,this[y+1]=w>>>16,this[y+2]=w>>>8,this[y+3]=w&255,y+4};function ar(E,w,y,I,k){Ja(w,I,k,E,y,7);let $=Number(w&BigInt(4294967295));E[y++]=$,$=$>>8,E[y++]=$,$=$>>8,E[y++]=$,$=$>>8,E[y++]=$;let C=Number(w>>BigInt(32)&BigInt(4294967295));return E[y++]=C,C=C>>8,E[y++]=C,C=C>>8,E[y++]=C,C=C>>8,E[y++]=C,y}function zt(E,w,y,I,k){Ja(w,I,k,E,y,7);let $=Number(w&BigInt(4294967295));E[y+7]=$,$=$>>8,E[y+6]=$,$=$>>8,E[y+5]=$,$=$>>8,E[y+4]=$;let C=Number(w>>BigInt(32)&BigInt(4294967295));return E[y+3]=C,C=C>>8,E[y+2]=C,C=C>>8,E[y+1]=C,C=C>>8,E[y]=C,y+8}a.prototype.writeBigUInt64LE=pi(function(w,y=0){return ar(this,w,y,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=pi(function(w,y=0){return zt(this,w,y,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(w,y,I,k){if(w=+w,y=y>>>0,!k){const Et=Math.pow(2,8*I-1);Ze(this,w,y,I,Et-1,-Et)}let $=0,C=1,ve=0;for(this[y]=w&255;++$<I&&(C*=256);)w<0&&ve===0&&this[y+$-1]!==0&&(ve=1),this[y+$]=(w/C>>0)-ve&255;return y+I},a.prototype.writeIntBE=function(w,y,I,k){if(w=+w,y=y>>>0,!k){const Et=Math.pow(2,8*I-1);Ze(this,w,y,I,Et-1,-Et)}let $=I-1,C=1,ve=0;for(this[y+$]=w&255;--$>=0&&(C*=256);)w<0&&ve===0&&this[y+$+1]!==0&&(ve=1),this[y+$]=(w/C>>0)-ve&255;return y+I},a.prototype.writeInt8=function(w,y,I){return w=+w,y=y>>>0,I||Ze(this,w,y,1,127,-128),w<0&&(w=255+w+1),this[y]=w&255,y+1},a.prototype.writeInt16LE=function(w,y,I){return w=+w,y=y>>>0,I||Ze(this,w,y,2,32767,-32768),this[y]=w&255,this[y+1]=w>>>8,y+2},a.prototype.writeInt16BE=function(w,y,I){return w=+w,y=y>>>0,I||Ze(this,w,y,2,32767,-32768),this[y]=w>>>8,this[y+1]=w&255,y+2},a.prototype.writeInt32LE=function(w,y,I){return w=+w,y=y>>>0,I||Ze(this,w,y,4,2147483647,-2147483648),this[y]=w&255,this[y+1]=w>>>8,this[y+2]=w>>>16,this[y+3]=w>>>24,y+4},a.prototype.writeInt32BE=function(w,y,I){return w=+w,y=y>>>0,I||Ze(this,w,y,4,2147483647,-2147483648),w<0&&(w=4294967295+w+1),this[y]=w>>>24,this[y+1]=w>>>16,this[y+2]=w>>>8,this[y+3]=w&255,y+4},a.prototype.writeBigInt64LE=pi(function(w,y=0){return ar(this,w,y,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=pi(function(w,y=0){return zt(this,w,y,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Gn(E,w,y,I,k,$){if(y+I>E.length)throw new RangeError("Index out of range");if(y<0)throw new RangeError("Index out of range")}function hi(E,w,y,I,k){return w=+w,y=y>>>0,k||Gn(E,w,y,4),n.write(E,w,y,I,23,4),y+4}a.prototype.writeFloatLE=function(w,y,I){return hi(this,w,y,!0,I)},a.prototype.writeFloatBE=function(w,y,I){return hi(this,w,y,!1,I)};function ks(E,w,y,I,k){return w=+w,y=y>>>0,k||Gn(E,w,y,8),n.write(E,w,y,I,52,8),y+8}a.prototype.writeDoubleLE=function(w,y,I){return ks(this,w,y,!0,I)},a.prototype.writeDoubleBE=function(w,y,I){return ks(this,w,y,!1,I)},a.prototype.copy=function(w,y,I,k){if(!a.isBuffer(w))throw new TypeError("argument should be a Buffer");if(I||(I=0),!k&&k!==0&&(k=this.length),y>=w.length&&(y=w.length),y||(y=0),k>0&&k<I&&(k=I),k===I||w.length===0||this.length===0)return 0;if(y<0)throw new RangeError("targetStart out of bounds");if(I<0||I>=this.length)throw new RangeError("Index out of range");if(k<0)throw new RangeError("sourceEnd out of bounds");k>this.length&&(k=this.length),w.length-y<k-I&&(k=w.length-y+I);const $=k-I;return this===w&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(y,I,k):Uint8Array.prototype.set.call(w,this.subarray(I,k),y),$},a.prototype.fill=function(w,y,I,k){if(typeof w=="string"){if(typeof y=="string"?(k=y,y=0,I=this.length):typeof I=="string"&&(k=I,I=this.length),k!==void 0&&typeof k!="string")throw new TypeError("encoding must be a string");if(typeof k=="string"&&!a.isEncoding(k))throw new TypeError("Unknown encoding: "+k);if(w.length===1){const C=w.charCodeAt(0);(k==="utf8"&&C<128||k==="latin1")&&(w=C)}}else typeof w=="number"?w=w&255:typeof w=="boolean"&&(w=Number(w));if(y<0||this.length<y||this.length<I)throw new RangeError("Out of range index");if(I<=y)return this;y=y>>>0,I=I===void 0?this.length:I>>>0,w||(w=0);let $;if(typeof w=="number")for($=y;$<I;++$)this[$]=w;else{const C=a.isBuffer(w)?w:a.from(w,k),ve=C.length;if(ve===0)throw new TypeError('The value "'+w+'" is invalid for argument "value"');for($=0;$<I-y;++$)this[$+y]=C[$%ve]}return this};const yr={};function No(E,w,y){yr[E]=class extends y{constructor(){super(),Object.defineProperty(this,"message",{value:w.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${E}]`,this.stack,delete this.name}get code(){return E}set code(k){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:k,writable:!0})}toString(){return`${this.name} [${E}]: ${this.message}`}}}No("ERR_BUFFER_OUT_OF_BOUNDS",function(E){return E?`${E} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),No("ERR_INVALID_ARG_TYPE",function(E,w){return`The "${E}" argument must be of type number. Received type ${typeof w}`},TypeError),No("ERR_OUT_OF_RANGE",function(E,w,y){let I=`The value of "${E}" is out of range.`,k=y;return Number.isInteger(y)&&Math.abs(y)>2**32?k=Ss(String(y)):typeof y=="bigint"&&(k=String(y),(y>BigInt(2)**BigInt(32)||y<-(BigInt(2)**BigInt(32)))&&(k=Ss(k)),k+="n"),I+=` It must be ${w}. Received ${k}`,I},RangeError);function Ss(E){let w="",y=E.length;const I=E[0]==="-"?1:0;for(;y>=I+4;y-=3)w=`_${E.slice(y-3,y)}${w}`;return`${E.slice(0,y)}${w}`}function As(E,w,y){$s(w,"offset"),(E[w]===void 0||E[w+y]===void 0)&&Ro(w,E.length-(y+1))}function Ja(E,w,y,I,k,$){if(E>y||E<w){const C=typeof w=="bigint"?"n":"";let ve;throw $>3?w===0||w===BigInt(0)?ve=`>= 0${C} and < 2${C} ** ${($+1)*8}${C}`:ve=`>= -(2${C} ** ${($+1)*8-1}${C}) and < 2 ** ${($+1)*8-1}${C}`:ve=`>= ${w}${C} and <= ${y}${C}`,new yr.ERR_OUT_OF_RANGE("value",ve,E)}As(I,k,$)}function $s(E,w){if(typeof E!="number")throw new yr.ERR_INVALID_ARG_TYPE(w,"number",E)}function Ro(E,w,y){throw Math.floor(E)!==E?($s(E,y),new yr.ERR_OUT_OF_RANGE(y||"offset","an integer",E)):w<0?new yr.ERR_BUFFER_OUT_OF_BOUNDS:new yr.ERR_OUT_OF_RANGE(y||"offset",`>= ${y?1:0} and <= ${w}`,E)}const lw=/[^+/0-9A-Za-z-_]/g;function uw(E){if(E=E.split("=")[0],E=E.trim().replace(lw,""),E.length<2)return"";for(;E.length%4!==0;)E=E+"=";return E}function au(E,w){w=w||1/0;let y;const I=E.length;let k=null;const $=[];for(let C=0;C<I;++C){if(y=E.charCodeAt(C),y>55295&&y<57344){if(!k){if(y>56319){(w-=3)>-1&&$.push(239,191,189);continue}else if(C+1===I){(w-=3)>-1&&$.push(239,191,189);continue}k=y;continue}if(y<56320){(w-=3)>-1&&$.push(239,191,189),k=y;continue}y=(k-55296<<10|y-56320)+65536}else k&&(w-=3)>-1&&$.push(239,191,189);if(k=null,y<128){if((w-=1)<0)break;$.push(y)}else if(y<2048){if((w-=2)<0)break;$.push(y>>6|192,y&63|128)}else if(y<65536){if((w-=3)<0)break;$.push(y>>12|224,y>>6&63|128,y&63|128)}else if(y<1114112){if((w-=4)<0)break;$.push(y>>18|240,y>>12&63|128,y>>6&63|128,y&63|128)}else throw new Error("Invalid code point")}return $}function dw(E){const w=[];for(let y=0;y<E.length;++y)w.push(E.charCodeAt(y)&255);return w}function fw(E,w){let y,I,k;const $=[];for(let C=0;C<E.length&&!((w-=2)<0);++C)y=E.charCodeAt(C),I=y>>8,k=y%256,$.push(k),$.push(I);return $}function zh(E){return e.toByteArray(uw(E))}function ec(E,w,y,I){let k;for(k=0;k<I&&!(k+y>=w.length||k>=E.length);++k)w[k+y]=E[k];return k}function br(E,w){return E instanceof w||E!=null&&E.constructor!=null&&E.constructor.name!=null&&E.constructor.name===w.name}function cu(E){return E!==E}const hw=function(){const E="0123456789abcdef",w=new Array(256);for(let y=0;y<16;++y){const I=y*16;for(let k=0;k<16;++k)w[I+k]=E[y]+E[k]}return w}();function pi(E){return typeof BigInt=="undefined"?pw:E}function pw(){throw new Error("BigInt not supported")}})(ji);var sb=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,ob=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ab=/\s|\uFEFF|\xA0/,cb=/\r?\n[\x20\x09]+/g,lb=/[;,"]/,ub=/[;,"]|\s/,db=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/,Yr={IDLE:1<<0,URI:1<<1,ATTR:1<<2};function wp(t){return t.replace(ob,"")}function wc(t){return ab.test(t)}function fb(t,e){for(;wc(t[e]);)e++;return e}function yp(t){return ub.test(t)||!db.test(t)}class et{constructor(e){this.refs=[],e&&this.parse(e)}rel(e){for(var n=[],r=e.toLowerCase(),i=0;i<this.refs.length;i++)this.refs[i].rel.toLowerCase()===r&&n.push(this.refs[i]);return n}get(e,n){e=e.toLowerCase();for(var r=[],i=0;i<this.refs.length;i++)this.refs[i][e]===n&&r.push(this.refs[i]);return r}set(e){return this.refs.push(e),this}has(e,n){e=e.toLowerCase();for(var r=0;r<this.refs.length;r++)if(this.refs[r][e]===n)return!0;return!1}parse(e,s){s=s||0,e=s?e.slice(s):e,e=wp(e).replace(cb,"");for(var r=Yr.IDLE,i=e.length,s=0,o=null;s<i;)if(r===Yr.IDLE){if(wc(e[s])){s++;continue}else if(e[s]==="<"){o!=null&&(o.rel!=null?this.refs.push(...et.expandRelations(o)):this.refs.push(o));var a=e.indexOf(">",s);if(a===-1)throw new Error("Expected end of URI delimiter at offset "+s);o={uri:e.slice(s+1,a)},s=a,r=Yr.URI}else throw new Error('Unexpected character "'+e[s]+'" at offset '+s);s++}else if(r===Yr.URI)if(wc(e[s])){s++;continue}else if(e[s]===";")r=Yr.ATTR,s++;else if(e[s]===",")r=Yr.IDLE,s++;else throw new Error('Unexpected character "'+e[s]+'" at offset '+s);else if(r===Yr.ATTR){if(e[s]===";"||wc(e[s])){s++;continue}var a=e.indexOf("=",s);if(a===-1)throw new Error("Expected attribute delimiter at offset "+s);var c=wp(e.slice(s,a)).toLowerCase(),l="";if(s=a+1,s=fb(e,s),e[s]==='"')for(s++;s<i;){if(e[s]==='"'){s++;break}e[s]==="\\"&&s++,l+=e[s],s++}else{for(var a=s+1;!lb.test(e[a])&&a<i;)a++;l=e.slice(s,a),s=a}switch(o[c]&&et.isSingleOccurenceAttr(c)||(c[c.length-1]==="*"?o[c]=et.parseExtendedValue(l):(l=c==="type"?l.toLowerCase():l,o[c]!=null?Array.isArray(o[c])?o[c].push(l):o[c]=[o[c],l]:o[c]=l)),e[s]){case",":r=Yr.IDLE;break;case";":r=Yr.ATTR;break}s++}else throw new Error('Unknown parser state "'+r+'"');return o!=null&&(o.rel!=null?this.refs.push(...et.expandRelations(o)):this.refs.push(o)),o=null,this}toString(){for(var e=[],n="",r=null,i=0;i<this.refs.length;i++)r=this.refs[i],n=Object.keys(this.refs[i]).reduce(function(s,o){return o==="uri"?s:s+"; "+et.formatAttribute(o,r[o])},"<"+r.uri+">"),e.push(n);return e.join(", ")}}et.isCompatibleEncoding=function(t){return sb.test(t)};et.parse=function(t,e){return new et().parse(t,e)};et.isSingleOccurenceAttr=function(t){return t==="rel"||t==="type"||t==="media"||t==="title"||t==="title*"};et.isTokenAttr=function(t){return t==="rel"||t==="type"||t==="anchor"};et.escapeQuotes=function(t){return t.replace(/"/g,'\\"')};et.expandRelations=function(t){var e=t.rel.split(" ");return e.map(function(n){var r=Object.assign({},t);return r.rel=n,r})};et.parseExtendedValue=function(t){var e=/([^']+)?(?:'([^']*)')?(.+)/.exec(t);return{language:e[2].toLowerCase(),encoding:et.isCompatibleEncoding(e[1])?null:e[1].toLowerCase(),value:et.isCompatibleEncoding(e[1])?decodeURIComponent(e[3]):e[3]}};et.formatExtendedAttribute=function(t,e){var n=(e.encoding||"utf-8").toUpperCase(),r=e.language||"en",i="";return ji.Buffer.isBuffer(e.value)&&et.isCompatibleEncoding(n)?i=e.value.toString(n):ji.Buffer.isBuffer(e.value)?i=e.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):i=encodeURIComponent(e.value),t+"="+n+"'"+r+"'"+i};et.formatAttribute=function(t,e){return Array.isArray(e)?e.map(n=>et.formatAttribute(t,n)).join("; "):t[t.length-1]==="*"||typeof e!="string"?et.formatExtendedAttribute(t,e):(et.isTokenAttr(t)?e=yp(e)?'"'+et.escapeQuotes(e)+'"':et.escapeQuotes(e):yp(e)&&(e=encodeURIComponent(e),e=e.replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"),e='"'+e+'"'),t+"="+e)};var hb=et;class Sa{constructor(e){this.value=e||"b"+ ++Sa.nextId}equals(e){return!!e&&e.termType===this.termType&&e.value===this.value}}Sa.prototype.termType="BlankNode";Sa.nextId=0;var pb=Sa;class $f{equals(e){return!!e&&e.termType===this.termType}}$f.prototype.termType="DefaultGraph";$f.prototype.value="";var jg=$f;function mb(t){if(!t)return null;if(t.termType==="BlankNode")return this.blankNode(t.value);if(t.termType==="DefaultGraph")return this.defaultGraph();if(t.termType==="Literal")return this.literal(t.value,t.language||this.namedNode(t.datatype.value));if(t.termType==="NamedNode")return this.namedNode(t.value);if(t.termType==="Quad"){const e=this.fromTerm(t.subject),n=this.fromTerm(t.predicate),r=this.fromTerm(t.object),i=this.fromTerm(t.graph);return this.quad(e,n,r,i)}if(t.termType==="Variable")return this.variable(t.value);throw new Error(`unknown termType ${t.termType}`)}var gb=mb;class Mg{constructor(e){this.value=e}equals(e){return!!e&&e.termType===this.termType&&e.value===this.value}}Mg.prototype.termType="NamedNode";var Cg=Mg;const Lg=Cg;class gs{constructor(e,n,r){this.value=e,this.datatype=gs.stringDatatype,this.language="",n?(this.language=n,this.datatype=gs.langStringDatatype):r&&(this.datatype=r)}equals(e){return!!e&&e.termType===this.termType&&e.value===this.value&&e.language===this.language&&e.datatype.equals(this.datatype)}}gs.prototype.termType="Literal";gs.langStringDatatype=new Lg("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString");gs.stringDatatype=new Lg("http://www.w3.org/2001/XMLSchema#string");var _b=gs;const wb=jg;class jf{constructor(e,n,r,i){this.subject=e,this.predicate=n,this.object=r,i?this.graph=i:this.graph=new wb}equals(e){return!!e&&(e.termType==="Quad"||!e.termType)&&e.subject.equals(this.subject)&&e.predicate.equals(this.predicate)&&e.object.equals(this.object)&&e.graph.equals(this.graph)}}jf.prototype.termType="Quad";jf.prototype.value="";var yb=jf;class Pg{constructor(e){this.value=e}equals(e){return!!e&&e.termType===this.termType&&e.value===this.value}}Pg.prototype.termType="Variable";var bb=Pg;const vb=pb,Tb=jg,Ug=gb,_u=_b,Eb=Cg,xb=yb,Ib=bb;function Nb(t){return new Eb(t)}function Rb(t){return new vb(t)}function Db(t,e){return typeof e=="string"?e.indexOf(":")===-1?new _u(t,e):new _u(t,null,Ts.namedNode(e)):new _u(t,null,e)}function Ob(t){return new Ib(t)}function kb(){return Ts.defaultGraphInstance}function Sb(t,e,n){return Ts.quad(t,e,n)}function Ab(t,e,n,r){return new xb(t,e,n,r||Ts.defaultGraphInstance)}function $b(t){return Ug.call(Ts,t)}function jb(t){return Ug.call(Ts,t)}const Ts={namedNode:Nb,blankNode:Rb,literal:Db,variable:Ob,defaultGraph:kb,triple:Sb,quad:Ab,fromTerm:$b,fromQuad:jb,defaultGraphInstance:new Tb};var Mb=Ts;const Cb=Mb;var vl=Cb;function Vi(t){return typeof t=="string"||t instanceof String}const Lb="http://www.w3.org/2001/XMLSchema#string";function jt(t){if(typeof t=="string")return t;if(!t)return"";if(typeof t.id!="undefined"&&t.termType!=="Quad")return t.id;let e,n,r,i;switch(t.termType){case"NamedNode":return t.value;case"BlankNode":return`_:${t.value}`;case"Variable":return`?${t.value}`;case"DefaultGraph":return"";case"Literal":return t.language?`"${t.value}"@${t.language}`:`"${t.value}"${t.datatype&&t.datatype.value!==Lb?`^^${t.datatype.value}`:""}`;case"Quad":return e=wu(jt(t.subject)),n=wu(jt(t.predicate)),r=wu(jt(t.object)),i=t.graph.termType==="DefaultGraph"?"":` ${jt(t.graph)}`,`<<${e} ${n} ${r}${i}>>`;default:throw new Error(`Unexpected termType: ${t.termType}`)}}const Pb=/^"(.*".*)(?="[^"]*$)/;function wu(t){return t.replace(Pb,(e,n)=>`"${n.replace(/"/g,'""')}`)}class Ub{constructor(e){if(this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._quads=new Map,e)for(const n of e)this.add(n)}get size(){let e=this._size;if(e!==null)return e;e=0;const n=this._graphs;let r,i;for(const s in n)for(const o in r=n[s].subjects)for(const a in i=r[o])e+=Object.keys(i[a]).length;return this._size=e,this._size}add(e){let n=jt(e.subject),r=jt(e.predicate),i=jt(e.object);const s=jt(e.graph);let o=this._graphs[s];o||(o=this._graphs[s]={subjects:{},predicates:{},objects:{}},Object.freeze(o));const a=this._ids,c=this._entities;return n=a[n]||(a[c[++this._id]=n]=this._id),r=a[r]||(a[c[++this._id]=r]=this._id),i=a[i]||(a[c[++this._id]=i]=this._id),this._addToIndex(o.subjects,n,r,i),this._addToIndex(o.predicates,r,i,n),this._addToIndex(o.objects,i,n,r),this._setQuad(n,r,i,s,e),this._size=null,this}delete(e){let n=jt(e.subject),r=jt(e.predicate),i=jt(e.object);const s=jt(e.graph),o=this._ids,a=this._graphs;let c,l,u;if(!(n=o[n])||!(r=o[r])||!(i=o[i])||!(c=a[s])||!(l=c.subjects[n])||!(u=l[r])||!(i in u))return this;this._removeFromIndex(c.subjects,n,r,i),this._removeFromIndex(c.predicates,r,i,n),this._removeFromIndex(c.objects,i,n,r),this._size!==null&&this._size--,this._deleteQuad(n,r,i,s);for(n in c.subjects)return this;return delete a[s],this}has(e){const n=jt(e.subject),r=jt(e.predicate),i=jt(e.object),s=jt(e.graph),o=this._graphs[s];if(!o)return!1;const a=this._ids;let c,l,u;return Vi(n)&&!(c=a[n])||Vi(r)&&!(l=a[r])||Vi(i)&&!(u=a[i])?!1:this._countInIndex(o.objects,u,c,l)===1}match(e,n,r,i){return this._createDataset(this._match(e,n,r,i))}[Symbol.iterator](){return this._match()[Symbol.iterator]()}_addToIndex(e,n,r,i){const s=e[n]||(e[n]={}),o=s[r]||(s[r]={}),a=i in o;return a||(o[i]=null),!a}_removeFromIndex(e,n,r,i){const s=e[n],o=s[r];delete o[i];for(const a in o)return;delete s[r];for(const a in s)return;delete e[n]}_findInIndex(e,n,r,i,s,o,a,c,l,u){let d,p,h;n&&((d=e,e={})[n]=d[n]);for(const m in e)if(p=e[m],p){r&&((d=p,p={})[r]=d[r]);for(const _ in p)if(h=p[_],h){const b=i?i in h?[i]:[]:Object.keys(h);for(let v=0;v<b.length;v++){const T={[s]:m,[o]:_,[a]:b[v]},x=this._getQuad(T.subject,T.predicate,T.object,c);if(u)u.push(x);else if(l(x))return!0}}}return u}_countInIndex(e,n,r,i){let s=0,o,a,c;n&&((o=e,e={})[n]=o[n]);for(const l in e)if(a=e[l],a){r&&((o=a,a={})[r]=o[r]);for(const u in a)c=a[u],c&&(i?i in c&&s++:s+=Object.keys(c).length)}return s}_getGraphs(e){return Vi(e)?{[e]:this._graphs[e]}:this._graphs}_match(e,n,r,i){e=e&&jt(e),n=n&&jt(n),r=r&&jt(r),i=i&&jt(i);const s=[],o=this._getGraphs(i),a=this._ids;let c,l,u,d;if(Vi(e)&&!(l=a[e])||Vi(n)&&!(u=a[n])||Vi(r)&&!(d=a[r]))return s;for(const p in o)c=o[p],c&&(l?d?this._findInIndex(c.objects,d,l,u,"object","subject","predicate",p,null,s):this._findInIndex(c.subjects,l,u,null,"subject","predicate","object",p,null,s):u?this._findInIndex(c.predicates,u,d,null,"predicate","object","subject",p,null,s):d?this._findInIndex(c.objects,d,null,null,"object","subject","predicate",p,null,s):this._findInIndex(c.subjects,null,null,null,"subject","predicate","object",p,null,s));return s}_getQuad(e,n,r,i){return this._quads.get(this._toId(e,n,r,i))}_setQuad(e,n,r,i,s){this._quads.set(this._toId(e,n,r,i),s)}_deleteQuad(e,n,r,i){this._quads.delete(this._toId(e,n,r,i))}_createDataset(e){return new this.constructor(e)}_toId(e,n,r,i){return`${e}:${n}:${r}:${i}`}}var Fb=Ub;const Bb=vl,qb=Fb;function Yb(t){return new qb(t)}var Fg=Object.assign({dataset:Yb},Bb),Mf=class Bg{constructor(e,n=new Map,r=0){this.prefix=e,this._existing=n,this.counter=r}clone(){const{prefix:e,_existing:n,counter:r}=this;return new Bg(e,new Map(n),r)}getId(e){const n=e&&this._existing.get(e);if(n)return n;const r=this.prefix+this.counter;return this.counter++,e&&this._existing.set(e,r),r}hasId(e){return this._existing.has(e)}getOldIds(){return[...this._existing.keys()]}},qg={exports:{}},$t=qg.exports={},xr,Ir;function xd(){throw new Error("setTimeout has not been defined")}function Id(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?xr=setTimeout:xr=xd}catch{xr=xd}try{typeof clearTimeout=="function"?Ir=clearTimeout:Ir=Id}catch{Ir=Id}})();function Yg(t){if(xr===setTimeout)return setTimeout(t,0);if((xr===xd||!xr)&&setTimeout)return xr=setTimeout,setTimeout(t,0);try{return xr(t,0)}catch{try{return xr.call(null,t,0)}catch{return xr.call(this,t,0)}}}function zb(t){if(Ir===clearTimeout)return clearTimeout(t);if((Ir===Id||!Ir)&&clearTimeout)return Ir=clearTimeout,clearTimeout(t);try{return Ir(t)}catch{try{return Ir.call(null,t)}catch{return Ir.call(this,t)}}}var Kr=[],Hs=!1,ns,yc=-1;function Gb(){!Hs||!ns||(Hs=!1,ns.length?Kr=ns.concat(Kr):yc=-1,Kr.length&&zg())}function zg(){if(!Hs){var t=Yg(Gb);Hs=!0;for(var e=Kr.length;e;){for(ns=Kr,Kr=[];++yc<e;)ns&&ns[yc].run();yc=-1,e=Kr.length}ns=null,Hs=!1,zb(t)}}$t.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];Kr.push(new Gg(t,e)),Kr.length===1&&!Hs&&Yg(zg)};function Gg(t,e){this.fun=t,this.array=e}Gg.prototype.run=function(){this.fun.apply(null,this.array)};$t.title="browser";$t.browser=!0;$t.env={};$t.argv=[];$t.version="";$t.versions={};function ui(){}$t.on=ui;$t.addListener=ui;$t.once=ui;$t.off=ui;$t.removeListener=ui;$t.removeAllListeners=ui;$t.emit=ui;$t.prependListener=ui;$t.prependOnceListener=ui;$t.listeners=function(t){return[]};$t.binding=function(t){throw new Error("process.binding is not supported")};$t.cwd=function(){return"/"};$t.chdir=function(t){throw new Error("process.chdir is not supported")};$t.umask=function(){return 0};var Ue=qg.exports;(function(t,e){if(t.setImmediate)return;var n=1,r={},i=!1,s=t.document,o;function a(T){typeof T!="function"&&(T=new Function(""+T));for(var x=new Array(arguments.length-1),N=0;N<x.length;N++)x[N]=arguments[N+1];var D={callback:T,args:x};return r[n]=D,o(n),n++}function c(T){delete r[T]}function l(T){var x=T.callback,N=T.args;switch(N.length){case 0:x();break;case 1:x(N[0]);break;case 2:x(N[0],N[1]);break;case 3:x(N[0],N[1],N[2]);break;default:x.apply(e,N);break}}function u(T){if(i)setTimeout(u,0,T);else{var x=r[T];if(x){i=!0;try{l(x)}finally{c(T),i=!1}}}}function d(){o=function(T){Ue.nextTick(function(){u(T)})}}function p(){if(t.postMessage&&!t.importScripts){var T=!0,x=t.onmessage;return t.onmessage=function(){T=!1},t.postMessage("","*"),t.onmessage=x,T}}function h(){var T="setImmediate$"+Math.random()+"$",x=function(N){N.source===t&&typeof N.data=="string"&&N.data.indexOf(T)===0&&u(+N.data.slice(T.length))};t.addEventListener?t.addEventListener("message",x,!1):t.attachEvent("onmessage",x),o=function(N){t.postMessage(T+N,"*")}}function m(){var T=new MessageChannel;T.port1.onmessage=function(x){var N=x.data;u(N)},o=function(x){T.port2.postMessage(x)}}function _(){var T=s.documentElement;o=function(x){var N=s.createElement("script");N.onreadystatechange=function(){u(x),N.onreadystatechange=null,T.removeChild(N),N=null},T.appendChild(N)}}function b(){o=function(T){setTimeout(u,0,T)}}var v=Object.getPrototypeOf&&Object.getPrototypeOf(t);v=v&&v.setTimeout?v:t,{}.toString.call(t.process)==="[object process]"?d():p()?h():t.MessageChannel?m():s&&"onreadystatechange"in s.createElement("script")?_():b(),v.setImmediate=a,v.clearImmediate=c})(typeof self=="undefined"?typeof Ni=="undefined"?Ni:Ni:self);const yu=self.crypto||self.msCrypto;var Wg=class{constructor(e){if(!(yu&&yu.subtle))throw new Error("crypto.subtle not found.");if(e==="sha256")this.algorithm={name:"SHA-256"};else if(e==="sha1")this.algorithm={name:"SHA-1"};else throw new Error(`Unsupport algorithm "${e}".`);this._content=""}update(e){this._content+=e}async digest(){const e=new TextEncoder().encode(this._content),n=new Uint8Array(await yu.subtle.digest(this.algorithm,e));let r="";for(let i=0;i<n.length;++i)r+=n[i].toString(16).padStart(2,"0");return r}},Vg=class{constructor(e){this.current=e.sort(),this.done=!1,this.dir=new Map;for(let n=0;n<e.length;++n)this.dir.set(e[n],!0)}hasNext(){return!this.done}next(){const{current:e,dir:n}=this,r=e.slice();let i=null,s=0;const o=e.length;for(let a=0;a<o;++a){const c=e[a],l=n.get(c);(i===null||c>i)&&(l&&a>0&&c>e[a-1]||!l&&a<o-1&&c>e[a+1])&&(i=c,s=a)}if(i===null)this.done=!0;else{const a=n.get(i)?s-1:s+1;e[s]=e[a],e[a]=i;for(const c of e)c>i&&n.set(c,!n.get(c))}return r}};const Wb="http://www.w3.org/1999/02/22-rdf-syntax-ns#",bu=Wb+"langString",vu="http://www.w3.org/2001/XMLSchema#string",cr="NamedNode",Hi="BlankNode",bc="Literal",bp="DefaultGraph",Zs={};(()=>{const t="(?:<([^:]+:[^>]*)>)",n="A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD"+"_",r=n+"0-9-\xB7\u0300-\u036F\u203F-\u2040",s="(_:(?:["+n+"0-9])(?:(?:["+r+".])*(?:["+r+"]))?)",o='"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"',a="(?:\\^\\^"+t+")",c="(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*))",l="(?:"+o+"(?:"+a+"|"+c+")?)",u="[ \\t]+",d="[ \\t]*",p="(?:"+t+"|"+s+")"+u,h=t+u,m="(?:"+t+"|"+s+"|"+l+")"+d,_="(?:\\.|(?:(?:"+t+"|"+s+")"+d+"\\.))";Zs.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,Zs.empty=new RegExp("^"+d+"$"),Zs.quad=new RegExp("^"+d+p+h+m+_+d+"$")})();var Cf=class Nd{static parse(e){const n=[],r={},i=e.split(Zs.eoln);let s=0;for(const o of i){if(s++,Zs.empty.test(o))continue;const a=o.match(Zs.quad);if(a===null)throw new Error("N-Quads parse error on line "+s+".");const c={subject:null,predicate:null,object:null,graph:null};if(a[1]!==void 0?c.subject={termType:cr,value:a[1]}:c.subject={termType:Hi,value:a[2]},c.predicate={termType:cr,value:a[3]},a[4]!==void 0?c.object={termType:cr,value:a[4]}:a[5]!==void 0?c.object={termType:Hi,value:a[5]}:(c.object={termType:bc,value:void 0,datatype:{termType:cr}},a[7]!==void 0?c.object.datatype.value=a[7]:a[8]!==void 0?(c.object.datatype.value=bu,c.object.language=a[8]):c.object.datatype.value=vu,c.object.value=Xb(a[6])),a[9]!==void 0?c.graph={termType:cr,value:a[9]}:a[10]!==void 0?c.graph={termType:Hi,value:a[10]}:c.graph={termType:bp,value:""},!(c.graph.value in r))r[c.graph.value]=[c],n.push(c);else{let l=!0;const u=r[c.graph.value];for(const d of u)if(Vb(d,c)){l=!1;break}l&&(u.push(c),n.push(c))}}return n}static serialize(e){Array.isArray(e)||(e=Nd.legacyDatasetToQuads(e));const n=[];for(const r of e)n.push(Nd.serializeQuad(r));return n.sort().join("")}static serializeQuad(e){const n=e.subject,r=e.predicate,i=e.object,s=e.graph;let o="";return n.termType===cr?o+=`<${n.value}>`:o+=`${n.value}`,o+=` <${r.value}> `,i.termType===cr?o+=`<${i.value}>`:i.termType===Hi?o+=i.value:(o+=`"${Zb(i.value)}"`,i.datatype.value===bu?i.language&&(o+=`@${i.language}`):i.datatype.value!==vu&&(o+=`^^<${i.datatype.value}>`)),s.termType===cr?o+=` <${s.value}>`:s.termType===Hi&&(o+=` ${s.value}`),o+=` .
`,o}static legacyDatasetToQuads(e){const n=[],r={"blank node":Hi,IRI:cr,literal:bc};for(const i in e)e[i].forEach(o=>{const a={};for(const c in o){const l=o[c],u={termType:r[l.type],value:l.value};u.termType===bc&&(u.datatype={termType:cr},"datatype"in l&&(u.datatype.value=l.datatype),"language"in l?("datatype"in l||(u.datatype.value=bu),u.language=l.language):"datatype"in l||(u.datatype.value=vu)),a[c]=u}i==="@default"?a.graph={termType:bp,value:""}:a.graph={termType:i.startsWith("_:")?Hi:cr,value:i},n.push(a)});return n}};function Vb(t,e){return!(t.subject.termType===e.subject.termType&&t.object.termType===e.object.termType)||!(t.subject.value===e.subject.value&&t.predicate.value===e.predicate.value&&t.object.value===e.object.value)?!1:t.object.termType!==bc?!0:t.object.datatype.termType===e.object.datatype.termType&&t.object.language===e.object.language&&t.object.datatype.value===e.object.datatype.value}const Hb=/["\\\n\r]/g;function Zb(t){return t.replace(Hb,function(e){switch(e){case'"':return'\\"';case"\\":return"\\\\";case`
`:return"\\n";case"\r":return"\\r"}})}const Qb=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g;function Xb(t){return t.replace(Qb,function(e,n,r,i){if(n)switch(n){case"t":return"	";case"b":return"\b";case"n":return`
`;case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(r)return String.fromCharCode(parseInt(r,16));if(i)throw new Error("Unsupported U escape")})}const vp=Mf,Tu=Wg,Kb=Vg,Tp=Cf;var Hg=class{constructor(){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new vp("_:c14n"),this.hashAlgorithm="sha256",this.quads=null}async main(e){this.quads=e;for(const c of e)this._addBlankNodeQuadInfo({quad:c,component:c.subject}),this._addBlankNodeQuadInfo({quad:c,component:c.object}),this._addBlankNodeQuadInfo({quad:c,component:c.graph});const n=new Map,r=[...this.blankNodeInfo.keys()];let i=0;for(const c of r)++i%100===0&&await this._yield(),await this._hashAndTrackBlankNode({id:c,hashToBlankNodes:n});const s=[...n.keys()].sort(),o=[];for(const c of s){const l=n.get(c);if(l.length>1){o.push(l);continue}const u=l[0];this.canonicalIssuer.getId(u)}for(const c of o){const l=[];for(const u of c){if(this.canonicalIssuer.hasId(u))continue;const d=new vp("_:b");d.getId(u);const p=await this.hashNDegreeQuads(u,d);l.push(p)}l.sort(Jb);for(const u of l){const d=u.issuer.getOldIds();for(const p of d)this.canonicalIssuer.getId(p)}}const a=[];for(const c of this.quads){const l={...c};l.subject=this._useCanonicalId({component:l.subject}),l.object=this._useCanonicalId({component:l.object}),l.graph=this._useCanonicalId({component:l.graph}),a.push(Tp.serializeQuad(l))}return a.sort(),a.join("")}async hashFirstDegreeQuads(e){const n=[],r=this.blankNodeInfo.get(e),i=r.quads;for(const o of i){const a={subject:null,predicate:o.predicate,object:null,graph:null};a.subject=this.modifyFirstDegreeComponent(e,o.subject,"subject"),a.object=this.modifyFirstDegreeComponent(e,o.object,"object"),a.graph=this.modifyFirstDegreeComponent(e,o.graph,"graph"),n.push(Tp.serializeQuad(a))}n.sort();const s=new Tu(this.hashAlgorithm);for(const o of n)s.update(o);return r.hash=await s.digest(),r.hash}async hashRelatedBlankNode(e,n,r,i){let s;this.canonicalIssuer.hasId(e)?s=this.canonicalIssuer.getId(e):r.hasId(e)?s=r.getId(e):s=this.blankNodeInfo.get(e).hash;const o=new Tu(this.hashAlgorithm);return o.update(i),i!=="g"&&o.update(this.getRelatedPredicate(n)),o.update(s),o.digest()}async hashNDegreeQuads(e,n){const r=new Tu(this.hashAlgorithm),i=await this.createHashToRelated(e,n),s=[...i.keys()].sort();for(const o of s){r.update(o);let a="",c;const l=new Kb(i.get(o));let u=0;for(;l.hasNext();){const d=l.next();++u%3===0&&await this._yield();let p=n.clone(),h="";const m=[];let _=!1;for(const b of d)if(this.canonicalIssuer.hasId(b)?h+=this.canonicalIssuer.getId(b):(p.hasId(b)||m.push(b),h+=p.getId(b)),a.length!==0&&h>a){_=!0;break}if(!_){for(const b of m){const v=await this.hashNDegreeQuads(b,p);if(h+=p.getId(b),h+=`<${v.hash}>`,p=v.issuer,a.length!==0&&h>a){_=!0;break}}_||(a.length===0||h<a)&&(a=h,c=p)}}r.update(a),n=c}return{hash:await r.digest(),issuer:n}}modifyFirstDegreeComponent(e,n){return n.termType!=="BlankNode"?n:{termType:"BlankNode",value:n.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return`<${e.predicate.value}>`}async createHashToRelated(e,n){const r=new Map,i=this.blankNodeInfo.get(e).quads;let s=0;for(const o of i)++s%100===0&&await this._yield(),await Promise.all([this._addRelatedBlankNodeHash({quad:o,component:o.subject,position:"s",id:e,issuer:n,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:o,component:o.object,position:"o",id:e,issuer:n,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:o,component:o.graph,position:"g",id:e,issuer:n,hashToRelated:r})]);return r}async _hashAndTrackBlankNode({id:e,hashToBlankNodes:n}){const r=await this.hashFirstDegreeQuads(e),i=n.get(r);i?i.push(e):n.set(r,[e])}_addBlankNodeQuadInfo({quad:e,component:n}){if(n.termType!=="BlankNode")return;const r=n.value,i=this.blankNodeInfo.get(r);i?i.quads.add(e):this.blankNodeInfo.set(r,{quads:new Set([e]),hash:null})}async _addRelatedBlankNodeHash({quad:e,component:n,position:r,id:i,issuer:s,hashToRelated:o}){if(!(n.termType==="BlankNode"&&n.value!==i))return;const a=n.value,c=await this.hashRelatedBlankNode(a,e,s,r),l=o.get(c);l?l.push(a):o.set(c,[a])}_useCanonicalId({component:e}){return e.termType==="BlankNode"&&!e.value.startsWith(this.canonicalIssuer.prefix)?{termType:"BlankNode",value:this.canonicalIssuer.getId(e.value)}:e}async _yield(){return new Promise(e=>setImmediate(e))}};function Jb(t,e){return t.hash<e.hash?-1:t.hash>e.hash?1:0}const ev=Hg;var tv=class extends ev{constructor(){super(),this.name="URGNA2012",this.hashAlgorithm="sha1"}modifyFirstDegreeComponent(e,n,r){return n.termType!=="BlankNode"?n:r==="graph"?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:n.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return e.predicate.value}async createHashToRelated(e,n){const r=new Map,i=this.blankNodeInfo.get(e).quads;let s=0;for(const o of i){let a,c;if(o.subject.termType==="BlankNode"&&o.subject.value!==e)c=o.subject.value,a="p";else if(o.object.termType==="BlankNode"&&o.object.value!==e)c=o.object.value,a="r";else continue;++s%100===0&&await this._yield();const l=await this.hashRelatedBlankNode(c,o,n,a),u=r.get(l);u?u.push(c):r.set(l,[c])}return r}};const Ep=Mf,Eu=Wg,nv=Vg,xp=Cf;var Zg=class{constructor(){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new Ep("_:c14n"),this.hashAlgorithm="sha256",this.quads=null}main(e){this.quads=e;for(const a of e)this._addBlankNodeQuadInfo({quad:a,component:a.subject}),this._addBlankNodeQuadInfo({quad:a,component:a.object}),this._addBlankNodeQuadInfo({quad:a,component:a.graph});const n=new Map,r=[...this.blankNodeInfo.keys()];for(const a of r)this._hashAndTrackBlankNode({id:a,hashToBlankNodes:n});const i=[...n.keys()].sort(),s=[];for(const a of i){const c=n.get(a);if(c.length>1){s.push(c);continue}const l=c[0];this.canonicalIssuer.getId(l)}for(const a of s){const c=[];for(const l of a){if(this.canonicalIssuer.hasId(l))continue;const u=new Ep("_:b");u.getId(l);const d=this.hashNDegreeQuads(l,u);c.push(d)}c.sort(rv);for(const l of c){const u=l.issuer.getOldIds();for(const d of u)this.canonicalIssuer.getId(d)}}const o=[];for(const a of this.quads){const c={...a};c.subject=this._useCanonicalId({component:c.subject}),c.object=this._useCanonicalId({component:c.object}),c.graph=this._useCanonicalId({component:c.graph}),o.push(xp.serializeQuad(c))}return o.sort(),o.join("")}hashFirstDegreeQuads(e){const n=[],r=this.blankNodeInfo.get(e),i=r.quads;for(const o of i){const a={subject:null,predicate:o.predicate,object:null,graph:null};a.subject=this.modifyFirstDegreeComponent(e,o.subject,"subject"),a.object=this.modifyFirstDegreeComponent(e,o.object,"object"),a.graph=this.modifyFirstDegreeComponent(e,o.graph,"graph"),n.push(xp.serializeQuad(a))}n.sort();const s=new Eu(this.hashAlgorithm);for(const o of n)s.update(o);return r.hash=s.digest(),r.hash}hashRelatedBlankNode(e,n,r,i){let s;this.canonicalIssuer.hasId(e)?s=this.canonicalIssuer.getId(e):r.hasId(e)?s=r.getId(e):s=this.blankNodeInfo.get(e).hash;const o=new Eu(this.hashAlgorithm);return o.update(i),i!=="g"&&o.update(this.getRelatedPredicate(n)),o.update(s),o.digest()}hashNDegreeQuads(e,n){const r=new Eu(this.hashAlgorithm),i=this.createHashToRelated(e,n),s=[...i.keys()].sort();for(const o of s){r.update(o);let a="",c;const l=new nv(i.get(o));for(;l.hasNext();){const u=l.next();let d=n.clone(),p="";const h=[];let m=!1;for(const _ of u)if(this.canonicalIssuer.hasId(_)?p+=this.canonicalIssuer.getId(_):(d.hasId(_)||h.push(_),p+=d.getId(_)),a.length!==0&&p>a){m=!0;break}if(!m){for(const _ of h){const b=this.hashNDegreeQuads(_,d);if(p+=d.getId(_),p+=`<${b.hash}>`,d=b.issuer,a.length!==0&&p>a){m=!0;break}}m||(a.length===0||p<a)&&(a=p,c=d)}}r.update(a),n=c}return{hash:r.digest(),issuer:n}}modifyFirstDegreeComponent(e,n){return n.termType!=="BlankNode"?n:{termType:"BlankNode",value:n.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return`<${e.predicate.value}>`}createHashToRelated(e,n){const r=new Map,i=this.blankNodeInfo.get(e).quads;for(const s of i)this._addRelatedBlankNodeHash({quad:s,component:s.subject,position:"s",id:e,issuer:n,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:s,component:s.object,position:"o",id:e,issuer:n,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:s,component:s.graph,position:"g",id:e,issuer:n,hashToRelated:r});return r}_hashAndTrackBlankNode({id:e,hashToBlankNodes:n}){const r=this.hashFirstDegreeQuads(e),i=n.get(r);i?i.push(e):n.set(r,[e])}_addBlankNodeQuadInfo({quad:e,component:n}){if(n.termType!=="BlankNode")return;const r=n.value,i=this.blankNodeInfo.get(r);i?i.quads.add(e):this.blankNodeInfo.set(r,{quads:new Set([e]),hash:null})}_addRelatedBlankNodeHash({quad:e,component:n,position:r,id:i,issuer:s,hashToRelated:o}){if(!(n.termType==="BlankNode"&&n.value!==i))return;const a=n.value,c=this.hashRelatedBlankNode(a,e,s,r),l=o.get(c);l?l.push(a):o.set(c,[a])}_useCanonicalId({component:e}){return e.termType==="BlankNode"&&!e.value.startsWith(this.canonicalIssuer.prefix)?{termType:"BlankNode",value:this.canonicalIssuer.getId(e.value)}:e}};function rv(t,e){return t.hash<e.hash?-1:t.hash>e.hash?1:0}const iv=Zg;var sv=class extends iv{constructor(){super(),this.name="URGNA2012",this.hashAlgorithm="sha1"}modifyFirstDegreeComponent(e,n,r){return n.termType!=="BlankNode"?n:r==="graph"?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:n.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return e.predicate.value}createHashToRelated(e,n){const r=new Map,i=this.blankNodeInfo.get(e).quads;for(const s of i){let o,a;if(s.subject.termType==="BlankNode"&&s.subject.value!==e)a=s.subject.value,o="p";else if(s.object.termType==="BlankNode"&&s.object.value!==e)a=s.object.value,o="r";else continue;const c=this.hashRelatedBlankNode(a,s,n,o),l=r.get(c);l?l.push(a):r.set(c,[a])}return r}};const ov=Hg,av=tv,cv=Zg,lv=sv;let _s;try{_s=require("rdf-canonize-native")}catch{}const Mi={};var uv=Mi;Mi.NQuads=Cf;Mi.IdentifierIssuer=Mf;Mi._rdfCanonizeNative=function(t){return t&&(_s=t),_s};Mi.canonize=async function(t,e){if(Array.isArray(t)||(t=Mi.NQuads.legacyDatasetToQuads(t)),e.useNative){if(!_s)throw new Error("rdf-canonize-native not available");return new Promise((n,r)=>_s.canonize(t,e,(i,s)=>i?r(i):n(s)))}if(e.algorithm==="URDNA2015")return new ov(e).main(t);if(e.algorithm==="URGNA2012")return new av(e).main(t);throw"algorithm"in e?new Error("Invalid RDF Dataset Canonicalization algorithm: "+e.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")};Mi._canonizeSync=function(t,e){if(Array.isArray(t)||(t=Mi.NQuads.legacyDatasetToQuads(t)),e.useNative){if(_s)return _s.canonizeSync(t,e);throw new Error("rdf-canonize-native not available")}if(e.algorithm==="URDNA2015")return new cv(e).main(t);if(e.algorithm==="URGNA2012")return new lv(e).main(t);throw"algorithm"in e?new Error("Invalid RDF Dataset Canonicalization algorithm: "+e.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")};var Lf=uv;const rr={};var sr=rr;rr.isArray=Array.isArray;rr.isBoolean=t=>typeof t=="boolean"||Object.prototype.toString.call(t)==="[object Boolean]";rr.isDouble=t=>rr.isNumber(t)&&(String(t).indexOf(".")!==-1||Math.abs(t)>=1e21);rr.isEmptyObject=t=>rr.isObject(t)&&Object.keys(t).length===0;rr.isNumber=t=>typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]";rr.isNumeric=t=>!isNaN(parseFloat(t))&&isFinite(t);rr.isObject=t=>Object.prototype.toString.call(t)==="[object Object]";rr.isString=t=>typeof t=="string"||Object.prototype.toString.call(t)==="[object String]";rr.isUndefined=t=>typeof t=="undefined";const wo=sr,ii={};var di=ii;ii.isSubject=t=>wo.isObject(t)&&!("@value"in t||"@set"in t||"@list"in t)?Object.keys(t).length>1||!("@id"in t):!1;ii.isSubjectReference=t=>wo.isObject(t)&&Object.keys(t).length===1&&"@id"in t;ii.isValue=t=>wo.isObject(t)&&"@value"in t;ii.isList=t=>wo.isObject(t)&&"@list"in t;ii.isGraph=t=>wo.isObject(t)&&"@graph"in t&&Object.keys(t).filter(e=>e!=="@id"&&e!=="@index").length===1;ii.isSimpleGraph=t=>ii.isGraph(t)&&!("@id"in t);ii.isBlankNode=t=>wo.isObject(t)?"@id"in t?t["@id"].indexOf("_:")===0:Object.keys(t).length===0||!("@value"in t||"@set"in t||"@list"in t):!1;var Ur=class extends Error{constructor(e="An unspecified JSON-LD error occurred.",n="jsonld.Error",r={}){super(e),this.name=n,this.message=e,this.details=r}};const ha=di,wn=sr,Qg=Lf.IdentifierIssuer,dv=Ur,fv=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,hv=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,pv=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,Ip={headers:{accept:"application/ld+json, application/json"}},Le={};var wr=Le;Le.IdentifierIssuer=Qg;Le.clone=function(t){if(t&&typeof t=="object"){let e;if(wn.isArray(t)){e=[];for(let n=0;n<t.length;++n)e[n]=Le.clone(t[n])}else if(t instanceof Map){e=new Map;for(const[n,r]of t)e.set(n,Le.clone(r))}else if(t instanceof Set){e=new Set;for(const n of t)e.add(Le.clone(n))}else if(wn.isObject(t)){e={};for(const n in t)e[n]=Le.clone(t[n])}else e=t.toString();return e}return t};Le.asArray=function(t){return Array.isArray(t)?t:[t]};Le.buildHeaders=(t={})=>{if(Object.keys(t).some(n=>n.toLowerCase()==="accept"))throw new RangeError('Accept header may not be specified; only "'+Ip.headers.accept+'" is supported.');return Object.assign({Accept:Ip.headers.accept},t)};Le.parseLinkHeader=t=>{const e={},n=t.match(fv);for(let r=0;r<n.length;++r){let i=n[r].match(hv);if(!i)continue;const s={target:i[1]},o=i[2];for(;i=pv.exec(o);)s[i[1]]=i[2]===void 0?i[3]:i[2];const a=s.rel||"";Array.isArray(e[a])?e[a].push(s):e.hasOwnProperty(a)?e[a]=[e[a],s]:e[a]=s}return e};Le.validateTypeValue=(t,e)=>{if(!wn.isString(t)&&!(wn.isArray(t)&&t.every(n=>wn.isString(n)))){if(e&&wn.isObject(t))switch(Object.keys(t).length){case 0:return;case 1:if("@default"in t&&Le.asArray(t["@default"]).every(n=>wn.isString(n)))return}throw new dv('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:t})}};Le.hasProperty=(t,e)=>{if(t.hasOwnProperty(e)){const n=t[e];return!wn.isArray(n)||n.length>0}return!1};Le.hasValue=(t,e,n)=>{if(Le.hasProperty(t,e)){let r=t[e];const i=ha.isList(r);if(wn.isArray(r)||i){i&&(r=r["@list"]);for(let s=0;s<r.length;++s)if(Le.compareValues(n,r[s]))return!0}else if(!wn.isArray(n))return Le.compareValues(n,r)}return!1};Le.addValue=(t,e,n,r)=>{if(r=r||{},"propertyIsArray"in r||(r.propertyIsArray=!1),"valueIsArray"in r||(r.valueIsArray=!1),"allowDuplicate"in r||(r.allowDuplicate=!0),"prependValue"in r||(r.prependValue=!1),r.valueIsArray)t[e]=n;else if(wn.isArray(n)){n.length===0&&r.propertyIsArray&&!t.hasOwnProperty(e)&&(t[e]=[]),r.prependValue&&(n=n.concat(t[e]),t[e]=[]);for(let i=0;i<n.length;++i)Le.addValue(t,e,n[i],r)}else if(t.hasOwnProperty(e)){const i=!r.allowDuplicate&&Le.hasValue(t,e,n);!wn.isArray(t[e])&&(!i||r.propertyIsArray)&&(t[e]=[t[e]]),i||(r.prependValue?t[e].unshift(n):t[e].push(n))}else t[e]=r.propertyIsArray?[n]:n};Le.getValues=(t,e)=>[].concat(t[e]||[]);Le.removeProperty=(t,e)=>{delete t[e]};Le.removeValue=(t,e,n,r)=>{r=r||{},"propertyIsArray"in r||(r.propertyIsArray=!1);const i=Le.getValues(t,e).filter(s=>!Le.compareValues(s,n));i.length===0?Le.removeProperty(t,e):i.length===1&&!r.propertyIsArray?t[e]=i[0]:t[e]=i};Le.relabelBlankNodes=(t,e)=>{e=e||{};const n=e.issuer||new Qg("_:b");return vc(n,t)};Le.compareValues=(t,e)=>t===e||ha.isValue(t)&&ha.isValue(e)&&t["@value"]===e["@value"]&&t["@type"]===e["@type"]&&t["@language"]===e["@language"]&&t["@index"]===e["@index"]?!0:wn.isObject(t)&&"@id"in t&&wn.isObject(e)&&"@id"in e?t["@id"]===e["@id"]:!1;Le.compareShortestLeast=(t,e)=>t.length<e.length?-1:e.length<t.length?1:t===e?0:t<e?-1:1;function vc(t,e){if(wn.isArray(e))for(let n=0;n<e.length;++n)e[n]=vc(t,e[n]);else if(ha.isList(e))e["@list"]=vc(t,e["@list"]);else if(wn.isObject(e)){ha.isBlankNode(e)&&(e["@id"]=t.getId(e["@id"]));const n=Object.keys(e).sort();for(let r=0;r<n.length;++r){const i=n[r];i!=="@id"&&(e[i]=vc(t,e[i]))}}return e}const lr="http://www.w3.org/1999/02/22-rdf-syntax-ns#",jo="http://www.w3.org/2001/XMLSchema#";var Pf={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF:lr,RDF_LIST:lr+"List",RDF_FIRST:lr+"first",RDF_REST:lr+"rest",RDF_NIL:lr+"nil",RDF_TYPE:lr+"type",RDF_PLAIN_LITERAL:lr+"PlainLiteral",RDF_XML_LITERAL:lr+"XMLLiteral",RDF_JSON_LITERAL:lr+"JSON",RDF_OBJECT:lr+"object",RDF_LANGSTRING:lr+"langString",XSD:jo,XSD_BOOLEAN:jo+"boolean",XSD_DOUBLE:jo+"double",XSD_INTEGER:jo+"integer",XSD_STRING:jo+"string"},Xg=class{constructor(){this._requests={}}wrapLoader(e){const n=this;return n._loader=e,function(){return n.add.apply(n,arguments)}}async add(e){let n=this._requests[e];if(n)return Promise.resolve(n);n=this._requests[e]=this._loader(e);try{return await n}finally{delete this._requests[e]}}};const Tl=sr,yn={};var Ui=yn;yn.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}};yn.parse=(t,e)=>{const n={},r=yn.parsers[e||"full"],i=r.regex.exec(t);let s=r.keys.length;for(;s--;)n[r.keys[s]]=i[s]===void 0?null:i[s];return(n.scheme==="https"&&n.port==="443"||n.scheme==="http"&&n.port==="80")&&(n.href=n.href.replace(":"+n.port,""),n.authority=n.authority.replace(":"+n.port,""),n.port=null),n.normalizedPath=yn.removeDotSegments(n.path),n};yn.prependBase=(t,e)=>{if(t===null||yn.isAbsolute(e))return e;(!t||Tl.isString(t))&&(t=yn.parse(t||""));const n=yn.parse(e),r={protocol:t.protocol||""};if(n.authority!==null)r.authority=n.authority,r.path=n.path,r.query=n.query;else if(r.authority=t.authority,n.path==="")r.path=t.path,n.query!==null?r.query=n.query:r.query=t.query;else{if(n.path.indexOf("/")===0)r.path=n.path;else{let s=t.path;s=s.substr(0,s.lastIndexOf("/")+1),(s.length>0||t.authority)&&s.substr(-1)!=="/"&&(s+="/"),s+=n.path,r.path=s}r.query=n.query}n.path!==""&&(r.path=yn.removeDotSegments(r.path));let i=r.protocol;return r.authority!==null&&(i+="//"+r.authority),i+=r.path,r.query!==null&&(i+="?"+r.query),n.fragment!==null&&(i+="#"+n.fragment),i===""&&(i="./"),i};yn.removeBase=(t,e)=>{if(t===null)return e;(!t||Tl.isString(t))&&(t=yn.parse(t||""));let n="";if(t.href!==""?n+=(t.protocol||"")+"//"+(t.authority||""):e.indexOf("//")&&(n+="//"),e.indexOf(n)!==0)return e;const r=yn.parse(e.substr(n.length)),i=t.normalizedPath.split("/"),s=r.normalizedPath.split("/"),o=r.fragment||r.query?0:1;for(;i.length>0&&s.length>o&&i[0]===s[0];)i.shift(),s.shift();let a="";if(i.length>0){i.pop();for(let c=0;c<i.length;++c)a+="../"}return a+=s.join("/"),r.query!==null&&(a+="?"+r.query),r.fragment!==null&&(a+="#"+r.fragment),a===""&&(a="./"),a};yn.removeDotSegments=t=>{if(t.length===0)return"";const e=t.split("/"),n=[];for(;e.length>0;){const r=e.shift(),i=e.length===0;if(r==="."){i&&n.push("");continue}if(r===".."){n.pop(),i&&n.push("");continue}n.push(r)}return t[0]==="/"&&n.length>0&&n[0]!==""&&n.unshift(""),n.length===1&&n[0]===""?"/":n.join("/")};const mv=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;yn.isAbsolute=t=>Tl.isString(t)&&mv.test(t);yn.isRelative=t=>Tl.isString(t);const{parseLinkHeader:gv,buildHeaders:_v}=wr,{LINK_HEADER_CONTEXT:wv}=Pf,Mo=Ur,yv=Xg,{prependBase:bv}=Ui,vv=/(^|(\r\n))link:/i;var Tv=({secure:t,headers:e={},xhr:n}={headers:{}})=>{return e=_v(e),new yv().wrapLoader(i);async function i(s){if(s.indexOf("http:")!==0&&s.indexOf("https:")!==0)throw new Mo('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:s});if(t&&s.indexOf("https")!==0)throw new Mo(`URL could not be dereferenced; secure mode is enabled and the URL's scheme is not "https".`,"jsonld.InvalidUrl",{code:"loading document failed",url:s});let o;try{o=await Ev(n,s,e)}catch(d){throw new Mo("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:s,cause:d})}if(o.status>=400)throw new Mo("URL could not be dereferenced: "+o.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:s,httpStatusCode:o.status});let a={contextUrl:null,documentUrl:s,document:o.response},c=null;const l=o.getResponseHeader("Content-Type");let u;if(vv.test(o.getAllResponseHeaders())&&(u=o.getResponseHeader("Link")),u&&l!=="application/ld+json"){const d=gv(u),p=d[wv];if(Array.isArray(p))throw new Mo("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:s});p&&(a.contextUrl=p.target),c=d.alternate,c&&c.type=="application/ld+json"&&!(l||"").match(/^application\/(\w*\+)?json$/)&&(a=await i(bv(s,c.target)))}return a}};function Ev(t,e,n){t=t||XMLHttpRequest;const r=new t;return new Promise((i,s)=>{r.onload=()=>i(r),r.onerror=o=>s(o),r.open("GET",e,!0);for(const o in n)r.setRequestHeader(o,n[o]);r.send()})}const xv=Tv,Uf={};var Iv=Uf;Uf.setupDocumentLoaders=function(t){typeof XMLHttpRequest!="undefined"&&(t.documentLoaders.xhr=xv,t.useDocumentLoader("xhr"))};Uf.setupGlobals=function(t){typeof globalThis.JsonLdProcessor=="undefined"&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:t.JsonLdProcessor})};var Nv=Ae;Ae.Node=ws;Ae.create=Ae;function Ae(t){var e=this;if(e instanceof Ae||(e=new Ae),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)e.push(arguments[n]);return e}Ae.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,n=t.prev;return e&&(e.prev=n),n&&(n.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=n),t.list.length--,t.next=null,t.prev=null,t.list=null,e};Ae.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};Ae.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};Ae.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)Dv(this,arguments[t]);return this.length};Ae.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)Ov(this,arguments[t]);return this.length};Ae.prototype.pop=function(){if(!!this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};Ae.prototype.shift=function(){if(!!this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};Ae.prototype.forEach=function(t,e){e=e||this;for(var n=this.head,r=0;n!==null;r++)t.call(e,n.value,r,this),n=n.next};Ae.prototype.forEachReverse=function(t,e){e=e||this;for(var n=this.tail,r=this.length-1;n!==null;r--)t.call(e,n.value,r,this),n=n.prev};Ae.prototype.get=function(t){for(var e=0,n=this.head;n!==null&&e<t;e++)n=n.next;if(e===t&&n!==null)return n.value};Ae.prototype.getReverse=function(t){for(var e=0,n=this.tail;n!==null&&e<t;e++)n=n.prev;if(e===t&&n!==null)return n.value};Ae.prototype.map=function(t,e){e=e||this;for(var n=new Ae,r=this.head;r!==null;)n.push(t.call(e,r.value,this)),r=r.next;return n};Ae.prototype.mapReverse=function(t,e){e=e||this;for(var n=new Ae,r=this.tail;r!==null;)n.push(t.call(e,r.value,this)),r=r.prev;return n};Ae.prototype.reduce=function(t,e){var n,r=this.head;if(arguments.length>1)n=e;else if(this.head)r=this.head.next,n=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;r!==null;i++)n=t(n,r.value,i),r=r.next;return n};Ae.prototype.reduceReverse=function(t,e){var n,r=this.tail;if(arguments.length>1)n=e;else if(this.tail)r=this.tail.prev,n=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;r!==null;i--)n=t(n,r.value,i),r=r.prev;return n};Ae.prototype.toArray=function(){for(var t=new Array(this.length),e=0,n=this.head;n!==null;e++)t[e]=n.value,n=n.next;return t};Ae.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,n=this.tail;n!==null;e++)t[e]=n.value,n=n.prev;return t};Ae.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var n=new Ae;if(e<t||e<0)return n;t<0&&(t=0),e>this.length&&(e=this.length);for(var r=0,i=this.head;i!==null&&r<t;r++)i=i.next;for(;i!==null&&r<e;r++,i=i.next)n.push(i.value);return n};Ae.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var n=new Ae;if(e<t||e<0)return n;t<0&&(t=0),e>this.length&&(e=this.length);for(var r=this.length,i=this.tail;i!==null&&r>e;r--)i=i.prev;for(;i!==null&&r>t;r--,i=i.prev)n.push(i.value);return n};Ae.prototype.splice=function(t,e,...n){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var r=0,i=this.head;i!==null&&r<t;r++)i=i.next;for(var s=[],r=0;i&&r<e;r++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var r=0;r<n.length;r++)i=Rv(this,i,n[r]);return s};Ae.prototype.reverse=function(){for(var t=this.head,e=this.tail,n=t;n!==null;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=e,this.tail=t,this};function Rv(t,e,n){var r=e===t.head?new ws(n,null,e,t):new ws(n,e,e.next,t);return r.next===null&&(t.tail=r),r.prev===null&&(t.head=r),t.length++,r}function Dv(t,e){t.tail=new ws(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function Ov(t,e){t.head=new ws(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function ws(t,e,n,r){if(!(this instanceof ws))return new ws(t,e,n,r);this.list=r,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}try{require("./iterator.js")(Ae)}catch{}const kv=Nv,Ji=Symbol("max"),Vr=Symbol("length"),Us=Symbol("lengthCalculator"),Zo=Symbol("allowStale"),rs=Symbol("maxAge"),Gr=Symbol("dispose"),Np=Symbol("noDisposeOnSet"),Zt=Symbol("lruList"),dr=Symbol("cache"),Kg=Symbol("updateAgeOnGet"),xu=()=>1;class Sv{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");this[Ji]=e.max||1/0;const n=e.length||xu;if(this[Us]=typeof n!="function"?xu:n,this[Zo]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[rs]=e.maxAge||0,this[Gr]=e.dispose,this[Np]=e.noDisposeOnSet||!1,this[Kg]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[Ji]=e||1/0,Co(this)}get max(){return this[Ji]}set allowStale(e){this[Zo]=!!e}get allowStale(){return this[Zo]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[rs]=e,Co(this)}get maxAge(){return this[rs]}set lengthCalculator(e){typeof e!="function"&&(e=xu),e!==this[Us]&&(this[Us]=e,this[Vr]=0,this[Zt].forEach(n=>{n.length=this[Us](n.value,n.key),this[Vr]+=n.length})),Co(this)}get lengthCalculator(){return this[Us]}get length(){return this[Vr]}get itemCount(){return this[Zt].length}rforEach(e,n){n=n||this;for(let r=this[Zt].tail;r!==null;){const i=r.prev;Rp(this,e,r,n),r=i}}forEach(e,n){n=n||this;for(let r=this[Zt].head;r!==null;){const i=r.next;Rp(this,e,r,n),r=i}}keys(){return this[Zt].toArray().map(e=>e.key)}values(){return this[Zt].toArray().map(e=>e.value)}reset(){this[Gr]&&this[Zt]&&this[Zt].length&&this[Zt].forEach(e=>this[Gr](e.key,e.value)),this[dr]=new Map,this[Zt]=new kv,this[Vr]=0}dump(){return this[Zt].map(e=>Wc(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[Zt]}set(e,n,r){if(r=r||this[rs],r&&typeof r!="number")throw new TypeError("maxAge must be a number");const i=r?Date.now():0,s=this[Us](n,e);if(this[dr].has(e)){if(s>this[Ji])return Qs(this,this[dr].get(e)),!1;const c=this[dr].get(e).value;return this[Gr]&&(this[Np]||this[Gr](e,c.value)),c.now=i,c.maxAge=r,c.value=n,this[Vr]+=s-c.length,c.length=s,this.get(e),Co(this),!0}const o=new Av(e,n,s,i,r);return o.length>this[Ji]?(this[Gr]&&this[Gr](e,n),!1):(this[Vr]+=o.length,this[Zt].unshift(o),this[dr].set(e,this[Zt].head),Co(this),!0)}has(e){if(!this[dr].has(e))return!1;const n=this[dr].get(e).value;return!Wc(this,n)}get(e){return Iu(this,e,!0)}peek(e){return Iu(this,e,!1)}pop(){const e=this[Zt].tail;return e?(Qs(this,e),e.value):null}del(e){Qs(this,this[dr].get(e))}load(e){this.reset();const n=Date.now();for(let r=e.length-1;r>=0;r--){const i=e[r],s=i.e||0;if(s===0)this.set(i.k,i.v);else{const o=s-n;o>0&&this.set(i.k,i.v,o)}}}prune(){this[dr].forEach((e,n)=>Iu(this,n,!1))}}const Iu=(t,e,n)=>{const r=t[dr].get(e);if(r){const i=r.value;if(Wc(t,i)){if(Qs(t,r),!t[Zo])return}else n&&(t[Kg]&&(r.value.now=Date.now()),t[Zt].unshiftNode(r));return i.value}},Wc=(t,e)=>{if(!e||!e.maxAge&&!t[rs])return!1;const n=Date.now()-e.now;return e.maxAge?n>e.maxAge:t[rs]&&n>t[rs]},Co=t=>{if(t[Vr]>t[Ji])for(let e=t[Zt].tail;t[Vr]>t[Ji]&&e!==null;){const n=e.prev;Qs(t,e),e=n}},Qs=(t,e)=>{if(e){const n=e.value;t[Gr]&&t[Gr](n.key,n.value),t[Vr]-=n.length,t[dr].delete(n.key),t[Zt].removeNode(e)}};class Av{constructor(e,n,r,i,s){this.key=e,this.value=n,this.length=r,this.now=i,this.maxAge=s||0}}const Rp=(t,e,n,r)=>{let i=n.value;Wc(t,i)&&(Qs(t,n),t[Zo]||(i=void 0)),i&&e.call(r,i.value,i.key,t)};var Jg=Sv;const $v=Jg,jv=10;var Mv=class{constructor({document:e}){this.document=e,this.cache=new $v({max:jv})}getProcessed(e){return this.cache.get(e)}setProcessed(e,n){this.cache.set(e,n)}};const{isArray:Rd,isObject:Qo,isString:Vc}=sr,{asArray:Cv}=wr,{prependBase:Dd}=Ui,qo=Ur,Dp=Mv,Op=10;var Lv=class{constructor({sharedCache:e}){this.perOpCache=new Map,this.sharedCache=e}async resolve({activeCtx:e,context:n,documentLoader:r,base:i,cycles:s=new Set}){n&&Qo(n)&&n["@context"]&&(n=n["@context"]),n=Cv(n);const o=[];for(const a of n){if(Vc(a)){let u=this._get(a);u||(u=await this._resolveRemoteContext({activeCtx:e,url:a,documentLoader:r,base:i,cycles:s})),Rd(u)?o.push(...u):o.push(u);continue}if(a===null){o.push(new Dp({document:null}));continue}Qo(a)||Pv(n);const c=JSON.stringify(a);let l=this._get(c);l||(l=new Dp({document:a}),this._cacheResolvedContext({key:c,resolved:l,tag:"static"})),o.push(l)}return o}_get(e){let n=this.perOpCache.get(e);if(!n){const r=this.sharedCache.get(e);r&&(n=r.get("static"),n&&this.perOpCache.set(e,n))}return n}_cacheResolvedContext({key:e,resolved:n,tag:r}){if(this.perOpCache.set(e,n),r!==void 0){let i=this.sharedCache.get(e);i||(i=new Map,this.sharedCache.set(e,i)),i.set(r,n)}return n}async _resolveRemoteContext({activeCtx:e,url:n,documentLoader:r,base:i,cycles:s}){n=Dd(i,n);const{context:o,remoteDoc:a}=await this._fetchContext({activeCtx:e,url:n,documentLoader:r,cycles:s});i=a.documentUrl||n,Od({context:o,base:i});const c=await this.resolve({activeCtx:e,context:o,documentLoader:r,base:i,cycles:s});return this._cacheResolvedContext({key:n,resolved:c,tag:a.tag}),c}async _fetchContext({activeCtx:e,url:n,documentLoader:r,cycles:i}){if(i.size>Op)throw new qo("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:e.processingMode==="json-ld-1.0"?"loading remote context failed":"context overflow",max:Op});if(i.has(n))throw new qo("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:e.processingMode==="json-ld-1.0"?"recursive context inclusion":"context overflow",url:n});i.add(n);let s,o;try{o=await r(n),s=o.document||null,Vc(s)&&(s=JSON.parse(s))}catch(a){throw new qo("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:n,cause:a})}if(!Qo(s))throw new qo("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:n});return"@context"in s?s={"@context":s["@context"]}:s={"@context":{}},o.contextUrl&&(Rd(s["@context"])||(s["@context"]=[s["@context"]]),s["@context"].push(o.contextUrl)),{context:s,remoteDoc:o}}};function Pv(t){throw new qo("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:t})}function Od({context:t,base:e}){if(!t)return;const n=t["@context"];if(Vc(n)){t["@context"]=Dd(e,n);return}if(Rd(n)){for(let r=0;r<n.length;++r){const i=n[r];if(Vc(i)){n[r]=Dd(e,i);continue}Qo(i)&&Od({context:{"@context":i},base:e})}return}if(!!Qo(n))for(const r in n)Od({context:n[r],base:e})}var Uv=Lf.NQuads;const Hc=wr,re=Ur,{isArray:e_,isObject:Ti,isString:Sn,isUndefined:Fv}=sr,{isAbsolute:Xs,isRelative:Bv,prependBase:Xo}=Ui,{asArray:t_,compareShortestLeast:qv}=wr,sc=new Map,Yv=1e4,Tc=/^@[a-zA-Z]+$/,We={};var Es=We;We.process=async({activeCtx:t,localCtx:e,options:n,propagate:r=!0,overrideProtected:i=!1,cycles:s=new Set})=>{if(Ti(e)&&"@context"in e&&e_(e["@context"])&&(e=e["@context"]),t_(e).length===0)return t;const a=await n.contextResolver.resolve({activeCtx:t,context:e,documentLoader:n.documentLoader,base:n.base});Ti(a[0].document)&&typeof a[0].document["@propagate"]=="boolean"&&(r=a[0].document["@propagate"]);let c=t;!r&&!c.previousContext&&(c=c.clone(),c.previousContext=t);for(const l of a){let{document:u}=l;if(t=c,u===null){if(!i&&Object.keys(t.protected).length!==0){const h=n&&n.protectedMode||"error";if(h==="error")throw new re("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});if(h==="warn"){console.warn("WARNING: invalid context nullification");const m=l.getProcessed(t);if(m){c=t=m;continue}const _=t;c=t=We.getInitialContext(n).clone();for(const[b,v]of Object.entries(_.protected))v&&(t.mappings[b]=Hc.clone(_.mappings[b]));t.protected=Hc.clone(_.protected),l.setProcessed(_,c);continue}throw new re("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:e,protectedMode:h})}c=t=We.getInitialContext(n).clone();continue}const d=l.getProcessed(t);if(d){c=t=d;continue}if(Ti(u)&&"@context"in u&&(u=u["@context"]),!Ti(u))throw new re("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:u});c=c.clone();const p=new Map;if("@version"in u){if(u["@version"]!==1.1)throw new re("Unsupported JSON-LD version: "+u["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:u});if(t.processingMode&&t.processingMode==="json-ld-1.0")throw new re("@version: "+u["@version"]+" not compatible with "+t.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:u});c.processingMode="json-ld-1.1",c["@version"]=u["@version"],p.set("@version",!0)}if(c.processingMode=c.processingMode||t.processingMode,"@base"in u){let h=u["@base"];if(!(h===null||Xs(h)))if(Bv(h))h=Xo(c["@base"],h);else throw new re('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:u});c["@base"]=h,p.set("@base",!0)}if("@vocab"in u){const h=u["@vocab"];if(h===null)delete c["@vocab"];else if(Sn(h)){if(!Xs(h)&&We.processingMode(c,1))throw new re('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:u});c["@vocab"]=zs(c,h,{vocab:!0,base:!0},void 0,void 0,n)}else throw new re('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:u});p.set("@vocab",!0)}if("@language"in u){const h=u["@language"];if(h===null)delete c["@language"];else if(Sn(h))c["@language"]=h.toLowerCase();else throw new re('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:u});p.set("@language",!0)}if("@direction"in u){const h=u["@direction"];if(t.processingMode==="json-ld-1.0")throw new re("Invalid JSON-LD syntax; @direction not compatible with "+t.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:u});if(h===null)delete c["@direction"];else{if(h!=="ltr"&&h!=="rtl")throw new re('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:u});c["@direction"]=h}p.set("@direction",!0)}if("@propagate"in u){const h=u["@propagate"];if(t.processingMode==="json-ld-1.0")throw new re("Invalid JSON-LD syntax; @propagate not compatible with "+t.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:u});if(typeof h!="boolean")throw new re("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:e});p.set("@propagate",!0)}if("@import"in u){const h=u["@import"];if(t.processingMode==="json-ld-1.0")throw new re("Invalid JSON-LD syntax; @import not compatible with "+t.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:u});if(!Sn(h))throw new re("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:e});const m=await n.contextResolver.resolve({activeCtx:t,context:h,documentLoader:n.documentLoader,base:n.base});if(m.length!==1)throw new re("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:e});const _=m[0].getProcessed(t);if(_)u=_;else{const b=m[0].document;if("@import"in b)throw new re("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:e});for(const v in b)u.hasOwnProperty(v)||(u[v]=b[v]);m[0].setProcessed(t,u)}p.set("@import",!0)}p.set("@protected",u["@protected"]||!1);for(const h in u)if(We.createTermDefinition({activeCtx:c,localCtx:u,term:h,defined:p,options:n,overrideProtected:i}),Ti(u[h])&&"@context"in u[h]){const m=u[h]["@context"];let _=!0;if(Sn(m)){const b=Xo(n.base,m);s.has(b)?_=!1:s.add(b)}if(_)try{await We.process({activeCtx:c.clone(),localCtx:u[h]["@context"],overrideProtected:!0,options:n,cycles:s})}catch{throw new re("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:u[h]["@context"],term:h})}}l.setProcessed(t,c)}return c};We.createTermDefinition=({activeCtx:t,localCtx:e,term:n,defined:r,options:i,overrideProtected:s=!1})=>{if(r.has(n)){if(r.get(n))return;throw new re("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:e,term:n})}r.set(n,!1);let o;if(e.hasOwnProperty(n)&&(o=e[n]),n==="@type"&&Ti(o)&&(o["@container"]||"@set")==="@set"&&We.processingMode(t,1.1)){const h=["@container","@id","@protected"],m=Object.keys(o);if(m.length===0||m.some(_=>!h.includes(_)))throw new re("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:e,term:n})}else{if(We.isKeyword(n))throw new re("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:e,term:n});if(n.match(Tc)){console.warn('WARNING: terms beginning with "@" are reserved for future use and ignored',{term:n});return}else if(n==="")throw new re("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:e})}const a=t.mappings.get(n);t.mappings.has(n)&&t.mappings.delete(n);let c=!1;if((Sn(o)||o===null)&&(c=!0,o={"@id":o}),!Ti(o))throw new re("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:e});const l={};t.mappings.set(n,l),l.reverse=!1;const u=["@container","@id","@language","@reverse","@type"];We.processingMode(t,1.1)&&u.push("@context","@direction","@index","@nest","@prefix","@protected");for(const h in o)if(!u.includes(h))throw new re("Invalid JSON-LD syntax; a term definition must not contain "+h,"jsonld.SyntaxError",{code:"invalid term definition",context:e});const d=n.indexOf(":");if(l._termHasColon=d>0,"@reverse"in o){if("@id"in o)throw new re("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:e});if("@nest"in o)throw new re("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:e});const h=o["@reverse"];if(!Sn(h))throw new re("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:e});if(!We.isKeyword(h)&&h.match(Tc)){console.warn('WARNING: values beginning with "@" are reserved for future use and ignored',{reverse:h}),a?t.mappings.set(n,a):t.mappings.delete(n);return}const m=zs(t,h,{vocab:!0,base:!1},e,r,i);if(!Xs(m))throw new re("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:e});l["@id"]=m,l.reverse=!0}else if("@id"in o){let h=o["@id"];if(h&&!Sn(h))throw new re("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:e});if(h===null)l["@id"]=null;else if(!We.isKeyword(h)&&h.match(Tc)){console.warn('WARNING: values beginning with "@" are reserved for future use and ignored',{id:h}),a?t.mappings.set(n,a):t.mappings.delete(n);return}else if(h!==n){if(h=zs(t,h,{vocab:!0,base:!1},e,r,i),!Xs(h)&&!We.isKeyword(h))throw new re("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:e});if(n.match(/(?::[^:])|\//)){const m=new Map(r).set(n,!0);if(zs(t,n,{vocab:!0,base:!1},e,m,i)!==h)throw new re("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:e})}l["@id"]=h,l._prefix=c&&!l._termHasColon&&h.match(/[:\/\?#\[\]@]$/)}}if(!("@id"in l))if(l._termHasColon){const h=n.substr(0,d);if(e.hasOwnProperty(h)&&We.createTermDefinition({activeCtx:t,localCtx:e,term:h,defined:r,options:i}),t.mappings.has(h)){const m=n.substr(d+1);l["@id"]=t.mappings.get(h)["@id"]+m}else l["@id"]=n}else if(n==="@type")l["@id"]=n;else{if(!("@vocab"in t))throw new re("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:e,term:n});l["@id"]=t["@vocab"]+n}if((o["@protected"]===!0||r.get("@protected")===!0&&o["@protected"]!==!1)&&(t.protected[n]=!0,l.protected=!0),r.set(n,!0),"@type"in o){let h=o["@type"];if(!Sn(h))throw new re("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:e});if(h==="@json"||h==="@none"){if(We.processingMode(t,1))throw new re(`Invalid JSON-LD syntax; an @context @type value must not be "${h}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:e})}else if(h!=="@id"&&h!=="@vocab"){if(h=zs(t,h,{vocab:!0,base:!1},e,r,i),!Xs(h))throw new re("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:e});if(h.indexOf("_:")===0)throw new re("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:e})}l["@type"]=h}if("@container"in o){const h=Sn(o["@container"])?[o["@container"]]:o["@container"]||[],m=["@list","@set","@index","@language"];let _=!0;const b=h.includes("@set");if(We.processingMode(t,1.1)){if(m.push("@graph","@id","@type"),h.includes("@list")){if(h.length!==1)throw new re("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:e})}else if(h.includes("@graph")){if(h.some(v=>v!=="@graph"&&v!=="@id"&&v!=="@index"&&v!=="@set"))throw new re("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:e})}else _&=h.length<=(b?2:1);if(h.includes("@type")&&(l["@type"]=l["@type"]||"@id",!["@id","@vocab"].includes(l["@type"])))throw new re("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:e})}else _&=!e_(o["@container"]),_&=h.length<=1;if(_&=h.every(v=>m.includes(v)),_&=!(b&&h.includes("@list")),!_)throw new re("Invalid JSON-LD syntax; @context @container value must be one of the following: "+m.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:e});if(l.reverse&&!h.every(v=>["@index","@set"].includes(v)))throw new re("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:e});l["@container"]=h}if("@index"in o){if(!("@container"in o)||!l["@container"].includes("@index"))throw new re(`Invalid JSON-LD syntax; @index without @index in @container: "${o["@index"]}" on term "${n}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:e});if(!Sn(o["@index"])||o["@index"].indexOf("@")===0)throw new re(`Invalid JSON-LD syntax; @index must expand to an IRI: "${o["@index"]}" on term "${n}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:e});l["@index"]=o["@index"]}if("@context"in o&&(l["@context"]=o["@context"]),"@language"in o&&!("@type"in o)){let h=o["@language"];if(h!==null&&!Sn(h))throw new re("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:e});h!==null&&(h=h.toLowerCase()),l["@language"]=h}if("@prefix"in o){if(n.match(/:|\//))throw new re("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:e});if(We.isKeyword(l["@id"]))throw new re("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:e});if(typeof o["@prefix"]=="boolean")l._prefix=o["@prefix"]===!0;else throw new re("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:e})}if("@direction"in o){const h=o["@direction"];if(h!==null&&h!=="ltr"&&h!=="rtl")throw new re('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:e});l["@direction"]=h}if("@nest"in o){const h=o["@nest"];if(!Sn(h)||h!=="@nest"&&h.indexOf("@")===0)throw new re("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:e});l["@nest"]=h}// disallow aliasing @context and @preserve
const p=l["@id"];if(p==="@context"||p==="@preserve")throw new re("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:e});if(a&&a.protected&&!s&&(t.protected[n]=!0,l.protected=!0,!kd(a,l))){const h=i&&i.protectedMode||"error";if(h==="error")throw new re(`Invalid JSON-LD syntax; tried to redefine "${n}" which is a protected term.`,"jsonld.SyntaxError",{code:"protected term redefinition",context:e,term:n});if(h==="warn"){console.warn("WARNING: protected term redefinition",{term:n});return}throw new re("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:e,term:n,protectedMode:h})}};We.expandIri=(t,e,n,r)=>zs(t,e,n,void 0,void 0,r);function zs(t,e,n,r,i,s){if(e===null||!Sn(e)||We.isKeyword(e))return e;if(e.match(Tc))return null;if(r&&r.hasOwnProperty(e)&&i.get(e)!==!0&&We.createTermDefinition({activeCtx:t,localCtx:r,term:e,defined:i,options:s}),n=n||{},n.vocab){const a=t.mappings.get(e);if(a===null)return null;if(Ti(a)&&"@id"in a)return a["@id"]}const o=e.indexOf(":");if(o>0){const a=e.substr(0,o),c=e.substr(o+1);if(a==="_"||c.indexOf("//")===0)return e;r&&r.hasOwnProperty(a)&&We.createTermDefinition({activeCtx:t,localCtx:r,term:a,defined:i,options:s});const l=t.mappings.get(a);if(l&&l._prefix)return l["@id"]+c;if(Xs(e))return e}if(n.vocab&&"@vocab"in t)return t["@vocab"]+e;if(n.base&&"@base"in t){if(t["@base"])return Xo(Xo(s.base,t["@base"]),e)}else if(n.base)return Xo(s.base,e);return e}We.getInitialContext=t=>{const e=JSON.stringify({processingMode:t.processingMode}),n=sc.get(e);if(n)return n;const r={processingMode:t.processingMode,mappings:new Map,inverse:null,getInverse:i,clone:a,revertToPreviousContext:c,protected:{}};return sc.size===Yv&&sc.clear(),sc.set(e,r),r;function i(){const l=this;if(l.inverse)return l.inverse;const u=l.inverse={},d=l.fastCurieMap={},p={},h=(l["@language"]||"@none").toLowerCase(),m=l["@direction"],_=l.mappings,b=[..._.keys()].sort(qv);for(const v of b){const T=_.get(v);if(T===null)continue;let x=T["@container"]||"@none";if(x=[].concat(x).sort().join(""),T["@id"]===null)continue;const N=t_(T["@id"]);for(const D of N){let O=u[D];const R=We.isKeyword(D);if(O)!R&&!T._termHasColon&&p[D].push(v);else if(u[D]=O={},!R&&!T._termHasColon){p[D]=[v];const j={iri:D,terms:p[D]};D[0]in d?d[D[0]].push(j):d[D[0]]=[j]}if(O[x]||(O[x]={"@language":{},"@type":{},"@any":{}}),O=O[x],o(v,O["@any"],"@none"),T.reverse)o(v,O["@type"],"@reverse");else if(T["@type"]==="@none")o(v,O["@any"],"@none"),o(v,O["@language"],"@none"),o(v,O["@type"],"@none");else if("@type"in T)o(v,O["@type"],T["@type"]);else if("@language"in T&&"@direction"in T){const j=T["@language"],M=T["@direction"];j&&M?o(v,O["@language"],`${j}_${M}`.toLowerCase()):j?o(v,O["@language"],j.toLowerCase()):M?o(v,O["@language"],`_${M}`):o(v,O["@language"],"@null")}else"@language"in T?o(v,O["@language"],(T["@language"]||"@null").toLowerCase()):"@direction"in T?T["@direction"]?o(v,O["@language"],`_${T["@direction"]}`):o(v,O["@language"],"@none"):m?(o(v,O["@language"],`_${m}`),o(v,O["@language"],"@none"),o(v,O["@type"],"@none")):(o(v,O["@language"],h),o(v,O["@language"],"@none"),o(v,O["@type"],"@none"))}}for(const v in d)s(d,v,1);return u}function s(l,u,d){const p=l[u],h=l[u]={};let m,_;for(const b of p)m=b.iri,d>=m.length?_="":_=m[d],_ in h?h[_].push(b):h[_]=[b];for(const b in h)b!==""&&s(h,b,d+1)}function o(l,u,d){u.hasOwnProperty(d)||(u[d]=l)}function a(){const l={};return l.mappings=Hc.clone(this.mappings),l.clone=this.clone,l.inverse=null,l.getInverse=this.getInverse,l.protected=Hc.clone(this.protected),this.previousContext&&(l.previousContext=this.previousContext.clone()),l.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(l["@base"]=this["@base"]),"@language"in this&&(l["@language"]=this["@language"]),"@vocab"in this&&(l["@vocab"]=this["@vocab"]),l}function c(){return this.previousContext?this.previousContext.clone():this}};We.getContextValue=(t,e,n)=>{if(e===null)return n==="@context"?void 0:null;if(t.mappings.has(e)){const r=t.mappings.get(e);if(Fv(n))return r;if(r.hasOwnProperty(n))return r[n]}if(n==="@language"&&n in t||n==="@direction"&&n in t)return t[n];if(n!=="@context")return null};We.processingMode=(t,e)=>e.toString()>="1.1"?!t.processingMode||t.processingMode>="json-ld-"+e.toString():t.processingMode==="json-ld-1.0";We.isKeyword=t=>{if(!Sn(t)||t[0]!=="@")return!1;switch(t){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1};function kd(t,e){if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return t===e;const n=Array.isArray(t);if(n!==Array.isArray(e))return!1;if(n){if(t.length!==e.length)return!1;for(let s=0;s<t.length;++s)if(!kd(t[s],e[s]))return!1;return!0}const r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;for(const s in t){let o=t[s],a=e[s];if(s==="@container"&&Array.isArray(o)&&Array.isArray(a)&&(o=o.slice().sort(),a=a.slice().sort()),!kd(o,a))return!1}return!0}const ot=Ur,{isArray:Qn,isObject:Wn,isEmptyObject:Sd,isString:mn,isUndefined:Zc}=sr,{isList:Nu,isValue:Ad,isGraph:zv,isSubject:Gv}=di,{expandIri:Pt,getContextValue:Xn,isKeyword:$d,process:Ko,processingMode:Ec}=Es,{isAbsolute:n_}=Ui,{addValue:Pn,asArray:ur,getValues:Wv,validateTypeValue:Vv}=wr,Ei={};var Hv=Ei;const Zv=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/;Ei.expand=async({activeCtx:t,activeProperty:e=null,element:n,options:r={},insideList:i=!1,insideIndex:s=!1,typeScopedContext:o=null,expansionMap:a=()=>{}})=>{if(n==null)return null;if(e==="@default"&&(r=Object.assign({},r,{isFrame:!1})),!Qn(n)&&!Wn(n)){if(!i&&(e===null||Pt(t,e,{vocab:!0},r)==="@graph")){const _=await a({unmappedValue:n,activeCtx:t,activeProperty:e,options:r,insideList:i});return _===void 0?null:_}return i_({activeCtx:t,activeProperty:e,value:n,options:r})}if(Qn(n)){let _=[];const b=Xn(t,e,"@container")||[];i=i||b.includes("@list");for(let v=0;v<n.length;++v){let T=await Ei.expand({activeCtx:t,activeProperty:e,element:n[v],options:r,expansionMap:a,insideIndex:s,typeScopedContext:o});i&&Qn(T)&&(T={"@list":T}),!(T===null&&(T=await a({unmappedValue:n[v],activeCtx:t,activeProperty:e,parent:n,index:v,options:r,expandedParent:_,insideList:i}),T===void 0))&&(Qn(T)?_=_.concat(T):_.push(T))}return _}const c=Pt(t,e,{vocab:!0},r),l=Xn(t,e,"@context");o=o||(t.previousContext?t:null);let u=Object.keys(n).sort(),d=!s;if(d&&o&&u.length<=2&&!u.includes("@context"))for(const _ of u){const b=Pt(o,_,{vocab:!0},r);if(b==="@value"){d=!1,t=o;break}if(b==="@id"&&u.length===1){d=!1;break}}d&&(t=t.revertToPreviousContext()),Zc(l)||(t=await Ko({activeCtx:t,localCtx:l,propagate:!0,overrideProtected:!0,options:r})),"@context"in n&&(t=await Ko({activeCtx:t,localCtx:n["@context"],options:r})),o=t;let p=null;for(const _ of u)if(Pt(t,_,{vocab:!0},r)==="@type"){p=p||_;const v=n[_],T=Array.isArray(v)?v.length>1?v.slice().sort():v:[v];for(const x of T){const N=Xn(o,x,"@context");Zc(N)||(t=await Ko({activeCtx:t,localCtx:N,options:r,propagate:!1}))}}let h={};await r_({activeCtx:t,activeProperty:e,expandedActiveProperty:c,element:n,expandedParent:h,options:r,insideList:i,typeKey:p,typeScopedContext:o,expansionMap:a}),u=Object.keys(h);let m=u.length;if("@value"in h){if("@type"in h&&("@language"in h||"@direction"in h))throw new ot('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:h});let _=m-1;if("@type"in h&&(_-=1),"@index"in h&&(_-=1),"@language"in h&&(_-=1),"@direction"in h&&(_-=1),_!==0)throw new ot('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:h});const b=h["@value"]===null?[]:ur(h["@value"]),v=Wv(h,"@type");if(!(Ec(t,1.1)&&v.includes("@json")&&v.length===1))if(b.length===0){const T=await a({unmappedValue:h,activeCtx:t,activeProperty:e,element:n,options:r,insideList:i});T!==void 0?h=T:h=null}else{if(!b.every(T=>mn(T)||Sd(T))&&"@language"in h)throw new ot("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:h});if(!v.every(T=>n_(T)&&!(mn(T)&&T.indexOf("_:")===0)||Sd(T)))throw new ot('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:h})}}else if("@type"in h&&!Qn(h["@type"]))h["@type"]=[h["@type"]];else if("@set"in h||"@list"in h){if(m>1&&!(m===2&&"@index"in h))throw new ot('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:h});"@set"in h&&(h=h["@set"],u=Object.keys(h),m=u.length)}else if(m===1&&"@language"in h){const _=await a(h,{unmappedValue:h,activeCtx:t,activeProperty:e,element:n,options:r,insideList:i});_!==void 0?h=_:h=null}if(Wn(h)&&!r.keepFreeFloatingNodes&&!i&&(e===null||c==="@graph")&&(m===0||"@value"in h||"@list"in h||m===1&&"@id"in h)){const _=await a({unmappedValue:h,activeCtx:t,activeProperty:e,element:n,options:r,insideList:i});_!==void 0?h=_:h=null}return h};async function r_({activeCtx:t,activeProperty:e,expandedActiveProperty:n,element:r,expandedParent:i,options:s={},insideList:o,typeKey:a,typeScopedContext:c,expansionMap:l}){const u=Object.keys(r).sort(),d=[];let p;const h=r[a]&&Pt(t,Qn(r[a])?r[a][0]:r[a],{vocab:!0},s)==="@json";for(const m of u){let _=r[m],b;if(m==="@context")continue;let v=Pt(t,m,{vocab:!0},s);if((v===null||!(n_(v)||$d(v)))&&(v=l({unmappedProperty:m,activeCtx:t,activeProperty:e,parent:r,options:s,insideList:o,value:_,expandedParent:i}),v===void 0))continue;if($d(v)){if(n==="@reverse")throw new ot("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:_});if(v in i&&v!=="@included"&&v!=="@type")throw new ot("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:v})}if(v==="@id"){if(!mn(_)){if(!s.isFrame)throw new ot('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:_});if(Wn(_)){if(!Sd(_))throw new ot('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:_})}else if(Qn(_)){if(!_.every(D=>mn(D)))throw new ot('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:_})}else throw new ot('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:_})}Pn(i,"@id",ur(_).map(D=>mn(D)?Pt(t,D,{base:!0},s):D),{propertyIsArray:s.isFrame});continue}if(v==="@type"){Wn(_)&&(_=Object.fromEntries(Object.entries(_).map(([D,O])=>[Pt(c,D,{vocab:!0}),ur(O).map(R=>Pt(c,R,{base:!0,vocab:!0}))]))),Vv(_,s.isFrame),Pn(i,"@type",ur(_).map(D=>mn(D)?Pt(c,D,{base:!0,vocab:!0},s):D),{propertyIsArray:s.isFrame});continue}if(v==="@included"&&Ec(t,1.1)){const D=ur(await Ei.expand({activeCtx:t,activeProperty:e,element:_,options:s,expansionMap:l}));if(!D.every(O=>Gv(O)))throw new ot("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:_});Pn(i,"@included",D,{propertyIsArray:!0});continue}if(v==="@graph"&&!(Wn(_)||Qn(_)))throw new ot('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:_});if(v==="@value"){p=_,h&&Ec(t,1.1)?i["@value"]=_:Pn(i,"@value",_,{propertyIsArray:s.isFrame});continue}if(v==="@language"){if(_===null)continue;if(!mn(_)&&!s.isFrame)throw new ot('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:_});_=ur(_).map(D=>mn(D)?D.toLowerCase():D);for(const D of _)mn(D)&&!D.match(Zv)&&console.warn(`@language must be valid BCP47: ${D}`);Pn(i,"@language",_,{propertyIsArray:s.isFrame});continue}if(v==="@direction"){if(!mn(_)&&!s.isFrame)throw new ot('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:_});_=ur(_);for(const D of _)if(mn(D)&&D!=="ltr"&&D!=="rtl")throw new ot('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:_});Pn(i,"@direction",_,{propertyIsArray:s.isFrame});continue}if(v==="@index"){if(!mn(_))throw new ot('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:_});Pn(i,"@index",_);continue}if(v==="@reverse"){if(!Wn(_))throw new ot('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:_});if(b=await Ei.expand({activeCtx:t,activeProperty:"@reverse",element:_,options:s,expansionMap:l}),"@reverse"in b)for(const O in b["@reverse"])Pn(i,O,b["@reverse"][O],{propertyIsArray:!0});let D=i["@reverse"]||null;for(const O in b){if(O==="@reverse")continue;D===null&&(D=i["@reverse"]={}),Pn(D,O,[],{propertyIsArray:!0});const R=b[O];for(let j=0;j<R.length;++j){const M=R[j];if(Ad(M)||Nu(M))throw new ot('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:b});Pn(D,O,M,{propertyIsArray:!0})}}continue}if(v==="@nest"){d.push(m);continue}let T=t;const x=Xn(t,m,"@context");Zc(x)||(T=await Ko({activeCtx:t,localCtx:x,propagate:!0,overrideProtected:!0,options:s}));const N=Xn(T,m,"@container")||[];if(N.includes("@language")&&Wn(_)){const D=Xn(T,m,"@direction");b=Qv(T,_,D,s)}else if(N.includes("@index")&&Wn(_)){const D=N.includes("@graph"),O=Xn(T,m,"@index")||"@index",R=O!=="@index"&&Pt(t,O,{vocab:!0},s);b=await Ru({activeCtx:T,options:s,activeProperty:m,value:_,expansionMap:l,asGraph:D,indexKey:O,propertyIndex:R})}else if(N.includes("@id")&&Wn(_)){const D=N.includes("@graph");b=await Ru({activeCtx:T,options:s,activeProperty:m,value:_,expansionMap:l,asGraph:D,indexKey:"@id"})}else if(N.includes("@type")&&Wn(_))b=await Ru({activeCtx:T.revertToPreviousContext(),options:s,activeProperty:m,value:_,expansionMap:l,asGraph:!1,indexKey:"@type"});else{const D=v==="@list";if(D||v==="@set"){let O=e;D&&n==="@graph"&&(O=null),b=await Ei.expand({activeCtx:T,activeProperty:O,element:_,options:s,insideList:D,expansionMap:l})}else Xn(t,m,"@type")==="@json"?b={"@type":"@json","@value":_}:b=await Ei.expand({activeCtx:T,activeProperty:m,element:_,options:s,insideList:!1,expansionMap:l})}if(!(b===null&&v!=="@value"&&(b=l({unmappedValue:_,expandedProperty:v,activeCtx:T,activeProperty:e,parent:r,options:s,insideList:o,key:m,expandedParent:i}),b===void 0))){if(v!=="@list"&&!Nu(b)&&N.includes("@list")&&(b={"@list":ur(b)}),N.includes("@graph")&&!N.some(D=>D==="@id"||D==="@index")&&(b=ur(b).map(D=>({"@graph":ur(D)}))),T.mappings.has(m)&&T.mappings.get(m).reverse){const D=i["@reverse"]=i["@reverse"]||{};b=ur(b);for(let O=0;O<b.length;++O){const R=b[O];if(Ad(R)||Nu(R))throw new ot('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:b});Pn(D,v,R,{propertyIsArray:!0})}continue}Pn(i,v,b,{propertyIsArray:!0})}}if("@value"in i&&!(i["@type"]==="@json"&&Ec(t,1.1))){if((Wn(p)||Qn(p))&&!s.isFrame)throw new ot('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:p})}for(const m of d){const _=Qn(r[m])?r[m]:[r[m]];for(const b of _){if(!Wn(b)||Object.keys(b).some(v=>Pt(t,v,{vocab:!0},s)==="@value"))throw new ot("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:b});await r_({activeCtx:t,activeProperty:e,expandedActiveProperty:n,element:b,expandedParent:i,options:s,insideList:o,typeScopedContext:c,typeKey:a,expansionMap:l})}}}function i_({activeCtx:t,activeProperty:e,value:n,options:r}){if(n==null)return null;const i=Pt(t,e,{vocab:!0},r);if(i==="@id")return Pt(t,n,{base:!0},r);if(i==="@type")return Pt(t,n,{vocab:!0,base:!0},r);const s=Xn(t,e,"@type");if((s==="@id"||i==="@graph")&&mn(n))return{"@id":Pt(t,n,{base:!0},r)};if(s==="@vocab"&&mn(n))return{"@id":Pt(t,n,{vocab:!0,base:!0},r)};if($d(i))return n;const o={};if(s&&!["@id","@vocab","@none"].includes(s))o["@type"]=s;else if(mn(n)){const a=Xn(t,e,"@language");a!==null&&(o["@language"]=a);const c=Xn(t,e,"@direction");c!==null&&(o["@direction"]=c)}return["boolean","number","string"].includes(typeof n)||(n=n.toString()),o["@value"]=n,o}function Qv(t,e,n,r){const i=[],s=Object.keys(e).sort();for(const o of s){const a=Pt(t,o,{vocab:!0},r);let c=e[o];Qn(c)||(c=[c]);for(const l of c){if(l===null)continue;if(!mn(l))throw new ot("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:e});const u={"@value":l};a!=="@none"&&(u["@language"]=o.toLowerCase()),n&&(u["@direction"]=n),i.push(u)}}return i}async function Ru({activeCtx:t,options:e,activeProperty:n,value:r,expansionMap:i,asGraph:s,indexKey:o,propertyIndex:a}){const c=[],l=Object.keys(r).sort(),u=o==="@type";for(let d of l){if(u){const m=Xn(t,d,"@context");Zc(m)||(t=await Ko({activeCtx:t,localCtx:m,propagate:!1,options:e}))}let p=r[d];Qn(p)||(p=[p]),p=await Ei.expand({activeCtx:t,activeProperty:n,element:p,options:e,insideList:!1,insideIndex:!0,expansionMap:i});let h;a?d==="@none"?h="@none":h=i_({activeCtx:t,activeProperty:o,value:d,options:e}):h=Pt(t,d,{vocab:!0},e),o==="@id"?d=Pt(t,d,{base:!0},e):u&&(d=h);for(let m of p){if(s&&!zv(m)&&(m={"@graph":[m]}),o==="@type")h==="@none"||(m["@type"]?m["@type"]=[d].concat(m["@type"]):m["@type"]=[d]);else{if(Ad(m)&&!["@language","@type","@index"].includes(o))throw new ot(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${o}".`,"jsonld.SyntaxError",{code:"invalid value object",value:m});a?h!=="@none"&&Pn(m,a,h,{propertyIsArray:!0,prependValue:!0}):h!=="@none"&&!(o in m)&&(m[o]=d)}c.push(m)}}return c}const{isKeyword:s_}=Es,Er=di,Du=sr,Dr=wr,Xv=Ur,xn={};var El=xn;xn.createMergedNodeMap=(t,e)=>{e=e||{};const n=e.issuer||new Dr.IdentifierIssuer("_:b"),r={"@default":{}};return xn.createNodeMap(t,r,"@default",n),xn.mergeNodeMaps(r)};xn.createNodeMap=(t,e,n,r,i,s)=>{if(Du.isArray(t)){for(const l of t)xn.createNodeMap(l,e,n,r,void 0,s);return}if(!Du.isObject(t)){s&&s.push(t);return}if(Er.isValue(t)){if("@type"in t){let l=t["@type"];l.indexOf("_:")===0&&(t["@type"]=l=r.getId(l))}s&&s.push(t);return}else if(s&&Er.isList(t)){const l=[];xn.createNodeMap(t["@list"],e,n,r,i,l),s.push({"@list":l});return}if("@type"in t){const l=t["@type"];for(const u of l)u.indexOf("_:")===0&&r.getId(u)}Du.isUndefined(i)&&(i=Er.isBlankNode(t)?r.getId(t["@id"]):t["@id"]),s&&s.push({"@id":i});const o=e[n],a=o[i]=o[i]||{};a["@id"]=i;const c=Object.keys(t).sort();for(let l of c){if(l==="@id")continue;if(l==="@reverse"){const d={"@id":i},p=t["@reverse"];for(const h in p){const m=p[h];for(const _ of m){let b=_["@id"];Er.isBlankNode(_)&&(b=r.getId(b)),xn.createNodeMap(_,e,n,r,b),Dr.addValue(o[b],h,d,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if(l==="@graph"){i in e||(e[i]={}),xn.createNodeMap(t[l],e,i,r);continue}if(l==="@included"){xn.createNodeMap(t[l],e,n,r);continue}if(l!=="@type"&&s_(l)){if(l==="@index"&&l in a&&(t[l]!==a[l]||t[l]["@id"]!==a[l]["@id"]))throw new Xv("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:a});a[l]=t[l];continue}const u=t[l];if(l.indexOf("_:")===0&&(l=r.getId(l)),u.length===0){Dr.addValue(a,l,[],{propertyIsArray:!0});continue}for(let d of u)if(l==="@type"&&(d=d.indexOf("_:")===0?r.getId(d):d),Er.isSubject(d)||Er.isSubjectReference(d)){if("@id"in d&&!d["@id"])continue;const p=Er.isBlankNode(d)?r.getId(d["@id"]):d["@id"];Dr.addValue(a,l,{"@id":p},{propertyIsArray:!0,allowDuplicate:!1}),xn.createNodeMap(d,e,n,r,p)}else if(Er.isValue(d))Dr.addValue(a,l,d,{propertyIsArray:!0,allowDuplicate:!1});else if(Er.isList(d)){const p=[];xn.createNodeMap(d["@list"],e,n,r,i,p),d={"@list":p},Dr.addValue(a,l,d,{propertyIsArray:!0,allowDuplicate:!1})}else xn.createNodeMap(d,e,n,r,i),Dr.addValue(a,l,d,{propertyIsArray:!0,allowDuplicate:!1})}};xn.mergeNodeMapGraphs=t=>{const e={};for(const n of Object.keys(t).sort())for(const r of Object.keys(t[n]).sort()){const i=t[n][r];r in e||(e[r]={"@id":r});const s=e[r];for(const o of Object.keys(i).sort())if(s_(o)&&o!=="@type")s[o]=Dr.clone(i[o]);else for(const a of i[o])Dr.addValue(s,o,Dr.clone(a),{propertyIsArray:!0,allowDuplicate:!1})}return e};xn.mergeNodeMaps=t=>{const e=t["@default"],n=Object.keys(t).sort();for(const r of n){if(r==="@default")continue;const i=t[r];let s=e[r];s?"@graph"in s||(s["@graph"]=[]):e[r]=s={"@id":r,"@graph":[]};const o=s["@graph"];for(const a of Object.keys(i).sort()){const c=i[a];Er.isSubjectReference(c)||o.push(c)}}return e};const{isSubjectReference:Kv}=di,{createMergedNodeMap:Jv}=El,o_={};var eT=o_;o_.flatten=t=>{const e=Jv(t),n=[],r=Object.keys(e).sort();for(let i=0;i<r.length;++i){const s=e[r[i]];Kv(s)||n.push(s)}return n};const tT=Ur,Ou=di,Yo=sr,kp=wr,{RDF_LIST:nT,RDF_FIRST:ku,RDF_REST:Su,RDF_NIL:Au,RDF_TYPE:rT,RDF_JSON_LITERAL:iT,XSD_BOOLEAN:Sp,XSD_DOUBLE:Ap,XSD_INTEGER:$p,XSD_STRING:$u}=Pf,sT=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,a_={};var oT=a_;a_.fromRDF=async(t,{useRdfType:e=!1,useNativeTypes:n=!1,rdfDirection:r=null})=>{const i={},s={"@default":i},o={};for(const l of t){const u=l.graph.termType==="DefaultGraph"?"@default":l.graph.value;u in s||(s[u]={}),u!=="@default"&&!(u in i)&&(i[u]={"@id":u});const d=s[u],p=l.subject.value,h=l.predicate.value,m=l.object;p in d||(d[p]={"@id":p});const _=d[p],b=m.termType.endsWith("Node");if(b&&!(m.value in d)&&(d[m.value]={"@id":m.value}),h===rT&&!e&&b){kp.addValue(_,"@type",m.value,{propertyIsArray:!0});continue}const v=aT(m,n,r);if(kp.addValue(_,h,v,{propertyIsArray:!0}),b)if(m.value===Au){const T=d[m.value];"usages"in T||(T.usages=[]),T.usages.push({node:_,property:h,value:v})}else m.value in o?o[m.value]=!1:o[m.value]={node:_,property:h,value:v}}for(const l in s){const u=s[l];if(!(Au in u))continue;const d=u[Au];if(!!d.usages){for(let p of d.usages){let h=p.node,m=p.property,_=p.value;const b=[],v=[];let T=Object.keys(h).length;for(;m===Su&&Yo.isObject(o[h["@id"]])&&Yo.isArray(h[ku])&&h[ku].length===1&&Yo.isArray(h[Su])&&h[Su].length===1&&(T===3||T===4&&Yo.isArray(h["@type"])&&h["@type"].length===1&&h["@type"][0]===nT)&&(b.push(h[ku][0]),v.push(h["@id"]),p=o[h["@id"]],h=p.node,m=p.property,_=p.value,T=Object.keys(h).length,!!Ou.isBlankNode(h)););delete _["@id"],_["@list"]=b.reverse();for(const x of v)delete u[x]}delete d.usages}}const a=[],c=Object.keys(i).sort();for(const l of c){const u=i[l];if(l in s){const d=u["@graph"]=[],p=s[l],h=Object.keys(p).sort();for(const m of h){const _=p[m];Ou.isSubjectReference(_)||d.push(_)}}Ou.isSubjectReference(u)||a.push(u)}return a};function aT(t,e,n){if(t.termType.endsWith("Node"))return{"@id":t.value};const r={"@value":t.value};if(t.language)r["@language"]=t.language;else{let i=t.datatype.value;if(i||(i=$u),i===iT){i="@json";try{r["@value"]=JSON.parse(r["@value"])}catch(s){throw new tT("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:r["@value"],cause:s})}}if(e){if(i===Sp)r["@value"]==="true"?r["@value"]=!0:r["@value"]==="false"&&(r["@value"]=!1);else if(Yo.isNumeric(r["@value"]))if(i===$p){const s=parseInt(r["@value"],10);s.toFixed(0)===r["@value"]&&(r["@value"]=s)}else i===Ap&&(r["@value"]=parseFloat(r["@value"]));[Sp,$p,Ap,$u].includes(i)||(r["@type"]=i)}else if(n==="i18n-datatype"&&i.startsWith("https://www.w3.org/ns/i18n#")){const[,s,o]=i.split(/[#_]/);s.length>0&&(r["@language"]=s,s.match(sT)||console.warn(`@language must be valid BCP47: ${s}`)),r["@direction"]=o}else i!==$u&&(r["@type"]=i)}return r}var cT=function t(e){return e===null||typeof e!="object"||e.toJSON!=null?JSON.stringify(e):Array.isArray(e)?"["+e.reduce((n,r,i)=>{const s=i===0?"":",",o=r===void 0||typeof r=="symbol"?null:r;return n+s+t(o)},"")+"]":"{"+Object.keys(e).sort().reduce((n,r,i)=>{if(e[r]===void 0||typeof e[r]=="symbol")return n;const s=n.length===0?"":",";return n+s+t(r)+":"+t(e[r])},"")+"}"};const{createNodeMap:lT}=El,{isKeyword:uT}=Es,jp=di,dT=cT,Lo=sr,fT=wr,{RDF_FIRST:hT,RDF_REST:pT,RDF_NIL:mT,RDF_TYPE:gT,RDF_JSON_LITERAL:_T,RDF_LANGSTRING:wT,XSD_BOOLEAN:yT,XSD_DOUBLE:Mp,XSD_INTEGER:bT,XSD_STRING:vT}=Pf,{isAbsolute:Qc}=Ui,c_={};var TT=c_;c_.toRDF=(t,e)=>{const n=new fT.IdentifierIssuer("_:b"),r={"@default":{}};lT(t,r,"@default",n);const i=[],s=Object.keys(r).sort();for(const o of s){let a;if(o==="@default")a={termType:"DefaultGraph",value:""};else if(Qc(o))o.startsWith("_:")?a={termType:"BlankNode"}:a={termType:"NamedNode"},a.value=o;else continue;ET(i,r[o],a,n,e)}return i};function ET(t,e,n,r,i){const s=Object.keys(e).sort();for(const o of s){const a=e[o],c=Object.keys(a).sort();for(let l of c){const u=a[l];if(l==="@type")l=gT;else if(uT(l))continue;for(const d of u){const p={termType:o.startsWith("_:")?"BlankNode":"NamedNode",value:o};if(!Qc(o))continue;const h={termType:l.startsWith("_:")?"BlankNode":"NamedNode",value:l};if(!Qc(l)||h.termType==="BlankNode"&&!i.produceGeneralizedRdf)continue;const m=jd(d,r,t,n,i.rdfDirection);m&&t.push({subject:p,predicate:h,object:m,graph:n})}}}}function xT(t,e,n,r,i){const s={termType:"NamedNode",value:hT},o={termType:"NamedNode",value:pT},a={termType:"NamedNode",value:mT},c=t.pop(),l=c?{termType:"BlankNode",value:e.getId()}:a;let u=l;for(const d of t){const p=jd(d,e,n,r,i),h={termType:"BlankNode",value:e.getId()};n.push({subject:u,predicate:s,object:p,graph:r}),n.push({subject:u,predicate:o,object:h,graph:r}),u=h}if(c){const d=jd(c,e,n,r,i);n.push({subject:u,predicate:s,object:d,graph:r}),n.push({subject:u,predicate:o,object:a,graph:r})}return l}function jd(t,e,n,r,i){const s={};if(jp.isValue(t)){s.termType="Literal",s.value=void 0,s.datatype={termType:"NamedNode"};let o=t["@value"];const a=t["@type"]||null;if(a==="@json")s.value=dT(o),s.datatype.value=_T;else if(Lo.isBoolean(o))s.value=o.toString(),s.datatype.value=a||yT;else if(Lo.isDouble(o)||a===Mp)Lo.isDouble(o)||(o=parseFloat(o)),s.value=o.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),s.datatype.value=a||Mp;else if(Lo.isNumber(o))s.value=o.toFixed(0),s.datatype.value=a||bT;else if(i==="i18n-datatype"&&"@direction"in t){const c="https://www.w3.org/ns/i18n#"+(t["@language"]||"")+`_${t["@direction"]}`;s.datatype.value=c,s.value=o}else"@language"in t?(s.value=o,s.datatype.value=a||wT,s.language=t["@language"]):(s.value=o,s.datatype.value=a||vT)}else if(jp.isList(t)){const o=xT(t["@list"],e,n,r,i);s.termType=o.termType,s.value=o.value}else{const o=Lo.isObject(t)?t["@id"]:t;s.termType=o.startsWith("_:")?"BlankNode":"NamedNode",s.value=o}return s.termType==="NamedNode"&&!Qc(s.value)?null:s}const{isKeyword:Md}=Es,Hn=di,Ve=sr,on=wr,Cp=Ui,Jo=Ur,{createNodeMap:IT,mergeNodeMapGraphs:NT}=El,Zn={};var RT=Zn;Zn.frameMergedOrDefault=(t,e,n)=>{const r={options:n,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},i=new on.IdentifierIssuer("_:b");IT(t,r.graphMap,"@default",i),n.merged&&(r.graphMap["@merged"]=NT(r.graphMap),r.graph="@merged"),r.subjects=r.graphMap[r.graph];const s=[];Zn.frame(r,Object.keys(r.subjects).sort(),e,s),n.pruneBlankNodeIdentifiers&&(n.bnodesToClear=Object.keys(r.bnodeMap).filter(o=>r.bnodeMap[o].length===1));// remove @preserve from results
return n.link={},xc(s,n)};Zn.frame=(t,e,n,r,i=null)=>{l_(n),n=n[0];const s=t.options,o={embed:oc(n,s,"embed"),explicit:oc(n,s,"explicit"),requireAll:oc(n,s,"requireAll")};t.link.hasOwnProperty(t.graph)||(t.link[t.graph]={});const a=t.link[t.graph],c=OT(t,e,n,o),l=Object.keys(c).sort();for(const u of l){const d=c[u];if(i===null?t.uniqueEmbeds={[t.graph]:{}}:t.uniqueEmbeds[t.graph]=t.uniqueEmbeds[t.graph]||{},o.embed==="@link"&&u in a){Zi(r,i,a[u]);continue}const p={"@id":u};if(u.indexOf("_:")===0&&on.addValue(t.bnodeMap,u,p,{propertyIsArray:!0}),a[u]=p,(o.embed==="@first"||o.embed==="@last")&&t.is11)throw new Jo("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:n});if(!(!t.embedded&&t.uniqueEmbeds[t.graph].hasOwnProperty(u))){if(t.embedded&&(o.embed==="@never"||DT(d,t.graph,t.subjectStack))){Zi(r,i,p);continue}if(t.embedded&&(o.embed=="@first"||o.embed=="@once")&&t.uniqueEmbeds[t.graph].hasOwnProperty(u)){Zi(r,i,p);continue}if(o.embed==="@last"&&u in t.uniqueEmbeds[t.graph]&&kT(t,u),t.uniqueEmbeds[t.graph][u]={parent:r,property:i},t.subjectStack.push({subject:d,graph:t.graph}),u in t.graphMap){let h=!1,m=null;"@graph"in n?(m=n["@graph"][0],h=!(u==="@merged"||u==="@default"),Ve.isObject(m)||(m={})):(h=t.graph!=="@merged",m={}),h&&Zn.frame({...t,graph:u,embedded:!1},Object.keys(t.graphMap[u]).sort(),[m],p,"@graph")}"@included"in n&&Zn.frame({...t,embedded:!1},e,n["@included"],p,"@included");for(const h of Object.keys(d).sort()){if(Md(h)){if(p[h]=on.clone(d[h]),h==="@type")for(const m of d["@type"])m.indexOf("_:")===0&&on.addValue(t.bnodeMap,m,p,{propertyIsArray:!0});continue}if(!(o.explicit&&!(h in n)))for(const m of d[h]){const _=h in n?n[h]:Lp(o);if(Hn.isList(m)){const b=n[h]&&n[h][0]&&n[h][0]["@list"]?n[h][0]["@list"]:Lp(o),v={"@list":[]};Zi(p,h,v);const T=m["@list"];for(const x of T)Hn.isSubjectReference(x)?Zn.frame({...t,embedded:!0},[x["@id"]],b,v,"@list"):Zi(v,"@list",on.clone(x))}else Hn.isSubjectReference(m)?Zn.frame({...t,embedded:!0},[m["@id"]],_,p,h):Cd(_[0],m)&&Zi(p,h,on.clone(m))}}for(const h of Object.keys(n).sort()){if(h==="@type"){if(!Ve.isObject(n[h][0])||!("@default"in n[h][0]))continue}else if(Md(h))continue;const m=n[h][0]||{};if(!oc(m,s,"omitDefault")&&!(h in p)){let b="@null";"@default"in m&&(b=on.clone(m["@default"])),Ve.isArray(b)||(b=[b]),p[h]=[{"@preserve":b}]}}for(const h of Object.keys(n["@reverse"]||{}).sort()){const m=n["@reverse"][h];for(const _ of Object.keys(t.subjects))on.getValues(t.subjects[_],h).some(v=>v["@id"]===u)&&(p["@reverse"]=p["@reverse"]||{},on.addValue(p["@reverse"],h,[],{propertyIsArray:!0}),Zn.frame({...t,embedded:!0},[_],m,p["@reverse"][h],i))}Zi(r,i,p),t.subjectStack.pop()}}};Zn.cleanupNull=(t,e)=>{if(Ve.isArray(t))return t.map(r=>Zn.cleanupNull(r,e)).filter(r=>r);if(t==="@null")return null;if(Ve.isObject(t)){if("@id"in t){const n=t["@id"];if(e.link.hasOwnProperty(n)){const r=e.link[n].indexOf(t);if(r!==-1)return e.link[n][r];e.link[n].push(t)}else e.link[n]=[t]}for(const n in t)t[n]=Zn.cleanupNull(t[n],e)}return t};function Lp(t){const e={};for(const n in t)t[n]!==void 0&&(e["@"+n]=[t[n]]);return[e]}function DT(t,e,n){for(let r=n.length-1;r>=0;--r){const i=n[r];if(i.graph===e&&i.subject["@id"]===t["@id"])return!0}return!1}function oc(t,e,n){const r="@"+n;let i=r in t?t[r][0]:e[n];if(n==="embed"){if(i===!0)i="@once";else if(i===!1)i="@never";else if(i!=="@always"&&i!=="@never"&&i!=="@link"&&i!=="@first"&&i!=="@last"&&i!=="@once")throw new Jo("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:t})}return i}function l_(t){if(!Ve.isArray(t)||t.length!==1||!Ve.isObject(t[0]))throw new Jo("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:t});if("@id"in t[0]){for(const e of on.asArray(t[0]["@id"]))if(!(Ve.isObject(e)||Cp.isAbsolute(e))||Ve.isString(e)&&e.indexOf("_:")===0)throw new Jo("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:t})}if("@type"in t[0]){for(const e of on.asArray(t[0]["@type"]))if(!(Ve.isObject(e)||Cp.isAbsolute(e))||Ve.isString(e)&&e.indexOf("_:")===0)throw new Jo("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:t})}}function OT(t,e,n,r){const i={};for(const s of e){const o=t.graphMap[t.graph][s];u_(t,o,n,r)&&(i[s]=o)}return i}function u_(t,e,n,r){let i=!0,s=!1;for(const o in n){let a=!1;const c=on.getValues(e,o),l=on.getValues(n,o).length===0;if(o==="@id"){if(Ve.isEmptyObject(n["@id"][0]||{})?a=!0:n["@id"].length>=0&&(a=n["@id"].includes(c[0])),!r.requireAll)return a}else if(o==="@type"){if(i=!1,l){if(c.length>0)return!1;a=!0}else if(n["@type"].length===1&&Ve.isEmptyObject(n["@type"][0]))a=c.length>0;else for(const u of n["@type"])Ve.isObject(u)&&"@default"in u?a=!0:a=a||c.some(d=>d===u);if(!r.requireAll)return a}else{if(Md(o))continue;{const u=on.getValues(n,o)[0];let d=!1;if(u&&(l_([u]),d="@default"in u),i=!1,c.length===0&&d)continue;if(c.length>0&&l)return!1;if(u===void 0){if(c.length>0)return!1;a=!0}else if(Hn.isList(u)){const p=u["@list"][0];if(Hn.isList(c[0])){const h=c[0]["@list"];Hn.isValue(p)?a=h.some(m=>Cd(p,m)):(Hn.isSubject(p)||Hn.isSubjectReference(p))&&(a=h.some(m=>Pp(t,p,m,r)))}}else Hn.isValue(u)?a=c.some(p=>Cd(u,p)):Hn.isSubjectReference(u)?a=c.some(p=>Pp(t,u,p,r)):Ve.isObject(u)?a=c.length>0:a=!1}}if(!a&&r.requireAll)return!1;s=s||a}return i||s}function kT(t,e){const n=t.uniqueEmbeds[t.graph],r=n[e],i=r.parent,s=r.property,o={"@id":e};if(Ve.isArray(i)){for(let c=0;c<i.length;++c)if(on.compareValues(i[c],o)){i[c]=o;break}}else{const c=Ve.isArray(i[s]);on.removeValue(i,s,o,{propertyIsArray:c}),on.addValue(i,s,o,{propertyIsArray:c})}const a=c=>{const l=Object.keys(n);for(const u of l)u in n&&Ve.isObject(n[u].parent)&&n[u].parent["@id"]===c&&(delete n[u],a(u))};a(e)}/**
 * Removes the @preserve keywords from expanded result of framing.
 *
 * @param input the framed, framed output.
 * @param options the framing options used.
 *
 * @return the resulting output.
 */function xc(t,e){if(Ve.isArray(t))return t.map(n=>xc(n,e));if(Ve.isObject(t)){// remove @preserve
if("@preserve"in t)return t["@preserve"][0];if(Hn.isValue(t))return t;if(Hn.isList(t))return t["@list"]=xc(t["@list"],e),t;if("@id"in t){const n=t["@id"];if(e.link.hasOwnProperty(n)){const r=e.link[n].indexOf(t);if(r!==-1)return e.link[n][r];e.link[n].push(t)}else e.link[n]=[t]}for(const n in t){if(n==="@id"&&e.bnodesToClear.includes(t[n])){delete t["@id"];continue}t[n]=xc(t[n],e)}}return t}function Zi(t,e,n){Ve.isObject(t)?on.addValue(t,e,n,{propertyIsArray:!0}):t.push(n)}function Pp(t,e,n,r){if(!("@id"in n))return!1;const i=t.subjects[n["@id"]];return i&&u_(t,i,e,r)}function Cd(t,e){const n=e["@value"],r=e["@type"],i=e["@language"],s=t["@value"]?Ve.isArray(t["@value"])?t["@value"]:[t["@value"]]:[],o=t["@type"]?Ve.isArray(t["@type"])?t["@type"]:[t["@type"]]:[],a=t["@language"]?Ve.isArray(t["@language"])?t["@language"]:[t["@language"]]:[];return s.length===0&&o.length===0&&a.length===0?!0:!(!(s.includes(n)||Ve.isEmptyObject(s[0]))||!(!r&&o.length===0||o.includes(r)||r&&Ve.isEmptyObject(o[0]))||!(!i&&a.length===0||a.includes(i)||i&&Ve.isEmptyObject(a[0])))}const Ff=Ur,{isArray:mi,isObject:xi,isString:d_,isUndefined:ju}=sr,{isList:Ld,isValue:Qr,isGraph:f_,isSimpleGraph:Up,isSubjectReference:Mu}=di,{expandIri:h_,getContextValue:En,isKeyword:p_,process:Cu,processingMode:ST}=Es,{removeBase:Fp,prependBase:AT}=Ui,{addValue:Cn,asArray:ac,compareShortestLeast:$T}=wr,we={};var jT=we;we.compact=async({activeCtx:t,activeProperty:e=null,element:n,options:r={},compactionMap:i=()=>{}})=>{if(mi(n)){let o=[];for(let a=0;a<n.length;++a){let c=await we.compact({activeCtx:t,activeProperty:e,element:n[a],options:r,compactionMap:i});c===null&&(c=await i({unmappedValue:n[a],activeCtx:t,activeProperty:e,parent:n,index:a,options:r}),c===void 0)||o.push(c)}return r.compactArrays&&o.length===1&&(En(t,e,"@container")||[]).length===0&&(o=o[0]),o}const s=En(t,e,"@context");if(ju(s)||(t=await Cu({activeCtx:t,localCtx:s,propagate:!0,overrideProtected:!0,options:r})),xi(n)){if(r.link&&"@id"in n&&r.link.hasOwnProperty(n["@id"])){const h=r.link[n["@id"]];for(let m=0;m<h.length;++m)if(h[m].expanded===n)return h[m].compacted}if(Qr(n)||Mu(n)){const h=we.compactValue({activeCtx:t,activeProperty:e,value:n,options:r});return r.link&&Mu(n)&&(r.link.hasOwnProperty(n["@id"])||(r.link[n["@id"]]=[]),r.link[n["@id"]].push({expanded:n,compacted:h})),h}if(Ld(n)&&(En(t,e,"@container")||[]).includes("@list"))return we.compact({activeCtx:t,activeProperty:e,element:n["@list"],options:r,compactionMap:i});const o=e==="@reverse",a={},c=t;!Qr(n)&&!Mu(n)&&(t=t.revertToPreviousContext());const l=En(c,e,"@context");ju(l)||(t=await Cu({activeCtx:t,localCtx:l,propagate:!0,overrideProtected:!0,options:r})),r.link&&"@id"in n&&(r.link.hasOwnProperty(n["@id"])||(r.link[n["@id"]]=[]),r.link[n["@id"]].push({expanded:n,compacted:a}));let u=n["@type"]||[];u.length>1&&(u=Array.from(u).sort());const d=t;for(const h of u){const m=we.compactIri({activeCtx:d,iri:h,relativeTo:{vocab:!0}}),_=En(c,m,"@context");ju(_)||(t=await Cu({activeCtx:t,localCtx:_,options:r,propagate:!1}))}const p=Object.keys(n).sort();for(const h of p){const m=n[h];if(h==="@id"){let _=ac(m).map(v=>we.compactIri({activeCtx:t,iri:v,relativeTo:{vocab:!1},base:r.base}));_.length===1&&(_=_[0]);const b=we.compactIri({activeCtx:t,iri:"@id",relativeTo:{vocab:!0}});a[b]=_;continue}if(h==="@type"){let _=ac(m).map(N=>we.compactIri({activeCtx:c,iri:N,relativeTo:{vocab:!0}}));_.length===1&&(_=_[0]);const b=we.compactIri({activeCtx:t,iri:"@type",relativeTo:{vocab:!0}}),x=(En(t,b,"@container")||[]).includes("@set")&&ST(t,1.1)||mi(_)&&m.length===0;Cn(a,b,_,{propertyIsArray:x});continue}if(h==="@reverse"){const _=await we.compact({activeCtx:t,activeProperty:"@reverse",element:m,options:r,compactionMap:i});for(const b in _)if(t.mappings.has(b)&&t.mappings.get(b).reverse){const v=_[b],x=(En(t,b,"@container")||[]).includes("@set")||!r.compactArrays;Cn(a,b,v,{propertyIsArray:x}),delete _[b]}if(Object.keys(_).length>0){const b=we.compactIri({activeCtx:t,iri:h,relativeTo:{vocab:!0}});Cn(a,b,_)}continue}if(h==="@preserve"){const _=await we.compact({activeCtx:t,activeProperty:e,element:m,options:r,compactionMap:i});mi(_)&&_.length===0||Cn(a,h,_);continue}if(h==="@index"){if((En(t,e,"@container")||[]).includes("@index"))continue;const b=we.compactIri({activeCtx:t,iri:h,relativeTo:{vocab:!0}});Cn(a,b,m);continue}if(h!=="@graph"&&h!=="@list"&&h!=="@included"&&p_(h)){const _=we.compactIri({activeCtx:t,iri:h,relativeTo:{vocab:!0}});Cn(a,_,m);continue}if(!mi(m))throw new Ff("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(m.length===0){const _=we.compactIri({activeCtx:t,iri:h,value:m,relativeTo:{vocab:!0},reverse:o}),b=t.mappings.has(_)?t.mappings.get(_)["@nest"]:null;let v=a;b&&(Bp(t,b,r),xi(a[b])||(a[b]={}),v=a[b]),Cn(v,_,m,{propertyIsArray:!0})}for(const _ of m){const b=we.compactIri({activeCtx:t,iri:h,value:_,relativeTo:{vocab:!0},reverse:o}),v=t.mappings.has(b)?t.mappings.get(b)["@nest"]:null;let T=a;v&&(Bp(t,v,r),xi(a[v])||(a[v]={}),T=a[v]);const x=En(t,b,"@container")||[],N=f_(_),D=Ld(_);let O;D?O=_["@list"]:N&&(O=_["@graph"]);let R=await we.compact({activeCtx:t,activeProperty:b,element:D||N?O:_,options:r,compactionMap:i});if(D)if(mi(R)||(R=[R]),!x.includes("@list"))R={[we.compactIri({activeCtx:t,iri:"@list",relativeTo:{vocab:!0}})]:R},"@index"in _&&(R[we.compactIri({activeCtx:t,iri:"@index",relativeTo:{vocab:!0}})]=_["@index"]);else{Cn(T,b,R,{valueIsArray:!0,allowDuplicate:!0});continue}if(N)if(x.includes("@graph")&&(x.includes("@id")||x.includes("@index")&&Up(_))){let j;T.hasOwnProperty(b)?j=T[b]:T[b]=j={};const M=(x.includes("@id")?_["@id"]:_["@index"])||we.compactIri({activeCtx:t,iri:"@none",relativeTo:{vocab:!0}});Cn(j,M,R,{propertyIsArray:!r.compactArrays||x.includes("@set")})}else x.includes("@graph")&&Up(_)?(mi(R)&&R.length>1&&(R={"@included":R}),Cn(T,b,R,{propertyIsArray:!r.compactArrays||x.includes("@set")})):(mi(R)&&R.length===1&&r.compactArrays&&(R=R[0]),R={[we.compactIri({activeCtx:t,iri:"@graph",relativeTo:{vocab:!0}})]:R},"@id"in _&&(R[we.compactIri({activeCtx:t,iri:"@id",relativeTo:{vocab:!0}})]=_["@id"]),"@index"in _&&(R[we.compactIri({activeCtx:t,iri:"@index",relativeTo:{vocab:!0}})]=_["@index"]),Cn(T,b,R,{propertyIsArray:!r.compactArrays||x.includes("@set")}));else if(x.includes("@language")||x.includes("@index")||x.includes("@id")||x.includes("@type")){let j;T.hasOwnProperty(b)?j=T[b]:T[b]=j={};let M;if(x.includes("@language"))Qr(R)&&(R=R["@value"]),M=_["@language"];else if(x.includes("@index")){const z=En(t,b,"@index")||"@index",L=we.compactIri({activeCtx:t,iri:z,relativeTo:{vocab:!0}});if(z==="@index")M=_["@index"],delete R[L];else{let G;if([M,...G]=ac(R[z]||[]),!d_(M))M=null;else switch(G.length){case 0:delete R[z];break;case 1:R[z]=G[0];break;default:R[z]=G;break}}}else if(x.includes("@id")){const z=we.compactIri({activeCtx:t,iri:"@id",relativeTo:{vocab:!0}});M=R[z],delete R[z]}else if(x.includes("@type")){const z=we.compactIri({activeCtx:t,iri:"@type",relativeTo:{vocab:!0}});let L;switch([M,...L]=ac(R[z]||[]),L.length){case 0:delete R[z];break;case 1:R[z]=L[0];break;default:R[z]=L;break}Object.keys(R).length===1&&"@id"in _&&(R=await we.compact({activeCtx:t,activeProperty:b,element:{"@id":_["@id"]},options:r,compactionMap:i}))}M||(M=we.compactIri({activeCtx:t,iri:"@none",relativeTo:{vocab:!0}})),Cn(j,M,R,{propertyIsArray:x.includes("@set")})}else{const j=!r.compactArrays||x.includes("@set")||x.includes("@list")||mi(R)&&R.length===0||h==="@list"||h==="@graph";Cn(T,b,R,{propertyIsArray:j})}}}return a}return n};we.compactIri=({activeCtx:t,iri:e,value:n=null,relativeTo:r={vocab:!1},reverse:i=!1,base:s=null})=>{if(e===null)return e;t.isPropertyTermScoped&&t.previousContext&&(t=t.previousContext);const o=t.getInverse();if(p_(e)&&e in o&&"@none"in o[e]&&"@type"in o[e]["@none"]&&"@none"in o[e]["@none"]["@type"])return o[e]["@none"]["@type"]["@none"];if(r.vocab&&e in o){const d=t["@language"]||"@none",p=[];xi(n)&&"@index"in n&&!("@graph"in n)&&p.push("@index","@index@set"),xi(n)&&"@preserve"in n&&(n=n["@preserve"][0]),f_(n)?("@index"in n&&p.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in n&&p.push("@graph@id","@graph@id@set"),p.push("@graph","@graph@set","@set"),"@index"in n||p.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in n||p.push("@graph@id","@graph@id@set")):xi(n)&&!Qr(n)&&p.push("@id","@id@set","@type","@set@type");let h="@language",m="@null";if(i)h="@type",m="@reverse",p.push("@set");else if(Ld(n)){"@index"in n||p.push("@list");const b=n["@list"];if(b.length===0)h="@any",m="@none";else{let v=b.length===0?d:null,T=null;for(let x=0;x<b.length;++x){const N=b[x];let D="@none",O="@none";if(Qr(N))if("@direction"in N){const R=(N["@language"]||"").toLowerCase(),j=N["@direction"];D=`${R}_${j}`}else"@language"in N?D=N["@language"].toLowerCase():"@type"in N?O=N["@type"]:D="@null";else O="@id";if(v===null?v=D:D!==v&&Qr(N)&&(v="@none"),T===null?T=O:O!==T&&(T="@none"),v==="@none"&&T==="@none")break}v=v||"@none",T=T||"@none",T!=="@none"?(h="@type",m=T):m=v}}else{if(Qr(n))if("@language"in n&&!("@index"in n)){p.push("@language","@language@set"),m=n["@language"];const b=n["@direction"];b&&(m=`${m}_${b}`)}else"@direction"in n&&!("@index"in n)?m=`_${n["@direction"]}`:"@type"in n&&(h="@type",m=n["@type"]);else h="@type",m="@id";p.push("@set")}p.push("@none"),xi(n)&&!("@index"in n)&&p.push("@index","@index@set"),Qr(n)&&Object.keys(n).length===1&&p.push("@language","@language@set");const _=MT(t,e,n,p,h,m);if(_!==null)return _}if(r.vocab&&"@vocab"in t){const d=t["@vocab"];if(e.indexOf(d)===0&&e!==d){const p=e.substr(d.length);if(!t.mappings.has(p))return p}}let a=null;const c=[];let l=t.fastCurieMap;const u=e.length-1;for(let d=0;d<u&&e[d]in l;++d)l=l[e[d]],""in l&&c.push(l[""][0]);for(let d=c.length-1;d>=0;--d){const p=c[d],h=p.terms;for(const m of h){const _=m+":"+e.substr(p.iri.length);t.mappings.get(m)._prefix&&(!t.mappings.has(_)||n===null&&t.mappings.get(_)["@id"]===e)&&(a===null||$T(_,a)<0)&&(a=_)}}if(a!==null)return a;for(const[d,p]of t.mappings)if(p&&p._prefix&&e.startsWith(d+":"))throw new Ff(`Absolute IRI "${e}" confused with prefix "${d}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:t});return r.vocab?e:"@base"in t?t["@base"]?Fp(AT(s,t["@base"]),e):e:Fp(s,e)};we.compactValue=({activeCtx:t,activeProperty:e,value:n,options:r})=>{if(Qr(n)){const a=En(t,e,"@type"),c=En(t,e,"@language"),l=En(t,e,"@direction"),u=En(t,e,"@container")||[],d="@index"in n&&!u.includes("@index");if(!d&&a!=="@none"&&(n["@type"]===a||"@language"in n&&n["@language"]===c&&"@direction"in n&&n["@direction"]===l||"@language"in n&&n["@language"]===c||"@direction"in n&&n["@direction"]===l))return n["@value"];const p=Object.keys(n).length,h=p===1||p===2&&"@index"in n&&!d,m="@language"in t,_=d_(n["@value"]),b=t.mappings.has(e)&&t.mappings.get(e)["@language"]===null;if(h&&a!=="@none"&&(!m||!_||b))return n["@value"];const v={};return d&&(v[we.compactIri({activeCtx:t,iri:"@index",relativeTo:{vocab:!0}})]=n["@index"]),"@type"in n?v[we.compactIri({activeCtx:t,iri:"@type",relativeTo:{vocab:!0}})]=we.compactIri({activeCtx:t,iri:n["@type"],relativeTo:{vocab:!0}}):"@language"in n&&(v[we.compactIri({activeCtx:t,iri:"@language",relativeTo:{vocab:!0}})]=n["@language"]),"@direction"in n&&(v[we.compactIri({activeCtx:t,iri:"@direction",relativeTo:{vocab:!0}})]=n["@direction"]),v[we.compactIri({activeCtx:t,iri:"@value",relativeTo:{vocab:!0}})]=n["@value"],v}const i=h_(t,e,{vocab:!0},r),s=En(t,e,"@type"),o=we.compactIri({activeCtx:t,iri:n["@id"],relativeTo:{vocab:s==="@vocab"},base:r.base});return s==="@id"||s==="@vocab"||i==="@graph"?o:{[we.compactIri({activeCtx:t,iri:"@id",relativeTo:{vocab:!0}})]:o}};function MT(t,e,n,r,i,s){s===null&&(s="@null");const o=[];if((s==="@id"||s==="@reverse")&&xi(n)&&"@id"in n){s==="@reverse"&&o.push("@reverse");const c=we.compactIri({activeCtx:t,iri:n["@id"],relativeTo:{vocab:!0}});t.mappings.has(c)&&t.mappings.get(c)&&t.mappings.get(c)["@id"]===n["@id"]?o.push.apply(o,["@vocab","@id"]):o.push.apply(o,["@id","@vocab"])}else{o.push(s);const c=o.find(l=>l.includes("_"));c&&o.push(c.replace(/^[^_]+_/,"_"))}o.push("@none");const a=t.inverse[e];for(const c of r){if(!(c in a))continue;const l=a[c][i];for(const u of o)if(u in l)return l[u]}return null}function Bp(t,e,n){if(h_(t,e,{vocab:!0},n)!=="@nest")throw new Ff("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}var CT=t=>{class e{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(e,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(e.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:e}),e.compact=function(n,r){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):t.compact(n,r)},e.expand=function(n){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):t.expand(n)},e.flatten=function(n){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):t.flatten(n)},e};/**
 * A JavaScript implementation of the JSON-LD API.
 *
 * @author Dave Longley
 *
 * @license BSD 3-Clause License
 * Copyright (c) 2011-2019 Digital Bazaar, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * Redistributions in binary form must reproduce the above copyright
 * notice, this list of conditions and the following disclaimer in the
 * documentation and/or other materials provided with the distribution.
 *
 * Neither the name of the Digital Bazaar, Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
 * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
 * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
 * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
 * TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */const qp=Lf,Yp=Iv,_i=wr,zr=Lv,Lu=_i.IdentifierIssuer,gi=Ur,LT=Jg,cc=Uv,{expand:PT}=Hv,{flatten:UT}=eT,{fromRDF:FT}=oT,{toRDF:BT}=TT,{frameMergedOrDefault:qT,cleanupNull:YT}=RT,{isArray:Fs,isObject:Qi,isString:vr}=sr,{isSubjectReference:zT}=di,{expandIri:GT,getInitialContext:lc,process:zp,processingMode:Pu}=Es,{compact:WT,compactIri:VT}=jT,{createNodeMap:HT,createMergedNodeMap:ZT,mergeNodeMaps:QT}=El,m_=function(t){const e={},r=new LT({max:100});t.compact=async function(s,o,a){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(o===null)throw new gi("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(s===null)return null;a=i(a,{base:vr(s)?s:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new Lu("_:b"),contextResolver:new zr({sharedCache:r})}),a.link&&(a.skipExpansion=!0),a.compactToRelative||delete a.base;let c;a.skipExpansion?c=s:c=await t.expand(s,a);const l=await t.processContext(lc(a),o,a);let u=await WT({activeCtx:l,element:c,options:a,compactionMap:a.compactionMap});a.compactArrays&&!a.graph&&Fs(u)?u.length===1?u=u[0]:u.length===0&&(u={}):a.graph&&Qi(u)&&(u=[u]),Qi(o)&&"@context"in o&&(o=o["@context"]),o=_i.clone(o),Fs(o)||(o=[o]);const d=o;o=[];for(let h=0;h<d.length;++h)(!Qi(d[h])||Object.keys(d[h]).length>0)&&o.push(d[h]);const p=o.length>0;if(o.length===1&&(o=o[0]),Fs(u)){const h=VT({activeCtx:l,iri:"@graph",relativeTo:{vocab:!0}}),m=u;u={},p&&(u["@context"]=o),u[h]=m}else if(Qi(u)&&p){const h=u;u={"@context":o};for(const m in h)u[m]=h[m]}return u},t.expand=async function(s,o){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");o=i(o,{keepFreeFloatingNodes:!1,contextResolver:new zr({sharedCache:r})}),o.expansionMap===!1&&(o.expansionMap=void 0);const a={},c=[];if("expandContext"in o){const p=_i.clone(o.expandContext);Qi(p)&&"@context"in p?a.expandContext=p:a.expandContext={"@context":p},c.push(a.expandContext)}let l;if(!vr(s))a.input=_i.clone(s);else{const p=await t.get(s,o);l=p.documentUrl,a.input=p.document,p.contextUrl&&(a.remoteContext={"@context":p.contextUrl},c.push(a.remoteContext))}"base"in o||(o.base=l||"");let u=lc(o);for(const p of c)u=await zp({activeCtx:u,localCtx:p,options:o});let d=await PT({activeCtx:u,element:a.input,options:o,expansionMap:o.expansionMap});return Qi(d)&&"@graph"in d&&Object.keys(d).length===1?d=d["@graph"]:d===null&&(d=[]),Fs(d)||(d=[d]),d},t.flatten=async function(s,o,a){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");typeof o=="function"?o=null:o=o||null,a=i(a,{base:vr(s)?s:"",contextResolver:new zr({sharedCache:r})});const c=await t.expand(s,a),l=UT(c);return o===null?l:(a.graph=!0,a.skipExpansion=!0,await t.compact(l,o,a))},t.frame=async function(s,o,a){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(a=i(a,{base:vr(s)?s:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new zr({sharedCache:r})}),vr(o)){const b=await t.get(o,a);if(o=b.document,b.contextUrl){let v=o["@context"];v?Fs(v)?v.push(b.contextUrl):v=[v,b.contextUrl]:v=b.contextUrl,o["@context"]=v}}const c=o?o["@context"]||{}:{},l=await t.processContext(lc(a),c,a);a.hasOwnProperty("omitGraph")||(a.omitGraph=Pu(l,1.1)),a.hasOwnProperty("pruneBlankNodeIdentifiers")||(a.pruneBlankNodeIdentifiers=Pu(l,1.1));const u=await t.expand(s,a),d={...a};d.isFrame=!0,d.keepFreeFloatingNodes=!0;const p=await t.expand(o,d),h=Object.keys(o).map(b=>GT(l,b,{vocab:!0}));d.merged=!h.includes("@graph"),d.is11=Pu(l,1.1);const m=qT(u,p,d);d.graph=!a.omitGraph,d.skipExpansion=!0,d.link={},d.framing=!0;let _=await t.compact(m,c,d);return d.link={},_=YT(_,d),_},t.link=async function(s,o,a){const c={};return o&&(c["@context"]=o),c["@embed"]="@link",t.frame(s,c,a)},t.normalize=t.canonize=async function(s,o){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if(o=i(o,{base:vr(s)?s:"",algorithm:"URDNA2015",skipExpansion:!1,contextResolver:new zr({sharedCache:r})}),"inputFormat"in o){if(o.inputFormat!=="application/n-quads"&&o.inputFormat!=="application/nquads")throw new gi("Unknown canonicalization input format.","jsonld.CanonizeError");const l=cc.parse(s);return qp.canonize(l,o)}const a={...o};delete a.format,a.produceGeneralizedRdf=!1;const c=await t.toRDF(s,a);return qp.canonize(c,o)},t.fromRDF=async function(s,o){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");o=i(o,{format:vr(s)?"application/n-quads":void 0});const{format:a}=o;let{rdfParser:c}=o;if(a){if(c=c||e[a],!c)throw new gi("Unknown input format.","jsonld.UnknownFormat",{format:a})}else c=()=>s;const l=await c(s);return FT(l,o)},t.toRDF=async function(s,o){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");o=i(o,{base:vr(s)?s:"",skipExpansion:!1,contextResolver:new zr({sharedCache:r})});let a;o.skipExpansion?a=s:a=await t.expand(s,o);const c=BT(a,o);if(o.format){if(o.format==="application/n-quads"||o.format==="application/nquads")return cc.serialize(c);throw new gi("Unknown output format.","jsonld.UnknownFormat",{format:o.format})}return c},t.createNodeMap=async function(s,o){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");o=i(o,{base:vr(s)?s:"",contextResolver:new zr({sharedCache:r})});const a=await t.expand(s,o);return ZT(a,o)},t.merge=async function(s,o,a){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!Fs(s))throw new TypeError('Could not merge, "docs" must be an array.');typeof o=="function"?o=null:o=o||null,a=i(a,{contextResolver:new zr({sharedCache:r})});const c=await Promise.all(s.map(b=>{const v={...a};return t.expand(b,v)}));let l=!0;"mergeNodes"in a&&(l=a.mergeNodes);const u=a.issuer||new Lu("_:b"),d={"@default":{}};for(let b=0;b<c.length;++b){const v=_i.relabelBlankNodes(c[b],{issuer:new Lu("_:b"+b+"-")}),T=l||b===0?d:{"@default":{}};if(HT(v,T,"@default",u),T!==d)for(const x in T){const N=T[x];if(!(x in d)){d[x]=N;continue}const D=d[x];for(const O in N)O in D||(D[O]=N[O])}}const p=QT(d),h=[],m=Object.keys(p).sort();for(let b=0;b<m.length;++b){const v=p[m[b]];zT(v)||h.push(v)}return o===null?h:(a.graph=!0,a.skipExpansion=!0,await t.compact(h,o,a))},Object.defineProperty(t,"documentLoader",{get:()=>t._documentLoader,set:s=>t._documentLoader=s}),t.documentLoader=async s=>{throw new gi("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:s})},t.get=async function(s,o){let a;typeof o.documentLoader=="function"?a=o.documentLoader:a=t.documentLoader;const c=await a(s);try{if(!c.document)throw new gi("No remote document found at the given URL.","jsonld.NullRemoteDocument");vr(c.document)&&(c.document=JSON.parse(c.document))}catch(l){throw new gi("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:l,remoteDoc:c})}return c},t.processContext=async function(s,o,a){return a=i(a,{base:"",contextResolver:new zr({sharedCache:r})}),o===null?lc(a):(o=_i.clone(o),Qi(o)&&"@context"in o||(o={"@context":o}),zp({activeCtx:s,localCtx:o,options:a}))},t.getContextValue=Es.getContextValue,t.documentLoaders={},t.useDocumentLoader=function(s){if(!(s in t.documentLoaders))throw new gi('Unknown document loader type: "'+s+'"',"jsonld.UnknownDocumentLoader",{type:s});t.documentLoader=t.documentLoaders[s].apply(t,Array.prototype.slice.call(arguments,1))},t.registerRDFParser=function(s,o){e[s]=o},t.unregisterRDFParser=function(s){delete e[s]},t.registerRDFParser("application/n-quads",cc.parse),t.registerRDFParser("application/nquads",cc.parse),t.url=Ui,t.util=_i,Object.assign(t,_i),t.promises=t,t.RequestQueue=Xg,t.JsonLdProcessor=CT(t),Yp.setupGlobals(t),Yp.setupDocumentLoaders(t);function i(s,{documentLoader:o=t.documentLoader,...a}){return Object.assign({},{documentLoader:o},a,s)}return t},g_=function(){return m_(function(){return g_()})};m_(g_);const Po="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Uo="http://www.w3.org/2001/XMLSchema#",Uu="http://www.w3.org/2000/10/swap/";var _n={xsd:{decimal:`${Uo}decimal`,boolean:`${Uo}boolean`,double:`${Uo}double`,integer:`${Uo}integer`,string:`${Uo}string`},rdf:{type:`${Po}type`,nil:`${Po}nil`,first:`${Po}first`,rest:`${Po}rest`,langString:`${Po}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${Uu}reify#forSome`,forAll:`${Uu}reify#forAll`},log:{implies:`${Uu}log#implies`}};/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let Gp;var XT=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window!="undefined"?window:Ni):t=>(Gp||(Gp=Promise.resolve())).then(t).catch(e=>setTimeout(()=>{throw e},0)),KT=XT;const{xsd:uc}=_n,JT=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,Wp={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},eE=/[\x00-\x20<>\\"\{\}\|\^\`]/,tE={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},nE=/$0^/;class rE{constructor(e){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,e=e||{},this._lineMode=!!e.lineMode){this._n3Mode=!1;for(const n in this)!(n in tE)&&this[n]instanceof RegExp&&(this[n]=nE)}else this._n3Mode=e.n3!==!1;this._comments=!!e.comments,this._literalClosingPos=0}_tokenizeToEnd(e,n){let r=this._input,i=r.length;for(;;){let a,c;for(;a=this._newline.exec(r);)this._comments&&(c=this._comment.exec(a[0]))&&s("comment",c[1],"",this._line,a[0].length),r=r.substr(a[0].length,r.length),i=r.length,this._line++;if(!a&&(a=this._whitespace.exec(r))&&(r=r.substr(a[0].length,r.length)),this._endOfFile.test(r))return n&&(this._comments&&(c=this._comment.exec(r))&&s("comment",c[1],"",this._line,r.length),r=null,s("eof","","",this._line,0)),this._input=r;const l=this._line,u=r[0];let d="",p="",h="",m=null,_=0,b=!1;switch(u){case"^":if(r.length<3)break;if(r[1]==="^"){if(this._previousMarker="^^",r=r.substr(2),r[0]!=="<"){b=!0;break}}else{this._n3Mode&&(_=1,d="^");break}case"<":if(m=this._unescapedIri.exec(r))d="IRI",p=m[1];else if(m=this._iri.exec(r)){if(p=this._unescape(m[1]),p===null||eE.test(p))return o(this);d="IRI"}else r.length>1&&r[1]==="<"?(d="<<",_=2):this._n3Mode&&r.length>1&&r[1]==="="&&(d="inverse",_=2,p=">");break;case">":r.length>1&&r[1]===">"&&(d=">>",_=2);break;case"_":((m=this._blank.exec(r))||n&&(m=this._blank.exec(`${r} `)))&&(d="blank",h="_",p=m[1]);break;case'"':if(m=this._simpleQuotedString.exec(r))p=m[1];else if({value:p,matchLength:_}=this._parseLiteral(r),p===null)return o(this);(m!==null||_!==0)&&(d="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(m=this._simpleApostropheString.exec(r))p=m[1];else if({value:p,matchLength:_}=this._parseLiteral(r),p===null)return o(this);(m!==null||_!==0)&&(d="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(m=this._variable.exec(r))&&(d="var",p=m[0]);break;case"@":this._previousMarker==="literal"&&(m=this._langcode.exec(r))?(d="langcode",p=m[1]):(m=this._keyword.exec(r))&&(d=m[0]);break;case".":if(r.length===1?n:r[1]<"0"||r[1]>"9"){d=".",_=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(m=this._number.exec(r)||n&&(m=this._number.exec(`${r} `)))&&(d="literal",p=m[0],h=typeof m[1]=="string"?uc.double:typeof m[2]=="string"?uc.decimal:uc.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(m=this._sparqlKeyword.exec(r))?d=m[0].toUpperCase():b=!0;break;case"f":case"t":(m=this._boolean.exec(r))?(d="literal",p=m[0],h=uc.boolean):b=!0;break;case"a":(m=this._shortPredicates.exec(r))?(d="abbreviation",p="a"):b=!0;break;case"=":this._n3Mode&&r.length>1&&(d="abbreviation",r[1]!==">"?(_=1,p="="):(_=2,p=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"{":case"}":this._lineMode||(_=1,d=u);break;default:b=!0}if(b&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(m=this._prefix.exec(r))?(d="prefix",p=m[1]||""):((m=this._prefixed.exec(r))||n&&(m=this._prefixed.exec(`${r} `)))&&(d="prefixed",h=m[1]||"",p=this._unescape(m[2]))),this._previousMarker==="^^")switch(d){case"prefixed":d="type";break;case"IRI":d="typeIRI";break;default:d=""}if(!d)return n||!/^'''|^"""/.test(r)&&/\n|\r/.test(r)?o(this):this._input=r;const v=_||m[0].length,T=s(d,p,h,l,v);this.previousToken=T,this._previousMarker=d,r=r.substr(v,r.length)}function s(a,c,l,u,d){const p=r?i-r.length:i,h=p+d,m={type:a,value:c,prefix:l,line:u,start:p,end:h};return e(null,m),m}function o(a){e(a._syntaxError(/^\S*/.exec(r)[0]))}}_unescape(e){let n=!1;const r=e.replace(JT,(i,s,o,a)=>{if(typeof s=="string")return String.fromCharCode(Number.parseInt(s,16));if(typeof o=="string"){let c=Number.parseInt(o,16);return c<=65535?String.fromCharCode(Number.parseInt(o,16)):String.fromCharCode(55296+((c-=65536)>>10),56320+(c&1023))}return a in Wp?Wp[a]:(n=!0,"")});return n?null:r}_parseLiteral(e){if(e.length>=3){const n=e.match(/^(?:"""|"|'''|'|)/)[0],r=n.length;let i=Math.max(this._literalClosingPos,r);for(;(i=e.indexOf(n,i))>0;){let s=0;for(;e[i-s-1]==="\\";)s++;if(s%2===0){const o=e.substring(r,i),a=o.split(/\r\n|\r|\n/).length-1,c=i+r;if(r===1&&a!==0||r===3&&this._lineMode)break;return this._line+=a,{value:this._unescape(o),matchLength:c}}i++}this._literalClosingPos=e.length-r+1}return{value:"",matchLength:0}}_syntaxError(e){this._input=null;const n=new Error(`Unexpected "${e}" on line ${this._line}.`);return n.context={token:void 0,line:this._line,previousToken:this.previousToken},n}_readStartingBom(e){return e.startsWith("\uFEFF")?e.substr(1):e}tokenize(e,n){if(this._line=1,typeof e=="string")if(this._input=this._readStartingBom(e),typeof n=="function")KT(()=>this._tokenizeToEnd(n,!0));else{const r=[];let i;if(this._tokenizeToEnd((s,o)=>s?i=s:r.push(o),!0),i)throw i;return r}else this._pendingBuffer=null,typeof e.setEncoding=="function"&&e.setEncoding("utf8"),e.on("data",r=>{this._input!==null&&r.length!==0&&(this._pendingBuffer&&(r=ji.Buffer.concat([this._pendingBuffer,r]),this._pendingBuffer=null),r[r.length-1]&128?this._pendingBuffer=r:(typeof this._input=="undefined"?this._input=this._readStartingBom(typeof r=="string"?r:r.toString()):this._input+=r,this._tokenizeToEnd(n,!1)))}),e.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(n,!0)}),e.on("error",n)}}function __(t){return!!t&&t.termType==="DefaultGraph"}const{rdf:iE,xsd:es}=_n;let Aa,sE=0;const w_=/^"(.*".*)(?="[^"]*$)/,oE=/^<<("(?:""|[^"])*"[^ ]*|[^ ]+) ("(?:""|[^"])*"[^ ]*|[^ ]+) ("(?:""|[^"])*"[^ ]*|[^ ]+) ?("(?:""|[^"])*"[^ ]*|[^ ]+)?>>$/,Pd={namedNode:dE,blankNode:fE,variable:pE,literal:hE,defaultGraph:mE,quad:Vp,triple:Vp};var Bf=Pd;class Fr{constructor(e){this.id=e}get value(){return this.id}equals(e){return e instanceof Fr?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}class y_ extends Fr{get termType(){return"NamedNode"}}class Ks extends Fr{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const e=this.id;let n=e.lastIndexOf('"')+1;return n<e.length&&e[n++]==="@"?e.substr(n).toLowerCase():""}get datatype(){return new y_(this.datatypeString)}get datatypeString(){const e=this.id,n=e.lastIndexOf('"')+1,r=n<e.length?e[n]:"";return r==="^"?e.substr(n+2):r!=="@"?es.string:iE.langString}equals(e){return e instanceof Ks?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}}class aE extends Fr{constructor(e){super(`_:${e}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}}class cE extends Fr{constructor(e){super(`?${e}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}}class lE extends Fr{constructor(){return super(""),Aa||this}get termType(){return"DefaultGraph"}equals(e){return this===e||!!e&&this.termType===e.termType}}Aa=new lE;function Xr(t,e){if(e=e||Pd,!t)return e.defaultGraph();switch(t[0]){case"?":return e.variable(t.substr(1));case"_":return e.blankNode(t.substr(2));case'"':if(e===Pd)return new Ks(t);if(t[t.length-1]==='"')return e.literal(t.substr(1,t.length-2));const n=t.lastIndexOf('"',t.length-1);return e.literal(t.substr(1,n-1),t[n+1]==="@"?t.substr(n+2):e.namedNode(t.substr(n+3)));case"<":const r=oE.exec(t);return e.quad(Xr(dc(r[1]),e),Xr(dc(r[2]),e),Xr(dc(r[3]),e),r[4]&&Xr(dc(r[4]),e));default:return e.namedNode(t)}}function Ce(t){if(typeof t=="string")return t;if(t instanceof Fr&&t.termType!=="Quad")return t.id;if(!t)return Aa.id;switch(t.termType){case"NamedNode":return t.value;case"BlankNode":return`_:${t.value}`;case"Variable":return`?${t.value}`;case"DefaultGraph":return"";case"Literal":return`"${t.value}"${t.language?`@${t.language}`:t.datatype&&t.datatype.value!==es.string?`^^${t.datatype.value}`:""}`;case"Quad":return`<<${Fu(Ce(t.subject))} ${Fu(Ce(t.predicate))} ${Fu(Ce(t.object))}${__(t.graph)?"":` ${Ce(t.graph)}`}>>`;default:throw new Error(`Unexpected termType: ${t.termType}`)}}class uE extends Fr{constructor(e,n,r,i){super(""),this._subject=e,this._predicate=n,this._object=r,this._graph=i||Aa}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(e){return!!e&&this._subject.equals(e.subject)&&this._predicate.equals(e.predicate)&&this._object.equals(e.object)&&this._graph.equals(e.graph)}}function Fu(t){return t.replace(w_,(e,n)=>`"${n.replace(/"/g,'""')}`)}function dc(t){return t.replace(w_,(e,n)=>`"${n.replace(/""/g,'"')}`)}function dE(t){return new y_(t)}function fE(t){return new aE(t||`n3-${sE++}`)}function hE(t,e){if(typeof e=="string")return new Ks(`"${t}"@${e.toLowerCase()}`);let n=e?e.value:"";return n===""&&(typeof t=="boolean"?n=es.boolean:typeof t=="number"&&(Number.isFinite(t)?n=Number.isInteger(t)?es.integer:es.double:(n=es.double,Number.isNaN(t)||(t=t>0?"INF":"-INF")))),n===""||n===es.string?new Ks(`"${t}"`):new Ks(`"${t}"^^${n}`)}function pE(t){return new cE(t)}function mE(){return Aa}function Vp(t,e,n,r){return new uE(t,e,n,r)}let Hp=0;class qf{constructor(e){this._contextStack=[],this._graph=null,e=e||{},this._setBase(e.baseIRI),e.factory&&b_(this,e.factory);const n=typeof e.format=="string"?e.format.match(/\w*$/)[0].toLowerCase():"",r=/turtle/.test(n),i=/trig/.test(n),s=/triple/.test(n),o=/quad/.test(n),a=this._n3Mode=/n3/.test(n),c=s||o;(this._supportsNamedGraphs=!(r||a))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(r||i||s||a),this._supportsRDFStar=n===""||/star|\*$/.test(n),c&&(this._resolveRelativeIRI=l=>null),this._blankNodePrefix=typeof e.blankNodePrefix!="string"?"":e.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=e.lexer||new rE({lineMode:c,n3:a}),this._explicitQuantifiers=!!e.explicitQuantifiers}static _resetBlankNodePrefix(){Hp=0}_setBase(e){if(!e)this._base="",this._basePath="";else{const n=e.indexOf("#");n>=0&&(e=e.substr(0,n)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}}_saveContext(e,n,r,i,s){const o=this._n3Mode;this._contextStack.push({type:e,subject:r,predicate:i,object:s,graph:n,inverse:o?this._inversePredicate:!1,blankPrefix:o?this._prefixes._:"",quantified:o?this._quantified:null}),o&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.id.substr(2)}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(e,n){const r=this._contextStack.pop();if(!r||r.type!==e)return this._error(`Unexpected ${n.type}`,n);this._subject=r.subject,this._predicate=r.predicate,this._object=r.object,this._graph=r.graph,this._n3Mode&&(this._inversePredicate=r.inverse,this._prefixes._=r.blankPrefix,this._quantified=r.quantified)}_readInTopContext(e){switch(e.type){case"eof":return this._graph!==null?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}}_readEntity(e,n){let r;switch(e.type){case"IRI":case"typeIRI":const i=this._resolveIRI(e.value);if(i===null)return this._error("Invalid IRI",e);r=this._namedNode(i);break;case"type":case"prefixed":const s=this._prefixes[e.prefix];if(s===void 0)return this._error(`Undefined prefix "${e.prefix}:"`,e);r=this._namedNode(s+e.value);break;case"blank":r=this._blankNode(this._prefixes[e.prefix]+e.value);break;case"var":r=this._variable(e.value.substr(1));break;default:return this._error(`Expected entity but got ${e.type}`,e)}return!n&&this._n3Mode&&r.id in this._quantified&&(r=this._quantified[r.id]),r}_readSubject(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',e);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",e);if(e.prefix.length===0)return this._literalValue=e.value,this._completeSubjectLiteral;this._subject=this._literal(e.value,this._namedNode(e.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if((this._subject=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(e){const n=e.type;switch(n){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${n}`,e):(this._subject=null,n==="]"?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",e);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if((this._predicate=this._readEntity(e))===void 0)return}return this._readObject}_readObject(e){switch(e.type){case"literal":if(e.prefix.length===0)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._literal(e.value,this._namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if((this._object=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(e){return e.type==="{"?this._readGraph(e):this._readPredicate(e)}_readGraph(e){return e.type!=="{"?this._error(`Expected graph but got ${e.type}`,e):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(e){return e.type==="]"?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))}_readBlankNodeTail(e){if(e.type!=="]")return this._readBlankNodePunctuation(e);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);const n=this._predicate===null;return this._restoreContext("blank",e),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:n?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}}_readListItem(e){let n=null,r=null,i=this._readListItem;const s=this._subject,o=this._contextStack,a=o[o.length-1];switch(e.type){case"[":this._saveContext("blank",this._graph,r=this._blankNode(),this.RDF_FIRST,this._subject=n=this._blankNode()),i=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,r=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",e),o.length!==0&&o[o.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(i=this._readPredicate,this._subject===this.RDF_NIL)return i}else if(i=this._getContextEndReader(),this._object===this.RDF_NIL)return i;r=this.RDF_NIL;break;case"literal":e.prefix.length===0?(this._literalValue=e.value,i=this._readListItemDataTypeOrLang):(n=this._literal(e.value,this._namedNode(e.prefix)),i=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);default:if((n=this._readEntity(e))===void 0)return}if(r===null&&(this._subject=r=this._blankNode()),s===null?a.predicate===null?a.subject=r:a.object=r:this._emit(s,this.RDF_REST,r,this._graph),n!==null){if(this._n3Mode&&(e.type==="IRI"||e.type==="prefixed"))return this._saveContext("item",this._graph,r,this.RDF_FIRST,n),this._subject=n,this._predicate=null,this._getPathReader(this._readListItem);this._emit(r,this.RDF_FIRST,n,this._graph)}return i}_readDataTypeOrLang(e){return this._completeObjectLiteral(e,!1)}_readListItemDataTypeOrLang(e){return this._completeObjectLiteral(e,!0)}_completeLiteral(e){let n=this._literal(this._literalValue);switch(e.type){case"type":case"typeIRI":const r=this._readEntity(e);if(r===void 0)return;n=this._literal(this._literalValue,r),e=null;break;case"langcode":n=this._literal(this._literalValue,e.value),e=null;break}return{token:e,literal:n}}_completeSubjectLiteral(e){return this._subject=this._completeLiteral(e).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(e,n){const r=this._completeLiteral(e);if(!!r)return this._object=r.literal,n&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),r.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(r.token))}_readFormulaTail(e){return e.type!=="}"?this._readPunctuation(e):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",e),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(e){let n,r=this._graph;const i=this._subject,s=this._inversePredicate;switch(e.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,n=this._contextStack.length?this._readSubject:this._readInTopContext,s&&(this._inversePredicate=!1);break;case";":n=this._readPredicate;break;case",":n=this._readObject;break;default:if(this._supportsQuads&&this._graph===null&&(r=this._readEntity(e))!==void 0){n=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}if(i!==null){const o=this._predicate,a=this._object;s?this._emit(a,o,i,r):this._emit(i,o,a,r)}return n}_readBlankNodePunctuation(e){let n;switch(e.type){case";":n=this._readPredicate;break;case",":n=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}return this._emit(this._subject,this._predicate,this._object,this._graph),n}_readQuadPunctuation(e){return e.type!=="."?this._error("Expected dot to follow quad",e):this._readInTopContext}_readPrefix(e){return e.type!=="prefix"?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)}_readPrefixIRI(e){if(e.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,e);const n=this._readEntity(e);return this._prefixes[this._prefix]=n.value,this._prefixCallback(this._prefix,n),this._readDeclarationPunctuation}_readBaseIRI(e){const n=e.type==="IRI"&&this._resolveIRI(e.value);return n?(this._setBase(n),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)}_readNamedGraphLabel(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}}_readNamedGraphBlankLabel(e){return e.type!=="]"?this._error("Invalid graph label",e):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):e.type!=="."?this._error("Expected declaration to end with a dot",e):this._readInTopContext}_readQuantifierList(e){let n;switch(e.type){case"IRI":case"prefixed":if((n=this._readEntity(e,!0))!==void 0)break;default:return this._error(`Unexpected ${e.type}`,e)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,n,this.QUANTIFIERS_GRAPH)):this._quantified[n.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(e){return e.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))}_getPathReader(e){return this._afterPath=e,this._readPath}_readPath(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const n=this._contextStack,r=n.length&&n[n.length-1];if(r&&r.type==="item"){const i=this._subject;this._restoreContext("item",e),this._emit(this._subject,this.RDF_FIRST,i,this._graph)}return this._afterPath(e)}}_readForwardPath(e){let n,r;const i=this._blankNode();if((r=this._readEntity(e))!==void 0)return this._predicate===null?(n=this._subject,this._subject=i):(n=this._object,this._object=i),this._emit(n,r,i,this._graph),this._readPath}_readBackwardPath(e){const n=this._blankNode();let r,i;if((r=this._readEntity(e))!==void 0)return this._predicate===null?(i=this._subject,this._subject=n):(i=this._object,this._object=n),this._emit(n,r,i,this._graph),this._readPath}_readRDFStarTailOrGraph(e){return e.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(e))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,e):this._readRDFStarTail(e)}_readRDFStarTail(e){if(e.type!==">>")return this._error(`Expected >> but got ${e.type}`,e);const n=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",e),this._subject===null?(this._subject=n,this._readPredicate):(this._object=n,this._getContextEndReader())}_getContextEndReader(){const e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(e,n,r,i){this._callback(null,this._quad(e,n,r,i||this.DEFAULTGRAPH))}_error(e,n){const r=new Error(`${e} on line ${n.line}.`);r.context={token:n,line:n.line,previousToken:this._lexer.previousToken},this._callback(r),this._callback=Bu}_resolveIRI(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)}_resolveRelativeIRI(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return(e[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?null:this._removeDotSegments(this._basePath+e)}}_removeDotSegments(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;const n=e.length;let r="",i=-1,s=-1,o=0,a="/";for(;i<n;){switch(a){case":":if(s<0&&e[++i]==="/"&&e[++i]==="/")for(;(s=i+1)<n&&e[s]!=="/";)i=s;break;case"?":case"#":i=n;break;case"/":if(e[i+1]===".")switch(a=e[++i+1],a){case"/":r+=e.substring(o,i-1),o=i+1;break;case void 0:case"?":case"#":return r+e.substring(o,i)+e.substr(i+1);case".":if(a=e[++i+1],a===void 0||a==="/"||a==="?"||a==="#"){if(r+=e.substring(o,i-2),(o=r.lastIndexOf("/"))>=s&&(r=r.substr(0,o)),a!=="/")return`${r}/${e.substr(i+1)}`;o=i+1}}}a=e[++i]}return r+e.substring(o)}parse(e,n,r){if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${Hp++}_`,this._prefixCallback=r||Bu,this._inversePredicate=!1,this._quantified=Object.create(null),!n){const i=[];let s;if(this._callback=(o,a)=>{o?s=o:a&&i.push(a)},this._lexer.tokenize(e).every(o=>this._readCallback=this._readCallback(o)),s)throw s;return i}this._callback=n,this._lexer.tokenize(e,(i,s)=>{i!==null?(this._callback(i),this._callback=Bu):this._readCallback&&(this._readCallback=this._readCallback(s))})}}function Bu(){}function b_(t,e){const n=e.namedNode;t._namedNode=n,t._blankNode=e.blankNode,t._literal=e.literal,t._variable=e.variable,t._quad=e.quad,t.DEFAULTGRAPH=e.defaultGraph(),t.RDF_FIRST=n(_n.rdf.first),t.RDF_REST=n(_n.rdf.rest),t.RDF_NIL=n(_n.rdf.nil),t.N3_FORALL=n(_n.r.forAll),t.N3_FORSOME=n(_n.r.forSome),t.ABBREVIATIONS={a:n(_n.rdf.type),"=":n(_n.owl.sameAs),">":n(_n.log.implies)},t.QUANTIFIERS_GRAPH=n("urn:n3:quantifiers")}b_(qf.prototype,Bf);const Fo=Bf.defaultGraph(),{rdf:gE,xsd:Bs}=_n,Zp=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,Qp=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,_E={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class Bo extends Fr{equals(){return!1}}class v_{constructor(e,n){if(this._prefixRegex=/$0^/,e&&typeof e.write!="function"&&(n=e,e=null),n=n||{},this._lists=n.lists,e)this._outputStream=e,this._endStream=n.end===void 0?!0:!!n.end;else{let r="";this._outputStream={write(i,s,o){r+=i,o&&o()},end:i=>{i&&i(null,r)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(n.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=Fo,this._prefixIRIs=Object.create(null),n.prefixes&&this.addPrefixes(n.prefixes),n.baseIRI&&(this._baseMatcher=new RegExp(`^${Kp(n.baseIRI)}${n.baseIRI.endsWith("/")?"":"[#?]"}`),this._baseLength=n.baseIRI.length))}get _inDefaultGraph(){return Fo.equals(this._graph)}_write(e,n){this._outputStream.write(e,"utf8",n)}_writeQuad(e,n,r,i,s){try{i.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+(Fo.equals(i)?"":`${this._encodeIriOrBlank(i)} {
`)),this._graph=i,this._subject=null),e.equals(this._subject)?n.equals(this._predicate)?this._write(`, ${this._encodeObject(r)}`,s):this._write(`;
    ${this._encodePredicate(this._predicate=n)} ${this._encodeObject(r)}`,s):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=e)} ${this._encodePredicate(this._predicate=n)} ${this._encodeObject(r)}`,s)}catch(o){s&&s(o)}}_writeQuadLine(e,n,r,i,s){delete this._prefixMatch,this._write(this.quadToString(e,n,r,i),s)}quadToString(e,n,r,i){return`${this._encodeSubject(e)} ${this._encodeIriOrBlank(n)} ${this._encodeObject(r)}${i&&i.value?` ${this._encodeIriOrBlank(i)} .
`:` .
`}`}quadsToString(e){return e.map(n=>this.quadToString(n.subject,n.predicate,n.object,n.graph)).join("")}_encodeSubject(e){return e.termType==="Quad"?this._encodeQuad(e):this._encodeIriOrBlank(e)}_encodeIriOrBlank(e){if(e.termType!=="NamedNode")return this._lists&&e.value in this._lists&&(e=this.list(this._lists[e.value])),"id"in e?e.id:`_:${e.value}`;let n=e.value;this._baseMatcher&&this._baseMatcher.test(n)&&(n=n.substr(this._baseLength)),Zp.test(n)&&(n=n.replace(Qp,Xp));const r=this._prefixRegex.exec(n);return r?r[1]?this._prefixIRIs[r[1]]+r[2]:n:`<${n}>`}_encodeLiteral(e){let n=e.value;if(Zp.test(n)&&(n=n.replace(Qp,Xp)),e.language)return`"${n}"@${e.language}`;if(this._lineMode){if(e.datatype.value===Bs.string)return`"${n}"`}else switch(e.datatype.value){case Bs.string:return`"${n}"`;case Bs.boolean:if(n==="true"||n==="false")return n;break;case Bs.integer:if(/^[+-]?\d+$/.test(n))return n;break;case Bs.decimal:if(/^[+-]?\d*\.\d+$/.test(n))return n;break;case Bs.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(n))return n;break}return`"${n}"^^${this._encodeIriOrBlank(e.datatype)}`}_encodePredicate(e){return e.value===gE.type?"a":this._encodeIriOrBlank(e)}_encodeObject(e){switch(e.termType){case"Quad":return this._encodeQuad(e);case"Literal":return this._encodeLiteral(e);default:return this._encodeIriOrBlank(e)}}_encodeQuad({subject:e,predicate:n,object:r,graph:i}){return`<<${this._encodeSubject(e)} ${this._encodePredicate(n)} ${this._encodeObject(r)}${__(i)?"":` ${this._encodeIriOrBlank(i)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(e,n,r,i,s){r===void 0?this._writeQuad(e.subject,e.predicate,e.object,e.graph,n):typeof i=="function"?this._writeQuad(e,n,r,Fo,i):this._writeQuad(e,n,r,i||Fo,s)}addQuads(e){for(let n=0;n<e.length;n++)this.addQuad(e[n])}addPrefix(e,n,r){const i={};i[e]=n,this.addPrefixes(i,r)}addPrefixes(e,n){if(!this._prefixIRIs)return n&&n();let r=!1;for(let i in e){let s=e[i];typeof s!="string"&&(s=s.value),r=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[s]=i+=":",this._write(`@prefix ${i} <${s}>.
`)}if(r){let i="",s="";for(const o in this._prefixIRIs)i+=i?`|${o}`:o,s+=(s?"|":"")+this._prefixIRIs[o];i=Kp(i),this._prefixRegex=new RegExp(`^(?:${s})[^/]*$|^(${i})([a-zA-Z][\\-_a-zA-Z0-9]*)$`)}this._write(r?`
`:"",n)}blank(e,n){let r=e,i,s;switch(e===void 0?r=[]:e.termType?r=[{predicate:e,object:n}]:"length"in e||(r=[e]),s=r.length){case 0:return new Bo("[]");case 1:if(i=r[0],!(i.object instanceof Bo))return new Bo(`[ ${this._encodePredicate(i.predicate)} ${this._encodeObject(i.object)} ]`);default:let o="[";for(let a=0;a<s;a++)i=r[a],i.predicate.equals(e)?o+=`, ${this._encodeObject(i.object)}`:(o+=`${(a?`;
  `:`
  `)+this._encodePredicate(i.predicate)} ${this._encodeObject(i.object)}`,e=i.predicate);return new Bo(`${o}
]`)}}list(e){const n=e&&e.length||0,r=new Array(n);for(let i=0;i<n;i++)r[i]=this._encodeObject(e[i]);return new Bo(`(${r.join(" ")})`)}end(e){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let n=e&&((r,i)=>{n=null,e(r,i)});if(this._endStream)try{return this._outputStream.end(n)}catch{}n&&n()}}function Xp(t){let e=_E[t];return e===void 0&&(t.length===1?(e=t.charCodeAt(0).toString(16),e="\\u0000".substr(0,6-e.length)+e):(e=((t.charCodeAt(0)-55296)*1024+t.charCodeAt(1)+9216).toString(16),e="\\U00000000".substr(0,10-e.length)+e)),e}function Kp(t){return t.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}var uo={exports:{}},T_=Im.exports.EventEmitter,wE={},yE=Object.freeze(Object.defineProperty({__proto__:null,default:wE},Symbol.toStringTag,{value:"Module"})),E_=bw(yE);function Jp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jp(Object(n),!0).forEach(function(r){vE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jp(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function em(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function EE(t,e,n){return e&&em(t.prototype,e),n&&em(t,n),t}var xE=ji,Ic=xE.Buffer,IE=E_,Ud=IE.inspect,NE=Ud&&Ud.custom||"inspect";function RE(t,e,n){Ic.prototype.copy.call(t,e,n)}var DE=function(){function t(){TE(this,t),this.head=null,this.tail=null,this.length=0}return EE(t,[{key:"push",value:function(n){var r={data:n,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}},{key:"unshift",value:function(n){var r={data:n,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}},{key:"shift",value:function(){if(this.length!==0){var n=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,n}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(n){if(this.length===0)return"";for(var r=this.head,i=""+r.data;r=r.next;)i+=n+r.data;return i}},{key:"concat",value:function(n){if(this.length===0)return Ic.alloc(0);for(var r=Ic.allocUnsafe(n>>>0),i=this.head,s=0;i;)RE(i.data,r,s),s+=i.data.length,i=i.next;return r}},{key:"consume",value:function(n,r){var i;return n<this.head.data.length?(i=this.head.data.slice(0,n),this.head.data=this.head.data.slice(n)):n===this.head.data.length?i=this.shift():i=r?this._getString(n):this._getBuffer(n),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(n){var r=this.head,i=1,s=r.data;for(n-=s.length;r=r.next;){var o=r.data,a=n>o.length?o.length:n;if(a===o.length?s+=o:s+=o.slice(0,n),n-=a,n===0){a===o.length?(++i,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=o.slice(a));break}++i}return this.length-=i,s}},{key:"_getBuffer",value:function(n){var r=Ic.allocUnsafe(n),i=this.head,s=1;for(i.data.copy(r),n-=i.data.length;i=i.next;){var o=i.data,a=n>o.length?o.length:n;if(o.copy(r,r.length-n,0,a),n-=a,n===0){a===o.length?(++s,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=o.slice(a));break}++s}return this.length-=s,r}},{key:NE,value:function(n,r){return Ud(this,bE({},r,{depth:0,customInspect:!1}))}}]),t}();function OE(t,e){var n=this,r=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return r||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Ue.nextTick(Fd,this,t)):Ue.nextTick(Fd,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?n._writableState?n._writableState.errorEmitted?Ue.nextTick(Nc,n):(n._writableState.errorEmitted=!0,Ue.nextTick(tm,n,s)):Ue.nextTick(tm,n,s):e?(Ue.nextTick(Nc,n),e(s)):Ue.nextTick(Nc,n)}),this)}function tm(t,e){Fd(t,e),Nc(t)}function Nc(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function kE(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Fd(t,e){t.emit("error",e)}function SE(t,e){var n=t._readableState,r=t._writableState;n&&n.autoDestroy||r&&r.autoDestroy?t.destroy(e):t.emit("error",e)}var x_={destroy:OE,undestroy:kE,errorOrDestroy:SE},xs={};function AE(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var I_={};function or(t,e,n){n||(n=Error);function r(s,o,a){return typeof e=="string"?e:e(s,o,a)}var i=function(s){AE(o,s);function o(a,c,l){return s.call(this,r(a,c,l))||this}return o}(n);i.prototype.name=n.name,i.prototype.code=t,I_[t]=i}function nm(t,e){if(Array.isArray(t)){var n=t.length;return t=t.map(function(r){return String(r)}),n>2?"one of ".concat(e," ").concat(t.slice(0,n-1).join(", "),", or ")+t[n-1]:n===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function $E(t,e,n){return t.substr(!n||n<0?0:+n,e.length)===e}function jE(t,e,n){return(n===void 0||n>t.length)&&(n=t.length),t.substring(n-e.length,n)===e}function ME(t,e,n){return typeof n!="number"&&(n=0),n+e.length>t.length?!1:t.indexOf(e,n)!==-1}or("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);or("ERR_INVALID_ARG_TYPE",function(t,e,n){var r;typeof e=="string"&&$E(e,"not ")?(r="must not be",e=e.replace(/^not /,"")):r="must be";var i;if(jE(t," argument"))i="The ".concat(t," ").concat(r," ").concat(nm(e,"type"));else{var s=ME(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(s," ").concat(r," ").concat(nm(e,"type"))}return i+=". Received type ".concat(typeof n),i},TypeError);or("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");or("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});or("ERR_STREAM_PREMATURE_CLOSE","Premature close");or("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});or("ERR_MULTIPLE_CALLBACK","Callback called multiple times");or("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");or("ERR_STREAM_WRITE_AFTER_END","write after end");or("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);or("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);or("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");xs.codes=I_;var CE=xs.codes.ERR_INVALID_OPT_VALUE;function LE(t,e,n){return t.highWaterMark!=null?t.highWaterMark:e?t[n]:null}function PE(t,e,n,r){var i=LE(e,r,n);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=r?n:"highWaterMark";throw new CE(s,i)}return Math.floor(i)}return t.objectMode?16:16*1024}var N_={getHighWaterMark:PE},ys={exports:{}};typeof Object.create=="function"?ys.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:ys.exports=function(e,n){if(n){e.super_=n;var r=function(){};r.prototype=n.prototype,e.prototype=new r,e.prototype.constructor=e}};var UE=FE;function FE(t,e){if(qu("noDeprecation"))return t;var n=!1;function r(){if(!n){if(qu("throwDeprecation"))throw new Error(e);qu("traceDeprecation")?console.trace(e):console.warn(e),n=!0}return t.apply(this,arguments)}return r}function qu(t){try{if(!Ni.localStorage)return!1}catch{return!1}var e=Ni.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}var R_=Rt;function D_(t){var e=this;this.next=null,this.entry=null,this.finish=function(){h2(e,t)}}var Js;Rt.WritableState=$a;var BE={deprecate:UE},O_=T_,xl=ji.Buffer,qE=Ni.Uint8Array||function(){};function YE(t){return xl.from(t)}function zE(t){return xl.isBuffer(t)||t instanceof qE}var Yf=x_,GE=N_,WE=GE.getHighWaterMark,Fi=xs.codes,VE=Fi.ERR_INVALID_ARG_TYPE,HE=Fi.ERR_METHOD_NOT_IMPLEMENTED,ZE=Fi.ERR_MULTIPLE_CALLBACK,QE=Fi.ERR_STREAM_CANNOT_PIPE,XE=Fi.ERR_STREAM_DESTROYED,KE=Fi.ERR_STREAM_NULL_VALUES,JE=Fi.ERR_STREAM_WRITE_AFTER_END,e2=Fi.ERR_UNKNOWN_ENCODING,fo=Yf.errorOrDestroy;ys.exports(Rt,O_);function t2(){}function $a(t,e,n){Js=Js||yo,t=t||{},typeof n!="boolean"&&(n=e instanceof Js),this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=WE(this,t,"writableHighWaterMark",n),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var r=t.decodeStrings===!1;this.decodeStrings=!r,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){c2(e,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new D_(this)}$a.prototype.getBuffer=function(){for(var e=this.bufferedRequest,n=[];e;)n.push(e),e=e.next;return n};(function(){try{Object.defineProperty($a.prototype,"buffer",{get:BE.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Rc;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Rc=Function.prototype[Symbol.hasInstance],Object.defineProperty(Rt,Symbol.hasInstance,{value:function(e){return Rc.call(this,e)?!0:this!==Rt?!1:e&&e._writableState instanceof $a}})):Rc=function(e){return e instanceof this};function Rt(t){Js=Js||yo;var e=this instanceof Js;if(!e&&!Rc.call(Rt,this))return new Rt(t);this._writableState=new $a(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),O_.call(this)}Rt.prototype.pipe=function(){fo(this,new QE)};function n2(t,e){var n=new JE;fo(t,n),Ue.nextTick(e,n)}function r2(t,e,n,r){var i;return n===null?i=new KE:typeof n!="string"&&!e.objectMode&&(i=new VE("chunk",["string","Buffer"],n)),i?(fo(t,i),Ue.nextTick(r,i),!1):!0}Rt.prototype.write=function(t,e,n){var r=this._writableState,i=!1,s=!r.objectMode&&zE(t);return s&&!xl.isBuffer(t)&&(t=YE(t)),typeof e=="function"&&(n=e,e=null),s?e="buffer":e||(e=r.defaultEncoding),typeof n!="function"&&(n=t2),r.ending?n2(this,n):(s||r2(this,r,t,n))&&(r.pendingcb++,i=s2(this,r,s,t,e,n)),i};Rt.prototype.cork=function(){this._writableState.corked++};Rt.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&k_(this,t))};Rt.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new e2(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(Rt.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function i2(t,e,n){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=xl.from(e,n)),e}Object.defineProperty(Rt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function s2(t,e,n,r,i,s){if(!n){var o=i2(e,r,i);r!==o&&(n=!0,i="buffer",r=o)}var a=e.objectMode?1:r.length;e.length+=a;var c=e.length<e.highWaterMark;if(c||(e.needDrain=!0),e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:s,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else Bd(t,e,!1,a,r,i,s);return c}function Bd(t,e,n,r,i,s,o){e.writelen=r,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new XE("write")):n?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function o2(t,e,n,r,i){--e.pendingcb,n?(Ue.nextTick(i,r),Ue.nextTick(pa,t,e),t._writableState.errorEmitted=!0,fo(t,r)):(i(r),t._writableState.errorEmitted=!0,fo(t,r),pa(t,e))}function a2(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function c2(t,e){var n=t._writableState,r=n.sync,i=n.writecb;if(typeof i!="function")throw new ZE;if(a2(n),e)o2(t,n,r,e,i);else{var s=S_(n)||t.destroyed;!s&&!n.corked&&!n.bufferProcessing&&n.bufferedRequest&&k_(t,n),r?Ue.nextTick(rm,t,n,s,i):rm(t,n,s,i)}}function rm(t,e,n,r){n||l2(t,e),e.pendingcb--,r(),pa(t,e)}function l2(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function k_(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,i=new Array(r),s=e.corkedRequestsFree;s.entry=n;for(var o=0,a=!0;n;)i[o]=n,n.isBuf||(a=!1),n=n.next,o+=1;i.allBuffers=a,Bd(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new D_(e),e.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,l=n.encoding,u=n.callback,d=e.objectMode?1:c.length;if(Bd(t,e,!1,d,c,l,u),n=n.next,e.bufferedRequestCount--,e.writing)break}n===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}Rt.prototype._write=function(t,e,n){n(new HE("_write()"))};Rt.prototype._writev=null;Rt.prototype.end=function(t,e,n){var r=this._writableState;return typeof t=="function"?(n=t,t=null,e=null):typeof e=="function"&&(n=e,e=null),t!=null&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||f2(this,r,n),this};Object.defineProperty(Rt.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function S_(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function u2(t,e){t._final(function(n){e.pendingcb--,n&&fo(t,n),e.prefinished=!0,t.emit("prefinish"),pa(t,e)})}function d2(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,Ue.nextTick(u2,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function pa(t,e){var n=S_(e);if(n&&(d2(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var r=t._readableState;(!r||r.autoDestroy&&r.endEmitted)&&t.destroy()}return n}function f2(t,e,n){e.ending=!0,pa(t,e),n&&(e.finished?Ue.nextTick(n):t.once("finish",n)),e.ended=!0,t.writable=!1}function h2(t,e,n){var r=t.entry;for(t.entry=null;r;){var i=r.callback;e.pendingcb--,i(n),r=r.next}e.corkedRequestsFree.next=t}Object.defineProperty(Rt.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}});Rt.prototype.destroy=Yf.destroy;Rt.prototype._undestroy=Yf.undestroy;Rt.prototype._destroy=function(t,e){e(t)};var p2=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e},yo=jr,A_=j_,qd=R_;ys.exports(jr,A_);for(var im=p2(qd.prototype),Yu=0;Yu<im.length;Yu++){var zu=im[Yu];jr.prototype[zu]||(jr.prototype[zu]=qd.prototype[zu])}function jr(t){if(!(this instanceof jr))return new jr(t);A_.call(this,t),qd.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",m2)))}Object.defineProperty(jr.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(jr.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(jr.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function m2(){this._writableState.ended||Ue.nextTick(g2,this)}function g2(t){t.end()}Object.defineProperty(jr.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}});var zf={},Yd={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var n=ji,r=n.Buffer;function i(o,a){for(var c in o)a[c]=o[c]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=s);function s(o,a,c){return r(o,a,c)}s.prototype=Object.create(r.prototype),i(r,s),s.from=function(o,a,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,a,c)},s.alloc=function(o,a,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var l=r(o);return a!==void 0?typeof c=="string"?l.fill(a,c):l.fill(a):l.fill(0),l},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}})(Yd,Yd.exports);var Gf=Yd.exports.Buffer,sm=Gf.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function _2(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function w2(t){var e=_2(t);if(typeof e!="string"&&(Gf.isEncoding===sm||!sm(t)))throw new Error("Unknown encoding: "+t);return e||t}zf.StringDecoder=ja;function ja(t){this.encoding=w2(t);var e;switch(this.encoding){case"utf16le":this.text=x2,this.end=I2,e=4;break;case"utf8":this.fillLast=v2,e=4;break;case"base64":this.text=N2,this.end=R2,e=3;break;default:this.write=D2,this.end=O2;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Gf.allocUnsafe(e)}ja.prototype.write=function(t){if(t.length===0)return"";var e,n;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""};ja.prototype.end=E2;ja.prototype.text=T2;ja.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function Gu(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function y2(t,e,n){var r=e.length-1;if(r<n)return 0;var i=Gu(e[r]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--r<n||i===-2?0:(i=Gu(e[r]),i>=0?(i>0&&(t.lastNeed=i-2),i):--r<n||i===-2?0:(i=Gu(e[r]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function b2(t,e,n){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function v2(t){var e=this.lastTotal-this.lastNeed,n=b2(this,t);if(n!==void 0)return n;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function T2(t,e){var n=y2(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)}function E2(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function x2(t,e){if((t.length-e)%2===0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function I2(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function N2(t,e){var n=(t.length-e)%3;return n===0?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,n===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function R2(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function D2(t){return t.toString(this.encoding)}function O2(t){return t&&t.length?this.write(t):""}var om=xs.codes.ERR_STREAM_PREMATURE_CLOSE;function k2(t){var e=!1;return function(){if(!e){e=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.apply(this,r)}}}function S2(){}function A2(t){return t.setHeader&&typeof t.abort=="function"}function $_(t,e,n){if(typeof e=="function")return $_(t,null,e);e||(e={}),n=k2(n||S2);var r=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||a()},o=t._writableState&&t._writableState.finished,a=function(){i=!1,o=!0,r||n.call(t)},c=t._readableState&&t._readableState.endEmitted,l=function(){r=!1,c=!0,i||n.call(t)},u=function(m){n.call(t,m)},d=function(){var m;if(r&&!c)return(!t._readableState||!t._readableState.ended)&&(m=new om),n.call(t,m);if(i&&!o)return(!t._writableState||!t._writableState.ended)&&(m=new om),n.call(t,m)},p=function(){t.req.on("finish",a)};return A2(t)?(t.on("complete",a),t.on("abort",d),t.req?p():t.on("request",p)):i&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",l),t.on("finish",a),e.error!==!1&&t.on("error",u),t.on("close",d),function(){t.removeListener("complete",a),t.removeListener("abort",d),t.removeListener("request",p),t.req&&t.req.removeListener("finish",a),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",a),t.removeListener("end",l),t.removeListener("error",u),t.removeListener("close",d)}}var Wf=$_,fc;function bi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var $2=Wf,vi=Symbol("lastResolve"),Xi=Symbol("lastReject"),ea=Symbol("error"),Xc=Symbol("ended"),is=Symbol("lastPromise"),Vf=Symbol("handlePromise"),ss=Symbol("stream");function Ii(t,e){return{value:t,done:e}}function j2(t){var e=t[vi];if(e!==null){var n=t[ss].read();n!==null&&(t[is]=null,t[vi]=null,t[Xi]=null,e(Ii(n,!1)))}}function M2(t){Ue.nextTick(j2,t)}function C2(t,e){return function(n,r){t.then(function(){if(e[Xc]){n(Ii(void 0,!0));return}e[Vf](n,r)},r)}}var L2=Object.getPrototypeOf(function(){}),P2=Object.setPrototypeOf((fc={get stream(){return this[ss]},next:function(){var e=this,n=this[ea];if(n!==null)return Promise.reject(n);if(this[Xc])return Promise.resolve(Ii(void 0,!0));if(this[ss].destroyed)return new Promise(function(o,a){Ue.nextTick(function(){e[ea]?a(e[ea]):o(Ii(void 0,!0))})});var r=this[is],i;if(r)i=new Promise(C2(r,this));else{var s=this[ss].read();if(s!==null)return Promise.resolve(Ii(s,!1));i=new Promise(this[Vf])}return this[is]=i,i}},bi(fc,Symbol.asyncIterator,function(){return this}),bi(fc,"return",function(){var e=this;return new Promise(function(n,r){e[ss].destroy(null,function(i){if(i){r(i);return}n(Ii(void 0,!0))})})}),fc),L2),U2=function(e){var n,r=Object.create(P2,(n={},bi(n,ss,{value:e,writable:!0}),bi(n,vi,{value:null,writable:!0}),bi(n,Xi,{value:null,writable:!0}),bi(n,ea,{value:null,writable:!0}),bi(n,Xc,{value:e._readableState.endEmitted,writable:!0}),bi(n,Vf,{value:function(s,o){var a=r[ss].read();a?(r[is]=null,r[vi]=null,r[Xi]=null,s(Ii(a,!1))):(r[vi]=s,r[Xi]=o)},writable:!0}),n));return r[is]=null,$2(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var s=r[Xi];s!==null&&(r[is]=null,r[vi]=null,r[Xi]=null,s(i)),r[ea]=i;return}var o=r[vi];o!==null&&(r[is]=null,r[vi]=null,r[Xi]=null,o(Ii(void 0,!0))),r[Xc]=!0}),e.on("readable",M2.bind(null,r)),r},F2=U2,B2=function(){throw new Error("Readable.from is not available in the browser")},j_=Se,eo;Se.ReadableState=C_;Im.exports.EventEmitter;var M_=function(e,n){return e.listeners(n).length},Ma=T_,Il=ji.Buffer,q2=Ni.Uint8Array||function(){};function Y2(t){return Il.from(t)}function z2(t){return Il.isBuffer(t)||t instanceof q2}var Wu=E_,Ee;Wu&&Wu.debuglog?Ee=Wu.debuglog("stream"):Ee=function(){};var G2=DE,Hf=x_,W2=N_,V2=W2.getHighWaterMark,Nl=xs.codes,H2=Nl.ERR_INVALID_ARG_TYPE,Z2=Nl.ERR_STREAM_PUSH_AFTER_EOF,Q2=Nl.ERR_METHOD_NOT_IMPLEMENTED,X2=Nl.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,to,Vu,Hu;ys.exports(Se,Ma);var ta=Hf.errorOrDestroy,Zu=["error","close","destroy","pause","resume"];function K2(t,e,n){if(typeof t.prependListener=="function")return t.prependListener(e,n);!t._events||!t._events[e]?t.on(e,n):Array.isArray(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]}function C_(t,e,n){eo=eo||yo,t=t||{},typeof n!="boolean"&&(n=e instanceof eo),this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=V2(this,t,"readableHighWaterMark",n),this.buffer=new G2,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(to||(to=zf.StringDecoder),this.decoder=new to(t.encoding),this.encoding=t.encoding)}function Se(t){if(eo=eo||yo,!(this instanceof Se))return new Se(t);var e=this instanceof eo;this._readableState=new C_(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),Ma.call(this)}Object.defineProperty(Se.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}});Se.prototype.destroy=Hf.destroy;Se.prototype._undestroy=Hf.undestroy;Se.prototype._destroy=function(t,e){e(t)};Se.prototype.push=function(t,e){var n=this._readableState,r;return n.objectMode?r=!0:typeof t=="string"&&(e=e||n.defaultEncoding,e!==n.encoding&&(t=Il.from(t,e),e=""),r=!0),L_(this,t,e,!1,r)};Se.prototype.unshift=function(t){return L_(this,t,null,!0,!1)};function L_(t,e,n,r,i){Ee("readableAddChunk",e);var s=t._readableState;if(e===null)s.reading=!1,tx(t,s);else{var o;if(i||(o=J2(s,e)),o)ta(t,o);else if(s.objectMode||e&&e.length>0)if(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==Il.prototype&&(e=Y2(e)),r)s.endEmitted?ta(t,new X2):Qu(t,s,e,!0);else if(s.ended)ta(t,new Z2);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!n?(e=s.decoder.write(e),s.objectMode||e.length!==0?Qu(t,s,e,!1):zd(t,s)):Qu(t,s,e,!1)}else r||(s.reading=!1,zd(t,s))}return!s.ended&&(s.length<s.highWaterMark||s.length===0)}function Qu(t,e,n,r){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",n)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&Rl(t)),zd(t,e)}function J2(t,e){var n;return!z2(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(n=new H2("chunk",["string","Buffer","Uint8Array"],e)),n}Se.prototype.isPaused=function(){return this._readableState.flowing===!1};Se.prototype.setEncoding=function(t){to||(to=zf.StringDecoder);var e=new to(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,r="";n!==null;)r+=e.write(n.data),n=n.next;return this._readableState.buffer.clear(),r!==""&&this._readableState.buffer.push(r),this._readableState.length=r.length,this};var am=1073741824;function ex(t){return t>=am?t=am:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function cm(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=ex(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}Se.prototype.read=function(t){Ee("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Ee("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?Xu(this):Rl(this),null;if(t=cm(t,e),t===0&&e.ended)return e.length===0&&Xu(this),null;var r=e.needReadable;Ee("need readable",r),(e.length===0||e.length-t<e.highWaterMark)&&(r=!0,Ee("length less than watermark",r)),e.ended||e.reading?(r=!1,Ee("reading or ended",r)):r&&(Ee("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=cm(n,e)));var i;return t>0?i=F_(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&Xu(this)),i!==null&&this.emit("data",i),i};function tx(t,e){if(Ee("onEofChunk"),!e.ended){if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,e.sync?Rl(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,P_(t)))}}function Rl(t){var e=t._readableState;Ee("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Ee("emitReadable",e.flowing),e.emittedReadable=!0,Ue.nextTick(P_,t))}function P_(t){var e=t._readableState;Ee("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,Zf(t)}function zd(t,e){e.readingMore||(e.readingMore=!0,Ue.nextTick(nx,t,e))}function nx(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var n=e.length;if(Ee("maybeReadMore read 0"),t.read(0),n===e.length)break}e.readingMore=!1}Se.prototype._read=function(t){ta(this,new Q2("_read()"))};Se.prototype.pipe=function(t,e){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=t;break;case 1:r.pipes=[r.pipes,t];break;default:r.pipes.push(t);break}r.pipesCount+=1,Ee("pipe count=%d opts=%j",r.pipesCount,e);var i=(!e||e.end!==!1)&&t!==Ue.stdout&&t!==Ue.stderr,s=i?a:_;r.endEmitted?Ue.nextTick(s):n.once("end",s),t.on("unpipe",o);function o(b,v){Ee("onunpipe"),b===n&&v&&v.hasUnpiped===!1&&(v.hasUnpiped=!0,u())}function a(){Ee("onend"),t.end()}var c=rx(n);t.on("drain",c);var l=!1;function u(){Ee("cleanup"),t.removeListener("close",h),t.removeListener("finish",m),t.removeListener("drain",c),t.removeListener("error",p),t.removeListener("unpipe",o),n.removeListener("end",a),n.removeListener("end",_),n.removeListener("data",d),l=!0,r.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&c()}n.on("data",d);function d(b){Ee("ondata");var v=t.write(b);Ee("dest.write",v),v===!1&&((r.pipesCount===1&&r.pipes===t||r.pipesCount>1&&B_(r.pipes,t)!==-1)&&!l&&(Ee("false write response, pause",r.awaitDrain),r.awaitDrain++),n.pause())}function p(b){Ee("onerror",b),_(),t.removeListener("error",p),M_(t,"error")===0&&ta(t,b)}K2(t,"error",p);function h(){t.removeListener("finish",m),_()}t.once("close",h);function m(){Ee("onfinish"),t.removeListener("close",h),_()}t.once("finish",m);function _(){Ee("unpipe"),n.unpipe(t)}return t.emit("pipe",n),r.flowing||(Ee("pipe resume"),n.resume()),t};function rx(t){return function(){var n=t._readableState;Ee("pipeOnDrain",n.awaitDrain),n.awaitDrain&&n.awaitDrain--,n.awaitDrain===0&&M_(t,"data")&&(n.flowing=!0,Zf(t))}}Se.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n),this);if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)r[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=B_(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n),this)};Se.prototype.on=function(t,e){var n=Ma.prototype.on.call(this,t,e),r=this._readableState;return t==="data"?(r.readableListening=this.listenerCount("readable")>0,r.flowing!==!1&&this.resume()):t==="readable"&&!r.endEmitted&&!r.readableListening&&(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,Ee("on readable",r.length,r.reading),r.length?Rl(this):r.reading||Ue.nextTick(ix,this)),n};Se.prototype.addListener=Se.prototype.on;Se.prototype.removeListener=function(t,e){var n=Ma.prototype.removeListener.call(this,t,e);return t==="readable"&&Ue.nextTick(U_,this),n};Se.prototype.removeAllListeners=function(t){var e=Ma.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&Ue.nextTick(U_,this),e};function U_(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function ix(t){Ee("readable nexttick read 0"),t.read(0)}Se.prototype.resume=function(){var t=this._readableState;return t.flowing||(Ee("resume"),t.flowing=!t.readableListening,sx(this,t)),t.paused=!1,this};function sx(t,e){e.resumeScheduled||(e.resumeScheduled=!0,Ue.nextTick(ox,t,e))}function ox(t,e){Ee("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),Zf(t),e.flowing&&!e.reading&&t.read(0)}Se.prototype.pause=function(){return Ee("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Ee("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Zf(t){var e=t._readableState;for(Ee("flow",e.flowing);e.flowing&&t.read()!==null;);}Se.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;t.on("end",function(){if(Ee("wrapped end"),n.decoder&&!n.ended){var o=n.decoder.end();o&&o.length&&e.push(o)}e.push(null)}),t.on("data",function(o){if(Ee("wrapped data"),n.decoder&&(o=n.decoder.write(o)),!(n.objectMode&&o==null)&&!(!n.objectMode&&(!o||!o.length))){var a=e.push(o);a||(r=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(a){return function(){return t[a].apply(t,arguments)}}(i));for(var s=0;s<Zu.length;s++)t.on(Zu[s],this.emit.bind(this,Zu[s]));return this._read=function(o){Ee("wrapped _read",o),r&&(r=!1,t.resume())},this};typeof Symbol=="function"&&(Se.prototype[Symbol.asyncIterator]=function(){return Vu===void 0&&(Vu=F2),Vu(this)});Object.defineProperty(Se.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(Se.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(Se.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});Se._fromList=F_;Object.defineProperty(Se.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function F_(t,e){if(e.length===0)return null;var n;return e.objectMode?n=e.buffer.shift():!t||t>=e.length?(e.decoder?n=e.buffer.join(""):e.buffer.length===1?n=e.buffer.first():n=e.buffer.concat(e.length),e.buffer.clear()):n=e.buffer.consume(t,e.decoder),n}function Xu(t){var e=t._readableState;Ee("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,Ue.nextTick(ax,e,t))}function ax(t,e){if(Ee("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var n=e._writableState;(!n||n.autoDestroy&&n.finished)&&e.destroy()}}typeof Symbol=="function"&&(Se.from=function(t,e){return Hu===void 0&&(Hu=B2),Hu(Se,t,e)});function B_(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}var q_=si,Dl=xs.codes,cx=Dl.ERR_METHOD_NOT_IMPLEMENTED,lx=Dl.ERR_MULTIPLE_CALLBACK,ux=Dl.ERR_TRANSFORM_ALREADY_TRANSFORMING,dx=Dl.ERR_TRANSFORM_WITH_LENGTH_0,Ol=yo;ys.exports(si,Ol);function fx(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(r===null)return this.emit("error",new lx);n.writechunk=null,n.writecb=null,e!=null&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function si(t){if(!(this instanceof si))return new si(t);Ol.call(this,t),this._transformState={afterTransform:fx.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",hx)}function hx(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,n){lm(t,e,n)}):lm(this,null,null)}si.prototype.push=function(t,e){return this._transformState.needTransform=!1,Ol.prototype.push.call(this,t,e)};si.prototype._transform=function(t,e,n){n(new cx("_transform()"))};si.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};si.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};si.prototype._destroy=function(t,e){Ol.prototype._destroy.call(this,t,function(n){e(n)})};function lm(t,e,n){if(e)return t.emit("error",e);if(n!=null&&t.push(n),t._writableState.length)throw new dx;if(t._transformState.transforming)throw new ux;return t.push(null)}var px=ma,Y_=q_;ys.exports(ma,Y_);function ma(t){if(!(this instanceof ma))return new ma(t);Y_.call(this,t)}ma.prototype._transform=function(t,e,n){n(null,t)};var Ku;function mx(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var z_=xs.codes,gx=z_.ERR_MISSING_ARGS,_x=z_.ERR_STREAM_DESTROYED;function um(t){if(t)throw t}function wx(t){return t.setHeader&&typeof t.abort=="function"}function yx(t,e,n,r){r=mx(r);var i=!1;t.on("close",function(){i=!0}),Ku===void 0&&(Ku=Wf),Ku(t,{readable:e,writable:n},function(o){if(o)return r(o);i=!0,r()});var s=!1;return function(o){if(!i&&!s){if(s=!0,wx(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();r(o||new _x("pipe"))}}}function dm(t){t()}function bx(t,e){return t.pipe(e)}function vx(t){return!t.length||typeof t[t.length-1]!="function"?um:t.pop()}function Tx(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=vx(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new gx("streams");var i,s=e.map(function(o,a){var c=a<e.length-1,l=a>0;return yx(o,c,l,function(u){i||(i=u),u&&s.forEach(dm),!c&&(s.forEach(dm),r(i))})});return e.reduce(bx)}var Ex=Tx;(function(t,e){e=t.exports=j_,e.Stream=e,e.Readable=e,e.Writable=R_,e.Duplex=yo,e.Transform=q_,e.PassThrough=px,e.finished=Wf,e.pipeline=Ex})(uo,uo.exports);class xx{constructor(e,n){this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._blankNodeIndex=0,!n&&e&&!e[0]&&(n=e,e=null),n=n||{},this._factory=n.factory||Bf,e&&this.addQuads(e)}get size(){let e=this._size;if(e!==null)return e;e=0;const n=this._graphs;let r,i;for(const s in n)for(const o in r=n[s].subjects)for(const a in i=r[o])e+=Object.keys(i[a]).length;return this._size=e}_addToIndex(e,n,r,i){const s=e[n]||(e[n]={}),o=s[r]||(s[r]={}),a=i in o;return a||(o[i]=null),!a}_removeFromIndex(e,n,r,i){const s=e[n],o=s[r];delete o[i];for(const a in o)return;delete s[r];for(const a in s)return;delete e[n]}*_findInIndex(e,n,r,i,s,o,a,c){let l,u,d;const p=this._entities,h=Xr(c,this._factory),m={subject:null,predicate:null,object:null};n&&((l=e,e={})[n]=l[n]);for(const _ in e)if(u=e[_]){m[s]=Xr(p[_],this._factory),r&&((l=u,u={})[r]=l[r]);for(const b in u)if(d=u[b]){m[o]=Xr(p[b],this._factory);const v=i?i in d?[i]:[]:Object.keys(d);for(let T=0;T<v.length;T++)m[a]=Xr(p[v[T]],this._factory),yield this._factory.quad(m.subject,m.predicate,m.object,h)}}}_loop(e,n){for(const r in e)n(r)}_loopByKey0(e,n,r){let i,s;if(i=e[n])for(s in i)r(s)}_loopByKey1(e,n,r){let i,s;for(i in e)s=e[i],s[n]&&r(i)}_loopBy2Keys(e,n,r,i){let s,o,a;if((s=e[n])&&(o=s[r]))for(a in o)i(a)}_countInIndex(e,n,r,i){let s=0,o,a,c;n&&((o=e,e={})[n]=o[n]);for(const l in e)if(a=e[l]){r&&((o=a,a={})[r]=o[r]);for(const u in a)(c=a[u])&&(i?i in c&&s++:s+=Object.keys(c).length)}return s}_getGraphs(e){if(!Ln(e))return this._graphs;const n={};return n[e]=this._graphs[e],n}_uniqueEntities(e){const n=Object.create(null);return r=>{r in n||(n[r]=!0,e(Xr(this._entities[r],this._factory)))}}add(e){return this.addQuad(e),this}addQuad(e,n,r,i){n||(i=e.graph,r=e.object,n=e.predicate,e=e.subject),e=Ce(e),n=Ce(n),r=Ce(r),i=Ce(i);let s=this._graphs[i];s||(s=this._graphs[i]={subjects:{},predicates:{},objects:{}},Object.freeze(s));const o=this._ids,a=this._entities;e=o[e]||(o[a[++this._id]=e]=this._id),n=o[n]||(o[a[++this._id]=n]=this._id),r=o[r]||(o[a[++this._id]=r]=this._id);const c=this._addToIndex(s.subjects,e,n,r);return this._addToIndex(s.predicates,n,r,e),this._addToIndex(s.objects,r,e,n),this._size=null,c}addQuads(e){for(let n=0;n<e.length;n++)this.addQuad(e[n])}delete(e){return this.removeQuad(e),this}has(e,n,r,i){return e&&e.subject&&({subject:e,predicate:n,object:r,graph:i}=e),!this.readQuads(e,n,r,i).next().done}import(e){return e.on("data",n=>{this.addQuad(n)}),e}removeQuad(e,n,r,i){n||(i=e.graph,r=e.object,n=e.predicate,e=e.subject),e=Ce(e),n=Ce(n),r=Ce(r),i=Ce(i);const s=this._ids,o=this._graphs;let a,c,l;if(!(e=s[e])||!(n=s[n])||!(r=s[r])||!(a=o[i])||!(c=a.subjects[e])||!(l=c[n])||!(r in l))return!1;this._removeFromIndex(a.subjects,e,n,r),this._removeFromIndex(a.predicates,n,r,e),this._removeFromIndex(a.objects,r,e,n),this._size!==null&&this._size--;for(e in a.subjects)return!0;return delete o[i],!0}removeQuads(e){for(let n=0;n<e.length;n++)this.removeQuad(e[n])}remove(e){return e.on("data",n=>{this.removeQuad(n)}),e}removeMatches(e,n,r,i){const s=new uo.exports.Readable({objectMode:!0});return s._read=()=>{for(const o of this.readQuads(e,n,r,i))s.push(o);s.push(null)},this.remove(s)}deleteGraph(e){return this.removeMatches(null,null,null,e)}getQuads(e,n,r,i){return[...this.readQuads(e,n,r,i)]}*readQuads(e,n,r,i){e=e&&Ce(e),n=n&&Ce(n),r=r&&Ce(r),i=i&&Ce(i);const s=this._getGraphs(i),o=this._ids;let a,c,l,u;if(!(Ln(e)&&!(c=o[e])||Ln(n)&&!(l=o[n])||Ln(r)&&!(u=o[r])))for(const d in s)(a=s[d])&&(c?u?yield*this._findInIndex(a.objects,u,c,l,"object","subject","predicate",d):yield*this._findInIndex(a.subjects,c,l,null,"subject","predicate","object",d):l?yield*this._findInIndex(a.predicates,l,u,null,"predicate","object","subject",d):u?yield*this._findInIndex(a.objects,u,null,null,"object","subject","predicate",d):yield*this._findInIndex(a.subjects,null,null,null,"subject","predicate","object",d))}match(e,n,r,i){return new Qf(this,e,n,r,i)}countQuads(e,n,r,i){e=e&&Ce(e),n=n&&Ce(n),r=r&&Ce(r),i=i&&Ce(i);const s=this._getGraphs(i),o=this._ids;let a=0,c,l,u,d;if(Ln(e)&&!(l=o[e])||Ln(n)&&!(u=o[n])||Ln(r)&&!(d=o[r]))return 0;for(const p in s)(c=s[p])&&(e?r?a+=this._countInIndex(c.objects,d,l,u):a+=this._countInIndex(c.subjects,l,u,d):n?a+=this._countInIndex(c.predicates,u,d,l):a+=this._countInIndex(c.objects,d,l,u));return a}forEach(e,n,r,i,s){this.some(o=>(e(o),!1),n,r,i,s)}every(e,n,r,i,s){let o=!1;const a=!this.some(c=>(o=!0,!e(c)),n,r,i,s);return o&&a}some(e,n,r,i,s){for(const o of this.readQuads(n,r,i,s))if(e(o))return!0;return!1}getSubjects(e,n,r){const i=[];return this.forSubjects(s=>{i.push(s)},e,n,r),i}forSubjects(e,n,r,i){n=n&&Ce(n),r=r&&Ce(r),i=i&&Ce(i);const s=this._ids,o=this._getGraphs(i);let a,c,l;if(e=this._uniqueEntities(e),!(Ln(n)&&!(c=s[n])||Ln(r)&&!(l=s[r])))for(i in o)(a=o[i])&&(c?l?this._loopBy2Keys(a.predicates,c,l,e):this._loopByKey1(a.subjects,c,e):l?this._loopByKey0(a.objects,l,e):this._loop(a.subjects,e))}getPredicates(e,n,r){const i=[];return this.forPredicates(s=>{i.push(s)},e,n,r),i}forPredicates(e,n,r,i){n=n&&Ce(n),r=r&&Ce(r),i=i&&Ce(i);const s=this._ids,o=this._getGraphs(i);let a,c,l;if(e=this._uniqueEntities(e),!(Ln(n)&&!(c=s[n])||Ln(r)&&!(l=s[r])))for(i in o)(a=o[i])&&(c?l?this._loopBy2Keys(a.objects,l,c,e):this._loopByKey0(a.subjects,c,e):l?this._loopByKey1(a.predicates,l,e):this._loop(a.predicates,e))}getObjects(e,n,r){const i=[];return this.forObjects(s=>{i.push(s)},e,n,r),i}forObjects(e,n,r,i){n=n&&Ce(n),r=r&&Ce(r),i=i&&Ce(i);const s=this._ids,o=this._getGraphs(i);let a,c,l;if(e=this._uniqueEntities(e),!(Ln(n)&&!(c=s[n])||Ln(r)&&!(l=s[r])))for(i in o)(a=o[i])&&(c?l?this._loopBy2Keys(a.subjects,c,l,e):this._loopByKey1(a.objects,c,e):l?this._loopByKey0(a.predicates,l,e):this._loop(a.objects,e))}getGraphs(e,n,r){const i=[];return this.forGraphs(s=>{i.push(s)},e,n,r),i}forGraphs(e,n,r,i){for(const s in this._graphs)this.some(o=>(e(o.graph),!0),n,r,i,s)}createBlankNode(e){let n,r;if(e)for(n=e=`_:${e}`,r=1;this._ids[n];)n=e+r++;else do n=`_:b${this._blankNodeIndex++}`;while(this._ids[n]);return this._ids[n]=++this._id,this._entities[this._id]=n,this._factory.blankNode(n.substr(2))}extractLists({remove:e=!1,ignoreErrors:n=!1}={}){const r={},i=n?()=>!0:(a,c)=>{throw new Error(`${a.value} ${c}`)},s=this.getQuads(null,_n.rdf.rest,_n.rdf.nil,null),o=e?[...s]:[];return s.forEach(a=>{const c=[];let l=!1,u,d;const p=a.graph;let h=a.subject;for(;h&&!l;){const m=this.getQuads(null,null,h,null),_=this.getQuads(h,null,null,null);let b,v=null,T=null,x=null;for(let N=0;N<_.length&&!l;N++)b=_[N],b.graph.equals(p)?u?l=i(h,"has non-list arcs out"):b.predicate.value===_n.rdf.first?v?l=i(h,"has multiple rdf:first arcs"):o.push(v=b):b.predicate.value===_n.rdf.rest?T?l=i(h,"has multiple rdf:rest arcs"):o.push(T=b):m.length?l=i(h,"can't be subject and object"):(u=b,d="subject"):l=i(h,"not confined to single graph");for(let N=0;N<m.length&&!l;++N)b=m[N],u?l=i(h,"can't have coreferences"):b.predicate.value===_n.rdf.rest?x?l=i(h,"has incoming rdf:rest arcs"):x=b:(u=b,d="object");v?c.unshift(v.object):l=i(h,"has no list head"),h=x&&x.subject}l?e=!1:u&&(r[u[d].value]=c)}),e&&this.removeQuads(o),r}*[Symbol.iterator](){yield*this.readQuads()}}function Ln(t){return typeof t=="string"||t instanceof String}class Qf extends uo.exports.Readable{constructor(e,n,r,i,s){super({objectMode:!0}),Object.assign(this,{n3Store:e,subject:n,predicate:r,object:i,graph:s})}get filtered(){if(!this._filtered){const{n3Store:e,graph:n,object:r,predicate:i,subject:s}=this,o=this._filtered=new xx({factory:e._factory});for(const a of e.readQuads(s,i,r,n))o.addQuad(a)}return this._filtered}get size(){return this.filtered.size}_read(){for(const e of this)this.push(e);this.push(null)}add(e){return this.filtered.add(e)}delete(e){return this.filtered.delete(e)}has(e){return this.filtered.has(e)}match(e,n,r,i){return new Qf(this.filtered,e,n,r,i)}*[Symbol.iterator](){yield*this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph)}}class FR extends uo.exports.Transform{constructor(e){super({decodeStrings:!0}),this._readableState.objectMode=!0;const n=new qf(e);let r,i;n.parse({on:(s,o)=>{switch(s){case"data":r=o;break;case"end":i=o;break}}},(s,o)=>{s&&this.emit("error",s)||o&&this.push(o)},(s,o)=>{this.emit("prefix",s,o)}),this._transform=(s,o,a)=>{r(s),a()},this._flush=s=>{i(),s()}}import(e){return e.on("data",n=>{this.write(n)}),e.on("end",()=>{this.end()}),e.on("error",n=>{this.emit("error",n)}),this}}class BR extends uo.exports.Transform{constructor(e){super({encoding:"utf8",writableObjectMode:!0});const n=this._writer=new v_({write:(r,i,s)=>{this.push(r),s&&s()},end:r=>{this.push(null),r&&r()}},e);this._transform=(r,i,s)=>{n.addQuad(r,s)},this._flush=r=>{n.end(r)}}import(e){return e.on("data",n=>{this.write(n)}),e.on("end",()=>{this.end()}),e.on("error",n=>{this.emit("error",n)}),e.on("prefix",(n,r)=>{this._writer.addPrefix(n,r)}),this}}function kl(t){const e=t;return typeof e=="object"&&typeof e.internal_resourceInfo=="object"}function Ca(t){const e=t;return typeof e=="object"&&typeof e.internal_resourceInfo=="object"&&typeof e.internal_resourceInfo.linkedResources=="object"}function bo(t){const e=t;return typeof e.internal_changeLog=="object"&&Array.isArray(e.internal_changeLog.additions)&&Array.isArray(e.internal_changeLog.deletions)}class La extends Error{}function me(t){return typeof t=="string"?t:t.value}const G_=async(t,e)=>{if(typeof window=="object"&&typeof require!="function")return await window.fetch(t,e);if(typeof require!="function"){const i=(await vw(()=>import("../chunks/Input-1fd2cfc8.js").then(function(s){return s.c}),["immutable/chunks/Input-1fd2cfc8.js","immutable/assets/Input-6c18d492.css","immutable/chunks/index-d13a8d77.js"])).default;return i(t,e)}let n;return n=require("cross-fetch"),await n(t,e)};function Xf(t){var e,n,r,i,s;const o=(n=(e=t.headers.get("Content-Type"))===null||e===void 0?void 0:e.split(";"))!==null&&n!==void 0?n:[],a=o.length>0&&["text/turtle","application/ld+json"].includes(o[0]),c={sourceIri:t.url,isRawData:!a,contentLocation:(r=t.headers.get("Content-Location"))!==null&&r!==void 0?r:void 0,contentType:(i=t.headers.get("Content-Type"))!==null&&i!==void 0?i:void 0,linkedResources:{},location:(s=t.headers.get("Location"))!==null&&s!==void 0?s:void 0},l=t.headers.get("Link");if(l){const d=hb.parse(l),p=d.get("rel","acl");p.length===1&&(c.aclUrl=new URL(p[0].uri,c.sourceIri).href),c.linkedResources=d.refs.reduce((h,m)=>{var _,b;return(_=h[b=m.rel])!==null&&_!==void 0||(h[b]=[]),h[m.rel].push(new URL(m.uri,c.sourceIri).href),h},c.linkedResources)}const u=t.headers.get("WAC-Allow");return u&&(c.permissions=Ix(u)),c}function Ix(t){function e(r){const i=r.split(" ");return i.includes("write")?{read:i.includes("read"),append:!0,write:!0,control:i.includes("control")}:{read:i.includes("read"),append:i.includes("append"),write:!1,control:i.includes("control")}}function n(r,i){const s=r.split(",").map(a=>a.split("=")).filter(a=>a.length===2&&a[0].trim()===i);if(s.length!==1)return"";const o=s[0][1].trim();return o.charAt(0)!=='"'||o.charAt(o.length-1)!=='"'?"":o.substring(1,o.length-1)}return{user:e(n(t,"user")),public:e(n(t,"public"))}}function Pa(t){let e;return typeof t.slice=="function"?e=Object.assign(t.slice(),Object.assign({},t)):e=Object.assign({},t),e}function Ua(t){return!t.ok}function Nx(t){return t.status===401||t.status===403}const Rn={type:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"},Rx={BasicContainer:"http://www.w3.org/ns/ldp#BasicContainer",Container:"http://www.w3.org/ns/ldp#Container",Resource:"http://www.w3.org/ns/ldp#Resource",contains:"http://www.w3.org/ns/ldp#contains"},A={AccessControlResource:"http://www.w3.org/ns/solid/acp#AccessControlResource",Policy:"http://www.w3.org/ns/solid/acp#Policy",AccessControl:"http://www.w3.org/ns/solid/acp#AccessControl",Read:"http://www.w3.org/ns/solid/acp#Read",Append:"http://www.w3.org/ns/solid/acp#Append",Write:"http://www.w3.org/ns/solid/acp#Write",Rule:"http://www.w3.org/ns/solid/acp#Rule",Matcher:"http://www.w3.org/ns/solid/acp#Matcher",accessControl:"http://www.w3.org/ns/solid/acp#accessControl",memberAccessControl:"http://www.w3.org/ns/solid/acp#memberAccessControl",apply:"http://www.w3.org/ns/solid/acp#apply",applyMembers:"http://www.w3.org/ns/solid/acp#applyMembers",allow:"http://www.w3.org/ns/solid/acp#allow",deny:"http://www.w3.org/ns/solid/acp#deny",allOf:"http://www.w3.org/ns/solid/acp#allOf",anyOf:"http://www.w3.org/ns/solid/acp#anyOf",noneOf:"http://www.w3.org/ns/solid/acp#noneOf",access:"http://www.w3.org/ns/solid/acp#access",accessMembers:"http://www.w3.org/ns/solid/acp#accessMembers",agent:"http://www.w3.org/ns/solid/acp#agent",group:"http://www.w3.org/ns/solid/acp#group",client:"http://www.w3.org/ns/solid/acp#client",PublicAgent:"http://www.w3.org/ns/solid/acp#PublicAgent",AuthenticatedAgent:"http://www.w3.org/ns/solid/acp#AuthenticatedAgent",CreatorAgent:"http://www.w3.org/ns/solid/acp#CreatorAgent"},Bi={PublicOidcClient:"http://www.w3.org/ns/solid/terms#PublicOidcClient"},tt={fetch:G_};async function Fa(t,e=Object.assign(Object.assign({},tt),{ignoreAuthenticationErrors:!1})){var n;const i=await Object.assign(Object.assign({},tt),e).fetch(t,{method:"HEAD"});return W_(i,{ignoreAuthenticationErrors:(n=e.ignoreAuthenticationErrors)!==null&&n!==void 0?n:!1})}function W_(t,e={ignoreAuthenticationErrors:!1}){if(Ua(t)&&(!Nx(t)||!e.ignoreAuthenticationErrors))throw new Ba(`Fetching the metadata of the Resource at [${t.url}] failed: [${t.status}] [${t.statusText}].`,t);return{internal_resourceInfo:Xf(t)}}function Dx(t){var e;return(e=t.internal_resourceInfo.contentType)!==null&&e!==void 0?e:null}function le(t){return kl(t)?t.internal_resourceInfo.sourceIri:null}const ds=le;function Ox(t){return t.internal_resourceInfo.linkedResources}class Ba extends La{constructor(e,n){super(e),this.response=n}get statusCode(){return this.response.status}get statusText(){return this.response.statusText}}const fm={fetch:G_};async function V_(t,e=fm){const n=Object.assign(Object.assign({},fm),e),r=me(t),i=await n.fetch(r,n.init);if(Ua(i))throw new Ba(`Fetching the File failed: [${i.status}] [${i.statusText}].`,i);const s=Xf(i),o=await i.blob();return Object.assign(o,{internal_resourceInfo:s})}Fg.dataset;const Kc="https://inrupt.com/.well-known/sdk-local-node/",F=Object.freeze;function mr(t){return t.substring(0,Kc.length)===Kc}function ir(t){return t.substring(Kc.length)}function kx(t){return`${Kc}${t}`}function Sl(t){return typeof t=="string"&&t.substring(0,2)==="_:"}function Kf(t){return t.substring(2)}function H_(t){return`_:${t.value}`}const ut={boolean:"http://www.w3.org/2001/XMLSchema#boolean",dateTime:"http://www.w3.org/2001/XMLSchema#dateTime",date:"http://www.w3.org/2001/XMLSchema#date",time:"http://www.w3.org/2001/XMLSchema#time",decimal:"http://www.w3.org/2001/XMLSchema#decimal",integer:"http://www.w3.org/2001/XMLSchema#integer",string:"http://www.w3.org/2001/XMLSchema#string",langString:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"};function Sx(t){return t?"true":"false"}function Z_(t){return t==="true"||t==="1"?!0:t==="false"||t==="0"?!1:null}function Ax(t){let e,n;if(t.millisecond&&(t.millisecond<10?e="00"+t.millisecond:t.millisecond<100?e="0"+t.millisecond:e=t.millisecond),typeof t.timezoneHourOffset=="number"){const r=Math.abs(t.timezoneHourOffset)<10?"0"+Math.abs(t.timezoneHourOffset):Math.abs(t.timezoneHourOffset);n=t.timezoneHourOffset>=0?"+"+r:"-"+r,t.timezoneMinuteOffset?n=n+":"+(t.timezoneMinuteOffset<10?"0"+t.timezoneMinuteOffset:t.timezoneMinuteOffset):n=n+":00"}return(t.hour<10?"0"+t.hour:t.hour)+":"+(t.minute<10?"0"+t.minute:t.minute)+":"+(t.second<10?"0"+t.second:t.second)+(t.millisecond?"."+e:"")+(n||"")}function $x(t){if(!/\d\d:\d\d:\d\d(\.\d+)?(Z|(\+|-)\d\d:\d\d)?/.test(t))return null;const[n,r]=Jf(t),[i,s,o]=n.split(":");let a=Number.parseInt(i,10),c=Number.parseInt(s,10);const[l,u]=o.split("."),d=Number.parseInt(l,10),p=u?Number.parseInt(u,10):void 0;c>=60&&(a=a+1,c=c-60);const h={hour:a,minute:c,second:d};if(typeof p=="number"&&(h.millisecond=p),typeof r=="string"){const[m,_]=X_(r);if(typeof m!="number"||m>24||typeof _!="number"||_>59)return null;h.timezoneHourOffset=m,h.timezoneMinuteOffset=_}return h}function jx(t){return t.toISOString()}function Q_(t){if(!/-?\d{4,}-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(Z|(\+|-)\d\d:\d\d)?/.test(t))return null;const[n,r]=t.split("T"),[i,s]=n.charAt(0)==="-"?[-1,n.substring(1)]:[1,n],[o,a,c]=s.split("-"),l=Number.parseInt(o,10)*i,u=Number.parseInt(a,10)-1,d=Number.parseInt(c,10),[p,h]=Jf(r),[m,_]=typeof h=="string"?X_(h):[0,0],[b,v,T]=p.split(":"),x=Number.parseInt(b,10)+m,N=Number.parseInt(v,10)+_,[D,O]=T.split("."),R=Number.parseInt(D,10),j=O?Number.parseInt(O,10):0,M=new Date(Date.UTC(l,u,d,x,N,R,j));return l>=0&&l<100&&M.setUTCFullYear(M.getUTCFullYear()-1900),M}function Mx(t){const e=t.getFullYear(),n=t.getMonth()+1,r=t.getDate(),[i,s]=Jf(t.toISOString());return`${e}-${String(n).padStart(2,"0")}-${String(r).padStart(2,"0")}${s}`}function Cx(t){if(!/-?\d{4,}-\d\d-\d\d(Z|(\+|-)\d\d:\d\d)?/.test(t))return null;const n=t,[r,i]=n.charAt(0)==="-"?[-1,n.substring(1)]:[1,n],[s,o,a]=i.split("-"),c=a.length>2?a.substring(0,2):a,l=Number.parseInt(s,10)*r,u=Number.parseInt(o,10)-1,d=Number.parseInt(c,10),p=12,h=new Date(Date.UTC(l,u,d,p));return l>=0&&l<100&&h.setUTCFullYear(h.getUTCFullYear()-1900),h}function Jf(t){if(t.endsWith("Z"))return[t.substring(0,t.length-1),"Z"];const e=t.split("+"),n=t.split("-");return e.length===1&&n.length===1?[e[0],void 0]:e.length>n.length?[e[0],"+"+e[1]]:[n[0],"-"+n[1]]}function X_(t){if(t==="Z")return[0,0];const e=t.charAt(0)==="+"?1:-1,[n,r]=t.substring(1).split(":"),i=Number.parseInt(n,10),s=Number.parseInt(r,10);return[i*e,s*e]}function Lx(t){return t.toString()}function K_(t){const e=Number.parseFloat(t);return Number.isNaN(e)?null:e}function Px(t){return t.toString()}function J_(t){const e=Number.parseInt(t,10);return Number.isNaN(e)?null:e}function Gd(t){return t.toLowerCase()}function Ht(t){return e0(t)&&t.termType==="NamedNode"}function Ux(t){return e0(t)&&t.termType==="Literal"}function e0(t){return t!==null&&typeof t=="object"&&typeof t.termType=="string"&&typeof t.value=="string"&&typeof t.equals=="function"}function hm(t){return Ht(t)&&mr(t.value)}function Tt(t){const e=me(t);if(typeof URL!="function")return!0;try{new URL(e)}catch{return!1}return!0}function pm(t,e){return Nn.namedNode(qa(ir(t.value),e))}function qa(t,e){if(typeof URL!="function")throw new Error("The URL interface is not available, so an IRI cannot be determined.");const n=new URL(e);return n.hash=t,n.href}const Nn=vl;function mm(t,e,n={}){var r;if(!["NamedNode","DefaultGraph"].includes(e.graph.termType))throw new Error(`Cannot parse Quads with nodes of type [${e.graph.termType}] as their Graph node.`);const s=e.graph.termType==="DefaultGraph"?"default":e.graph.value,o=(r=t.graphs[s])!==null&&r!==void 0?r:{};return F(Object.assign(Object.assign({},t),{graphs:F(Object.assign(Object.assign({},t.graphs),{[s]:Fx(o,e,n)}))}))}function Fx(t,e,n){var r;if(!["NamedNode","BlankNode"].includes(e.subject.termType))throw new Error(`Cannot parse Quads with nodes of type [${e.subject.termType}] as their Subject node.`);const s=e.subject.termType==="BlankNode"?`_:${e.subject.value}`:e.subject.value,o=(r=t[s])!==null&&r!==void 0?r:{type:"Subject",url:s,predicates:{}};return F(Object.assign(Object.assign({},t),{[s]:Bx(o,e,n)}))}function Bx(t,e,n){return F(Object.assign(Object.assign({},t),{predicates:qx(t.predicates,e,n)}))}function qx(t,e,n){var r;if(!["NamedNode"].includes(e.predicate.termType))throw new Error(`Cannot parse Quads with nodes of type [${e.predicate.termType}] as their Predicate node.`);const s=e.predicate.value,o=(r=t[s])!==null&&r!==void 0?r:{};return F(Object.assign(Object.assign({},t),{[s]:t0(o,e,n)}))}function t0(t,e,n){var r,i,s,o,a,c,l,u;if(e.object.termType==="NamedNode"){const d=F([...(r=t.namedNodes)!==null&&r!==void 0?r:[],e.object.value]);return F(Object.assign(Object.assign({},t),{namedNodes:d}))}if(e.object.termType==="Literal"){if(e.object.datatype.value===ut.langString){const h=e.object.language.toLowerCase(),m=F([...(s=(i=t.langStrings)===null||i===void 0?void 0:i[h])!==null&&s!==void 0?s:[],e.object.value]),_=F(Object.assign(Object.assign({},(o=t.langStrings)!==null&&o!==void 0?o:{}),{[h]:m}));return F(Object.assign(Object.assign({},t),{langStrings:_}))}const d=F([...(c=(a=t.literals)===null||a===void 0?void 0:a[e.object.datatype.value])!==null&&c!==void 0?c:[],e.object.value]),p=F(Object.assign(Object.assign({},(l=t.literals)!==null&&l!==void 0?l:{}),{[e.object.datatype.value]:d}));return F(Object.assign(Object.assign({},t),{literals:p}))}if(e.object.termType==="BlankNode"){const d=n0(e.object,n),p=F([...(u=t.blankNodes)!==null&&u!==void 0?u:[],d]);return F(Object.assign(Object.assign({},t),{blankNodes:p}))}throw new Error(`Objects of type [${e.object.termType}] are not supported.`)}function n0(t,e){var n,r;if(((n=e.chainBlankNodes)!==null&&n!==void 0?n:[]).find(l=>l.equals(t))===void 0)return H_(t);const o=((r=e.otherQuads)!==null&&r!==void 0?r:[]).filter(l=>l.subject.equals(t)),a=o.filter(l=>!_a(l.object)).reduce((l,u)=>{var d;if(!["NamedNode"].includes(u.predicate.termType))throw new Error(`Cannot parse Quads with nodes of type [${u.predicate.termType}] as their Predicate node.`);const h=(d=l[u.predicate.value])!==null&&d!==void 0?d:{};return F(Object.assign(Object.assign({},l),{[u.predicate.value]:t0(h,u,e)}))},{});return o.filter(l=>_a(l.object)).reduce((l,u)=>{var d,p;if(!["NamedNode"].includes(u.predicate.termType))throw new Error(`Cannot parse Quads with nodes of type [${u.predicate.termType}] as their Predicate node.`);const m=(d=l[u.predicate.value])!==null&&d!==void 0?d:{},_=(p=m.blankNodes)!==null&&p!==void 0?p:[];return F(Object.assign(Object.assign({},l),{[u.predicate.value]:Object.assign(Object.assign({},m),{blankNodes:[..._,n0(u.object,e)]})}))},a)}function Yx(t){const e=t.map(o=>o.subject).filter(_a),n=t.map(o=>o.object).filter(_a);function r(o){return o.every(a=>o.every(c=>a.equals(c)))}const i=[];return n.forEach(o=>{i.push(...r0(o,t))}),e.concat(n).filter(o=>{if(i.some(c=>c.equals(o)))return!1;const a=t.filter(c=>c.object.equals(o)).map(c=>c.subject);return a.length>0&&r(a)})}function zx(t,e={}){var n;const r=[],i=(n=e.dataFactory)!==null&&n!==void 0?n:vl;return Object.keys(t.graphs).forEach(s=>{const o=t.graphs[s],a=s==="default"?i.defaultGraph():i.namedNode(s);Object.keys(o).forEach(c=>{const l=o[c].predicates,u=Sl(c)?i.blankNode(Kf(c)):i.namedNode(c);r.push(...ga(l,u,a,e))})}),r}function ga(t,e,n,r={}){var i;const s=[],o=(i=r.dataFactory)!==null&&i!==void 0?i:vl;return Object.keys(t).forEach(a=>{var c,l,u,d;const p=o.namedNode(a),h=(c=t[a].langStrings)!==null&&c!==void 0?c:{},m=(l=t[a].namedNodes)!==null&&l!==void 0?l:[],_=(u=t[a].literals)!==null&&u!==void 0?u:{},b=(d=t[a].blankNodes)!==null&&d!==void 0?d:[];Object.keys(_).forEach(x=>{const N=o.namedNode(x);_[x].forEach(O=>{const R=o.literal(O,N);s.push(o.quad(e,p,R,n))})}),Object.keys(h).forEach(x=>{h[x].forEach(D=>{const O=o.literal(D,x);s.push(o.quad(e,p,O,n))})}),m.forEach(x=>{const N=o.namedNode(x);s.push(o.quad(e,p,N,n))}),b.forEach(x=>{if(Sl(x)){const N=o.blankNode(Kf(x));s.push(o.quad(e,p,N,n))}else{const N=o.blankNode(),D=o.quad(e,p,N,n),O=ga(x,N,n);s.push(D),s.push(...O)}})}),s}function r0(t,e,n=[]){if(n.find(a=>a.equals(t))!==void 0)return n;const r=e.filter(a=>a.subject.equals(t)&&_a(a.object)).map(a=>a.object);if(r.length===0)return[];const i=[...n,t],s=r.map(a=>r0(a,e,i)),o=[];for(const a of s)o.push(...a);return o}function _a(t){return t.termType==="BlankNode"}const Gx=()=>{const t=[],e=[],n=[];return{onQuad:r=>{t.push(r)},onError:r=>{n.push(r)},onComplete:r=>{e.push(r)},parse:async(r,i)=>{(await Wx(le(i))).parse(r,(o,a,c)=>{o?n.forEach(l=>l(o)):a?t.forEach(l=>l(a)):e.forEach(l=>l())})}}};async function Wx(t){return new qf({format:"text/turtle",baseIRI:t})}async function Wd(t){const e="text/turtle",n=new v_({format:e}),r=t.map(o=>Nn.quad(o.subject,o.predicate,o.object,void 0));return n.addQuads(r),await new Promise((o,a)=>{n.end((c,l)=>{if(c)return a(c);o(l)})})}function Vd(t){var e,n,r,i,s,o,a,c;if(Ht(t))return`<${t.value}> (URL)`;if(Ux(t)){if(!Ht(t.datatype))return`[${t.value}] (RDF/JS Literal of unknown type)`;let l;switch(t.datatype.value){case ut.boolean:return l=(n=(e=Z_(t.value))===null||e===void 0?void 0:e.valueOf())!==null&&n!==void 0?n:`Invalid data: \`${t.value}\``,l+" (boolean)";case ut.dateTime:return l=(i=(r=Q_(t.value))===null||r===void 0?void 0:r.toUTCString())!==null&&i!==void 0?i:`Invalid data: \`${t.value}\``,l+" (datetime)";case ut.decimal:return l=(o=(s=K_(t.value))===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:`Invalid data: \`${t.value}\``,l+" (decimal)";case ut.integer:return l=(c=(a=J_(t.value))===null||a===void 0?void 0:a.toString())!==null&&c!==void 0?c:`Invalid data: \`${t.value}\``,l+" (integer)";case ut.langString:return`"${t.value}" (${t.language} string)`;case ut.string:return`"${t.value}" (string)`;default:return`[${t.value}] (RDF/JS Literal of type: \`${t.datatype.value}\`)`}}return t.termType==="BlankNode"?`[${t.value}] (RDF/JS BlankNode)`:t.termType==="Quad"?"??? (nested RDF* Quad)":t.termType==="Variable"?`?${t.value} (RDF/JS Variable)`:t}function ye(t){if(!Ya(t))throw new rI(t)}function Vx(t,e){const n=bo(t)?t.internal_changeLog:{additions:[],deletions:[]},[r,i]=e.filter(s=>!s0(s)).reduce(([s,o],a)=>typeof o.find(l=>l.equals(a))!="undefined"?[s,o.filter(l=>!l.equals(a))]:[s.concat(a),o],[n.additions,n.deletions]);return F(Object.assign(Object.assign({},t),{internal_changeLog:{additions:r,deletions:i}}))}function i0(t,e){const n=bo(t)?t.internal_changeLog:{additions:[],deletions:[]},[r,i]=e.filter(s=>!s0(s)).reduce(([s,o],a)=>typeof s.find(l=>l.equals(a))!="undefined"?[s.filter(l=>!l.equals(a)),o]:[s,o.concat(a)],[n.additions,n.deletions]);return F(Object.assign(Object.assign({},t),{internal_changeLog:{additions:r,deletions:i}}))}function Hx(t){return bo(t)?t:F(Object.assign(Object.assign({},t),{internal_changeLog:{additions:[],deletions:[]}}))}function s0(t){return t.subject.termType==="BlankNode"||t.object.termType==="BlankNode"}function Zx(t,e){var n,r,i;if(ye(t),!Tt(e))throw new bn(e);const s=me(e),o=(i=(r=(n=t.predicates[s])===null||n===void 0?void 0:n.namedNodes)===null||r===void 0?void 0:r[0])!==null&&i!==void 0?i:null;return o===null?null:mr(o)?`#${ir(o)}`:o}function Qx(t,e){var n,r,i;if(ye(t),!Tt(e))throw new bn(e);const s=me(e);return(i=(r=(n=t.predicates[s])===null||n===void 0?void 0:n.namedNodes)===null||r===void 0?void 0:r.map(o=>mr(o)?`#${ir(o)}`:o))!==null&&i!==void 0?i:[]}const pe=Qx;function Xx(t,e){return ye(t),tI(t,e,ut.string)}function Kx(t,e){return pe(t,e).map(r=>Nn.namedNode(r))}function Jx(t,e){var n,r,i,s;if(ye(t),!Tt(e))throw new bn(e);const o=me(e);let a=[];const c=(r=(n=t.predicates[o])===null||n===void 0?void 0:n.langStrings)!==null&&r!==void 0?r:{},l=Object.keys(c);for(const p of l){const m=c[p].map(_=>Nn.literal(_,p));a=a.concat(m)}const u=(s=(i=t.predicates[o])===null||i===void 0?void 0:i.literals)!==null&&s!==void 0?s:{},d=Object.keys(u);for(const p of d){const h=u[p],m=Nn.namedNode(p),_=h.map(b=>Nn.literal(b,m));a=a.concat(_)}return a}function eI(t,e){var n,r;ye(t);const i=Kx(t,e),s=Jx(t,e),o=me(e),c=((r=(n=t.predicates[o])===null||n===void 0?void 0:n.blankNodes)!==null&&r!==void 0?r:[]).map(u=>{const d=Sl(u)?Kf(u):void 0;return Nn.blankNode(d)});return i.concat(s).concat(c)}function tI(t,e,n){var r,i,s;if(!Tt(e))throw new bn(e);const o=me(e);return[...(s=(i=(r=t.predicates[o])===null||r===void 0?void 0:r.literals)===null||i===void 0?void 0:i[n])!==null&&s!==void 0?s:[]]}function nt(t,e,n={}){var r;if(!Tt(e))throw new o0(e);const i=typeof n.scope!="undefined"?me(n.scope):"default",s=(r=t.graphs[i])!==null&&r!==void 0?r:{},o=me(e),a=mr(o)&&Ca(t)?qa(ir(o),le(t)):o,c=s[a];return typeof c=="undefined"?null:c}function qi(t,e={acceptBlankNodes:!1}){var n;const r=typeof e.scope!="undefined"?me(e.scope):"default",i=(n=t.graphs[r])!==null&&n!==void 0?n:{};return Object.values(i).filter(s=>!Sl(s.url)||e.acceptBlankNodes)}function fn(t,e){var n;const r=vo(e)&&Ca(t)?qa(ir(e.url),le(t)):e.url,i=t.graphs.default,s=F(Object.assign(Object.assign({},i),{[r]:F(Object.assign(Object.assign({},e),{url:r}))})),o=F(Object.assign(Object.assign({},t.graphs),{default:s})),a=Nn.namedNode(r),c=(n=t.graphs.default[r])===null||n===void 0?void 0:n.predicates,l=typeof c!="undefined"?ga(c,a,Nn.defaultGraph()):[],u=ga(e.predicates,a,Nn.defaultGraph());return Vx(i0(F(Object.assign(Object.assign({},t),{graphs:o})),l),u)}function Yi(t,e){var n;let r;Ht(e)?r=e.value:typeof e=="string"?r=mr(e)&&Ca(t)?qa(ir(e),le(t)):e:vo(e)?r=e.url:r=za(e);const i=t.graphs.default,s=Object.assign({},i);delete s[r];const o=F(Object.assign(Object.assign({},t.graphs),{default:F(s)})),a=Nn.namedNode(r),c=(n=t.graphs.default[r])===null||n===void 0?void 0:n.predicates,l=typeof c!="undefined"?ga(c,a,Nn.defaultGraph()):[];return i0(F(Object.assign(Object.assign({},t),{graphs:o})),l)}function Dn(t={}){var e;if(typeof t.url!="undefined"){const s=t.url;if(!Tt(s))throw new o0(s);return F({type:"Subject",predicates:F({}),url:s})}const n=(e=t.name)!==null&&e!==void 0?e:iI(),r=kx(n);return F({type:"Subject",predicates:F({}),url:r})}function Ya(t){return typeof t=="object"&&t!==null&&typeof t.type=="string"&&t.type==="Subject"}function fi(t,e){if(vo(t)){if(typeof e=="undefined")throw new Error("The URL of a Thing that has not been persisted cannot be determined without a base URL.");return qa(ir(t.url),e)}return t.url}const za=fi;function nI(t){let e="";vo(t)?e+=`## Thing (no URL yet \u2014 identifier: \`#${ir(t.url)}\`)
`:e+=`## Thing: ${t.url}
`;const n=Object.keys(t.predicates);if(n.length===0)e+=`
<empty>
`;else for(const r of n)e+=`
Property: ${r}
`,eI(t,r).forEach(s=>{e+=`- ${Vd(s)}
`});return e}function vo(t){return mr(t.url)}class rI extends La{constructor(e){const n=`Expected a Thing, but received: [${e}].`;super(n),this.receivedValue=e}}class bn extends La{constructor(e){const n=Ht(e)?e.value:e,r=`Expected a valid URL to identify a property, but received: [${n}].`;super(r),this.receivedProperty=n}}class eh extends La{constructor(e){const n=Ht(e)?e.value:e,r=`Expected a valid URL value, but received: [${n}].`;super(r),this.receivedValue=n}}class o0 extends La{constructor(e){const n=Ht(e)?e.value:e,r=`Expected a valid URL to identify a Thing, but received: [${n}].`;super(r),this.receivedValue=n}}const iI=()=>Date.now().toString()+Math.random().toString().substring(2);function Gs(t){const e=new URL(t);return e.hash="",e.href}function a0(){return F({type:"Dataset",graphs:{default:{}}})}async function sI(t,e={}){if(Ua(t))throw new Ba(`Fetching the SolidDataset at [${t.url}] failed: [${t.status}] [${t.statusText}].`,t);const n=W_(t),r=Object.assign({"text/turtle":Gx()},e.parsers),i=Dx(n);if(i===null)throw new Error(`Could not determine the content type of the Resource at [${le(n)}].`);const s=i.split(";")[0],o=r[s];if(typeof o=="undefined")throw new Error(`The Resource at [${le(n)}] has a MIME type of [${s}], but the only parsers available are for the following MIME types: [${Object.keys(r).join(", ")}].`);const a=await t.text();return await new Promise((l,u)=>{let d=F({graphs:F({default:F({})}),type:"Dataset"});const p=[],h=[];o.onError(m=>{u(new Error(`Encountered an error parsing the Resource at [${le(n)}] with content type [${i}]: ${m}`))}),o.onQuad(m=>{h.push(m),m.subject.termType==="BlankNode"||m.object.termType==="BlankNode"?p.push(m):d=mm(d,m)}),o.onComplete(async()=>{const _=p.length<=20?Yx(p):[];d=p.filter(T=>_.every(x=>!x.equals(T.subject))).reduce((T,x)=>mm(T,x,{otherQuads:h,chainBlankNodes:_}),d);const v=F(Object.assign(Object.assign({},d),n));l(v)}),o.parse(a,n)})}async function Ga(t,e=tt){var n;t=me(t);const r=Object.assign(Object.assign({},tt),e),i=Object.keys((n=e.parsers)!==null&&n!==void 0?n:{}),s=i.length>0?i.join(", "):"text/turtle",o=await r.fetch(t,{headers:{Accept:s}});if(Ua(o))throw new Ba(`Fetching the Resource at [${t}] failed: [${o.status}] [${o.statusText}].`,o);return await sI(o,e)}async function oI(t){const e=t.internal_changeLog.deletions.length>0?`DELETE DATA {${(await Wd(t.internal_changeLog.deletions.map(Hd))).trim()}};`:"",n=t.internal_changeLog.additions.length>0?`INSERT DATA {${(await Wd(t.internal_changeLog.additions.map(Hd))).trim()}};`:"";return{method:"PATCH",body:`${e} ${n}`,headers:{"Content-Type":"application/sparql-update"}}}async function aI(t){return{method:"PUT",body:await Wd(zx(t).map(Hd)),headers:{"Content-Type":"text/turtle","If-None-Match":"*",Link:`<${Rx.Resource}>; rel="type"`}}}async function c0(t,e,n=tt){t=me(t);const r=Object.assign(Object.assign({},tt),n),i=Hx(e),s=gm(i,t)?await oI(i):await aI(i),o=await r.fetch(t,s);if(Ua(o)){const u=gm(i,t)?`The changes that were sent to the Pod are listed below.

`+uI(i):`The SolidDataset that was sent to the Pod is listed below.

`+lI(i);throw new Ba(`Storing the Resource at [${t}] failed: [${o.status}] [${o.statusText}].

`+u,o)}const a=Object.assign(Object.assign({},Xf(o)),{isRawData:!1}),c=F(Object.assign(Object.assign({},e),{internal_changeLog:{additions:[],deletions:[]},internal_resourceInfo:a}));return hI(c)}function cI(t,e){return Gs(t.internal_resourceInfo.sourceIri)===Gs(e)}function gm(t,e){return bo(t)&&kl(t)&&typeof t.internal_resourceInfo.sourceIri=="string"&&cI(t,e)}function lI(t){let e="";kl(t)?e+=`# SolidDataset: ${le(t)}
`:e+=`# SolidDataset (no URL yet)
`;const n=qi(t);return n.length===0?e+=`
<empty>
`:n.forEach(r=>{e+=`
`+nI(r),bo(t)&&(e+=`
`+fI(t,r)+`
`)}),e}function uI(t){if(!kl(t))return"This is a newly initialized SolidDataset, so there is no source to compare it to.";if(!bo(t)||t.internal_changeLog.additions.length===0&&t.internal_changeLog.deletions.length===0)return`## Changes compared to ${le(t)}

This SolidDataset has not been modified since it was fetched from ${le(t)}.
`;let e=`## Changes compared to ${le(t)}
`;const n=dI(t);return Object.keys(n).forEach(r=>{e+=`
### Thing: ${r}
`;const i=n[r];Object.keys(i).forEach(s=>{e+=`
Property: ${s}
`;const o=i[s].deleted,a=i[s].added;o.length>0&&(e+=`- Removed:
`,o.forEach(c=>e+=`  - ${Vd(c)}
`)),a.length>0&&(e+=`- Added:
`,a.forEach(c=>e+=`  - ${Vd(c)}
`))})}),e}function dI(t){const e={};return t.internal_changeLog.deletions.forEach(n=>{var r,i,s;const o=hm(n.subject)?pm(n.subject,le(t)):n.subject;if(!Ht(o)||!Ht(n.predicate))return;const a=me(o),c=me(n.predicate);(r=e[a])!==null&&r!==void 0||(e[a]={}),(i=(s=e[a])[c])!==null&&i!==void 0||(s[c]={added:[],deleted:[]}),e[a][c].deleted.push(n.object)}),t.internal_changeLog.additions.forEach(n=>{var r,i,s;const o=hm(n.subject)?pm(n.subject,le(t)):n.subject;if(!Ht(o)||!Ht(n.predicate))return;const a=me(o),c=me(n.predicate);(r=e[a])!==null&&r!==void 0||(e[a]={}),(i=(s=e[a])[c])!==null&&i!==void 0||(s[c]={added:[],deleted:[]}),e[a][c].added.push(n.object)}),e}function fI(t,e){const n=Nn.namedNode(e.url),r=t.internal_changeLog.additions.reduce((a,c)=>c.subject.equals(n)?a+1:a,0),i=t.internal_changeLog.deletions.reduce((a,c)=>c.subject.equals(n)?a+1:a,0),s=r===1?"1 new value added":r+" new values added",o=i===1?"1 value removed":i+" values removed";return`(${s} / ${o})`}function Hd(t){const e=Ht(t.subject)?_m(t.subject):t.subject,n=Ht(t.object)?_m(t.object):t.object;return Nn.quad(e,t.predicate,n,t.graph)}function _m(t){return mr(t.value)?Nn.namedNode("#"+ir(t.value)):t}function hI(t){const e=le(t),n=t.graphs.default,i=Object.keys(n).reduce((o,a)=>{const c=pI(o[a],e),l=mr(a)?`${e}#${ir(a)}`:a,u=Object.assign({},o);return delete u[a],u[l]=c,F(u)},n),s=F(Object.assign(Object.assign({},t.graphs),{default:i}));return F(Object.assign(Object.assign({},t),{graphs:s}))}function pI(t,e){const r=Object.keys(t.predicates).reduce((i,s)=>{var o;const a=(o=i[s].namedNodes)!==null&&o!==void 0?o:[];if(a.every(u=>!mr(u)))return i;const c=F(a.map(u=>mr(u)?`${e}#${ir(u)}`:u)),l=F(Object.assign(Object.assign({},i[s]),{namedNodes:c}));return F(Object.assign(Object.assign({},i),{[s]:l}))},t.predicates);return F(Object.assign(Object.assign({},t),{predicates:r,url:mr(t.url)?`${e}#${ir(t.url)}`:t.url}))}function mI(t){const e=a0();return Object.assign(Object.assign({},e),{internal_resourceInfo:{sourceIri:me(t),isRawData:!1,contentType:"text/turtle",linkedResources:{}}})}const Al=(t,e,n)=>{var r,i;if(ye(t),!Tt(e))throw new bn(e);if(!Ya(n)&&!Tt(n))throw new eh(n);const s=me(e),o=(r=t.predicates[s])!==null&&r!==void 0?r:{},a=(i=o.namedNodes)!==null&&i!==void 0?i:[];let c;Ht(n)?c=n.value:typeof n=="string"?c=n:vo(n)?c=n.url:c=za(n);const l=F(a.concat(me(c))),u=F(Object.assign(Object.assign({},o),{namedNodes:l})),d=F(Object.assign(Object.assign({},t.predicates),{[s]:u}));return F(Object.assign(Object.assign({},t),{predicates:d}))},ge=Al,l0=(t,e,n)=>(ye(t),zi(t,e,Sx(n),ut.boolean)),u0=(t,e,n)=>(ye(t),zi(t,e,jx(n),ut.dateTime)),d0=(t,e,n)=>(ye(t),zi(t,e,Mx(n),ut.date)),f0=(t,e,n)=>(ye(t),zi(t,e,Ax(n),ut.time)),h0=(t,e,n)=>(ye(t),zi(t,e,Lx(n),ut.decimal)),p0=(t,e,n)=>(ye(t),zi(t,e,Px(n),ut.integer));function Jc(t,e,n,r){var i,s,o;if(ye(t),!Tt(e))throw new bn(e);const a=me(e),c=Gd(r),l=(i=t.predicates[a])!==null&&i!==void 0?i:{},u=(s=l.langStrings)!==null&&s!==void 0?s:{},d=(o=u[c])!==null&&o!==void 0?o:[],p=F(d.concat(n)),h=F(Object.assign(Object.assign({},u),{[c]:p})),m=F(Object.assign(Object.assign({},l),{langStrings:h})),_=F(Object.assign(Object.assign({},t.predicates),{[a]:m}));return F(Object.assign(Object.assign({},t),{predicates:_}))}const th=(t,e,n)=>(ye(t),zi(t,e,n,ut.string));function nh(t,e,n){return Al(t,e,n.value)}function rh(t,e,n){if(ye(t),!Tt(e))throw new bn(e);return n.datatype.value===ut.langString?Jc(t,e,n.value,n.language):zi(t,e,n.value,n.datatype.value)}function m0(t,e,n){var r,i;if(n.termType==="NamedNode")return nh(t,e,n);if(n.termType==="Literal")return rh(t,e,n);if(n.termType==="BlankNode"){if(ye(t),!Tt(e))throw new bn(e);const s=me(e),o=(r=t.predicates[s])!==null&&r!==void 0?r:{},a=(i=o.blankNodes)!==null&&i!==void 0?i:[],c=F(a.concat(H_(n))),l=F(Object.assign(Object.assign({},o),{blankNodes:c})),u=F(Object.assign(Object.assign({},t.predicates),{[s]:l}));return F(Object.assign(Object.assign({},t),{predicates:u}))}throw new Error(`Term type [${n.termType}] is not supported by @inrupt/solid-client.`)}function zi(t,e,n,r){var i,s,o;if(ye(t),!Tt(e))throw new bn(e);const a=me(e),c=(i=t.predicates[a])!==null&&i!==void 0?i:{},l=(s=c.literals)!==null&&s!==void 0?s:{},u=(o=l[r])!==null&&o!==void 0?o:[],d=F(u.concat(n)),p=F(Object.assign(Object.assign({},l),{[r]:d})),h=F(Object.assign(Object.assign({},c),{literals:p})),m=F(Object.assign(Object.assign({},t.predicates),{[a]:h}));return F(Object.assign(Object.assign({},t),{predicates:m}))}function Dt(t,e){if(ye(t),!Tt(e))throw new bn(e);const n=me(e),r=Object.assign({},t.predicates);return delete r[n],F(Object.assign(Object.assign({},t),{predicates:F(r)}))}const ih=(t,e,n)=>{var r,i,s;if(ye(t),!Tt(e))throw new bn(e);const o=me(e);if(!Ya(n)&&!Tt(n))throw new eh(n);const a=Ht(n)?n.value:typeof n=="string"?n:za(n),c=F((s=(i=(r=t.predicates[o])===null||r===void 0?void 0:r.namedNodes)===null||i===void 0?void 0:i.filter(d=>d.toLowerCase()!==a.toLowerCase()))!==null&&s!==void 0?s:[]),l=F(Object.assign(Object.assign({},t.predicates[o]),{namedNodes:c})),u=F(Object.assign(Object.assign({},t.predicates),{[o]:l}));return F(Object.assign(Object.assign({},t),{predicates:u}))},qe=ih,gI=(t,e,n)=>(ye(t),Is(t,e,ut.boolean,r=>Z_(r)===n)),_I=(t,e,n)=>(ye(t),Is(t,e,ut.dateTime,r=>{var i;return((i=Q_(r))===null||i===void 0?void 0:i.getTime())===n.getTime()})),wI=(t,e,n)=>(ye(t),Is(t,e,ut.date,function(r){const i=Cx(r);return i?i.getFullYear()===n.getFullYear()&&i.getMonth()===n.getMonth()&&i.getDate()===n.getDate():!1})),yI=(t,e,n)=>(ye(t),Is(t,e,ut.time,function(r){const i=$x(r);return i?i.hour===n.hour&&i.minute===n.minute&&i.second===n.second&&i.millisecond===n.millisecond&&i.timezoneHourOffset===n.timezoneHourOffset&&i.timezoneMinuteOffset===n.timezoneMinuteOffset:!1})),bI=(t,e,n)=>(ye(t),Is(t,e,ut.decimal,r=>K_(r)===n)),vI=(t,e,n)=>(ye(t),Is(t,e,ut.integer,r=>J_(r)===n));function Zd(t,e,n,r){var i,s;if(ye(t),!Tt(e))throw new bn(e);const o=me(e),a=(s=(i=t.predicates[o])===null||i===void 0?void 0:i.langStrings)!==null&&s!==void 0?s:{},c=Object.keys(a).find(m=>Gd(m)===Gd(r)&&Array.isArray(a[m])&&a[m].length>0);if(typeof c!="string")return t;const l=a[c],u=F(l.filter(m=>m!==n)),d=F(Object.assign(Object.assign({},a),{[c]:u})),p=F(Object.assign(Object.assign({},t.predicates[o]),{langStrings:d})),h=F(Object.assign(Object.assign({},t.predicates),{[o]:p}));return F(Object.assign(Object.assign({},t),{predicates:h}))}const g0=(t,e,n)=>(ye(t),Is(t,e,ut.string,r=>r===n));function TI(t,e,n){return ih(t,e,n.value)}function EI(t,e,n){var r,i,s;if(ye(t),!Tt(e))throw new bn(e);const o=n.datatype.value;if(o===ut.langString)return Zd(t,e,n.value,n.language);const a=me(e),c=(r=t.predicates[a])!==null&&r!==void 0?r:{},l=(i=c.literals)!==null&&i!==void 0?i:{},u=(s=l[o])!==null&&s!==void 0?s:[],d=F(u.filter(b=>b!==n.value)),p=F(Object.assign(Object.assign({},l),{[o]:d})),h=F(Object.assign(Object.assign({},c),{literals:p})),m=F(Object.assign(Object.assign({},t.predicates),{[a]:h}));return F(Object.assign(Object.assign({},t),{predicates:m}))}function Is(t,e,n,r){var i,s,o;if(!Tt(e))throw new bn(e);const a=me(e),c=(i=t.predicates[a])!==null&&i!==void 0?i:{},l=(s=c.literals)!==null&&s!==void 0?s:{},u=(o=l[n])!==null&&o!==void 0?o:[],d=F(u.filter(b=>!r(b))),p=F(Object.assign(Object.assign({},l),{[n]:d})),h=F(Object.assign(Object.assign({},c),{literals:p})),m=F(Object.assign(Object.assign({},t.predicates),{[a]:h}));return F(Object.assign(Object.assign({},t),{predicates:m}))}const Gi=(t,e,n)=>{if(ye(t),!Tt(e))throw new bn(e);if(!Ya(n)&&!Tt(n))throw new eh(n);return Al(Dt(t,e),e,n)},zn=Gi,xI=(t,e,n)=>(ye(t),l0(Dt(t,e),e,n)),II=(t,e,n)=>(ye(t),u0(Dt(t,e),e,n)),NI=(t,e,n)=>(ye(t),d0(Dt(t,e),e,n)),RI=(t,e,n)=>(ye(t),f0(Dt(t,e),e,n)),DI=(t,e,n)=>(ye(t),h0(Dt(t,e),e,n)),OI=(t,e,n)=>(ye(t),p0(Dt(t,e),e,n));function wm(t,e,n,r){return ye(t),Jc(Dt(t,e),e,n,r)}const kI=(t,e,n)=>(ye(t),th(Dt(t,e),e,n));function SI(t,e,n){return ye(t),nh(Dt(t,e),e,n)}function AI(t,e,n){return ye(t),rh(Dt(t,e),e,n)}function $I(t,e,n){if(ye(t),!Tt(e))throw new bn(e);return m0(Dt(t,e),e,n)}function gr(t=Dn()){let e=Ya(t)?t:Dn(t);function n(o){return(a,c)=>(e=o(e,a,c),s)}function r(o){return(a,c)=>(e=o(e,a,c),s)}function i(o){return(a,c)=>(e=o(e,a,c),s)}const s={build:()=>e,addUrl:n(Al),addIri:n(ge),addBoolean:n(l0),addDatetime:n(u0),addDate:n(d0),addTime:n(f0),addDecimal:n(h0),addInteger:n(p0),addStringNoLocale:n(th),addStringEnglish:(o,a)=>(e=Jc(e,o,a,"en"),s),addStringWithLocale:(o,a,c)=>(e=Jc(e,o,a,c),s),addNamedNode:n(nh),addLiteral:n(rh),addTerm:n(m0),setUrl:r(Gi),setIri:r(zn),setBoolean:r(xI),setDatetime:r(II),setDate:r(NI),setTime:r(RI),setDecimal:r(DI),setInteger:r(OI),setStringNoLocale:r(kI),setStringEnglish:(o,a)=>(e=wm(e,o,a,"en"),s),setStringWithLocale:(o,a,c)=>(e=wm(e,o,a,c),s),setNamedNode:r(SI),setLiteral:r(AI),setTerm:r($I),removeAll:o=>(e=Dt(e,o),s),removeUrl:i(ih),removeIri:i(qe),removeBoolean:i(gI),removeDatetime:i(_I),removeDate:i(wI),removeTime:i(yI),removeDecimal:i(bI),removeInteger:i(vI),removeStringNoLocale:i(g0),removeStringEnglish:(o,a)=>gr(Zd(e,o,a,"en")),removeStringWithLocale:(o,a,c)=>gr(Zd(e,o,a,c)),removeNamedNode:i(TI),removeLiteral:i(EI)};return s}function _0(t){const e=Ox(t).type;return Array.isArray(e)&&e.includes(A.AccessControlResource)}async function sh(t,e=tt){if(!Ns(t))return{resourceAcl:null,fallbackAcl:null};try{const n=await w0(t,e);return n===null?{resourceAcl:null,fallbackAcl:await y0(t,e)}:{resourceAcl:n,fallbackAcl:null}}catch(n){if(n instanceof Qd)return{resourceAcl:null,fallbackAcl:null};throw n}}async function w0(t,e=tt){if(!Ns(t))return null;try{const n=await Ga(t.internal_resourceInfo.aclUrl,e);if(_0(n))throw new Qd(t,n);return F(Object.assign(Object.assign({},n),{internal_accessTo:le(t)}))}catch(n){if(n instanceof Qd)throw n;return null}}async function y0(t,e=tt){const n=new URL(le(t)),r=n.pathname;if(r==="/")return null;const i=jI(r),s=new URL(i,n.origin).href,o=await Fa(s,e);if(!Ns(o))return null;const a=await w0(o,e);return a===null?y0(o,e):a}function jI(t){const e=t.substring(t.length-1)==="/"?t.substring(0,t.length-1):t;return t.substring(0,e.lastIndexOf("/"))+"/"}const Jn={read:"http://www.w3.org/ns/auth/acl#Read",append:"http://www.w3.org/ns/auth/acl#Append",write:"http://www.w3.org/ns/auth/acl#Write",control:"http://www.w3.org/ns/auth/acl#Control"};function oh(t,e){return Object.assign(Pa(t),{internal_acl:e})}class Qd extends Error{constructor(e,n){super(`[${ds(e)}] is governed by Access Control Policies in [${ds(n)}] rather than by Web Access Control.`)}}function Ns(t){return typeof t.internal_resourceInfo.aclUrl=="string"}Fg.dataset;function be(t){if(!Eo(t))throw new Error(`An Access Control Resource for [${le(t)}] is not available. This could be because the current user is not allowed to see it, or because their Pod Server does not support Access Control Resources.`);return t.internal_acp.acr}function hn(t,e){return Object.assign(Pa(t),{internal_acp:Object.assign(Object.assign({},t.internal_acp),{acr:e})})}function b0(t){let e=Dn(t);return e=zn(e,Rn.type,A.AccessControl),e}function MI(t,e,n){const r=be(t),i=nt(r,e,n);return i===null||!pe(i,Rn.type).includes(A.AccessControl)?null:i}function oi(t,e){const n=be(t),r=qi(n,e),i=r.filter(o=>pe(o,Rn.type).includes(A.AccessControl)),s=r.filter(o=>pe(o,A.accessControl).length>0).map(o=>{const a=pe(o,A.accessControl)[0];return Dn({url:a})});return i.concat(s)}function Rs(t,e){const n=be(t),r=fn(n,e);return hn(t,r)}function v0(t,e){return ge(t,A.apply,e)}function T0(t){return pe(t,A.apply)}function E0(t,e){return qe(t,A.apply,e)}function x0(t){return Dt(t,A.apply)}function I0(t,e){return ge(t,A.applyMembers,e)}function Xd(t){return pe(t,A.applyMembers)}function CI(t,e){return qe(t,A.applyMembers,e)}function N0(t){return Dt(t,A.applyMembers)}function R0(t){const e=oi(t);return e.length===0?b0():e[0]}function Wa(t){return Ca(t)&&Array.isArray(t.internal_resourceInfo.linkedResources[A.accessControl])&&t.internal_resourceInfo.linkedResources[A.accessControl].length===1}function $l(t,e){var n;const r=be(t),i=le(r);let s=(n=nt(r,i))!==null&&n!==void 0?n:Dn({url:i});s=ge(s,A.access,e);const o=fn(r,s);return hn(t,o)}function ah(t,e){var n;const r=be(t),i=le(r);let s=(n=nt(r,i))!==null&&n!==void 0?n:Dn({url:i});s=ge(s,A.accessMembers,e);const o=fn(r,s);return hn(t,o)}function Ds(t){const e=be(t),n=le(e),r=nt(e,n);return r===null?[]:pe(r,A.access)}function Va(t){const e=be(t),n=le(e),r=nt(e,n);return r===null?[]:pe(r,A.accessMembers)}function jl(t,e){const n=be(t),r=le(n),i=nt(n,r);if(i===null)return t;const s=qe(i,A.access,e),o=fn(n,s);return hn(t,o)}function ch(t,e){const n=be(t),r=le(n),i=nt(n,r);if(i===null)return t;const s=qe(i,A.accessMembers,e),o=fn(n,s);return hn(t,o)}function Ml(t){const e=be(t),n=le(e),r=nt(e,n);if(r===null)return t;const i=Dt(r,A.access),s=fn(e,i);return hn(t,s)}function Cl(t){const e=be(t),n=le(e),r=nt(e,n);if(r===null)return t;const i=Dt(r,A.accessMembers),s=fn(e,i);return hn(t,s)}function lh(t,e){const n=R0(t),r=v0(n,e);return Rs(t,r)}function D0(t,e){const n=R0(t),r=I0(n,e);return Rs(t,r)}function To(t){const n=oi(t).map(i=>T0(i)),r=new Set;return n.forEach(i=>{i.forEach(s=>r.add(s))}),Array.from(r)}function Ll(t){const n=oi(t).map(i=>Xd(i)),r=new Set;return n.forEach(i=>{i.forEach(s=>r.add(s))}),Array.from(r)}function uh(t,e){return oi(t).map(s=>E0(s,e)).reduce(Rs,t)}function O0(t,e){return oi(t).map(s=>CI(s,e)).reduce(Rs,t)}function dh(t){return oi(t).map(i=>x0(i)).reduce(Rs,t)}function fh(t){return oi(t).map(i=>N0(i)).reduce(Rs,t)}function k0(t){let e=`# Access controls for ${le(t)}
`;const n=To(t),r=Ll(t),i=Ds(t),s=Va(t);return n.length===0&&r.length===0&&i.length===0&&s.length===0&&(e+=`
<no policies specified yet>
`),n.length>0&&(e+=`
The following policies apply to this resource:
- `,e+=n.join(`
- `)+`
`),i.length>0&&(e+=`
The following policies apply to the access control resource for this resource:
- `,e+=i.join(`
- `)+`
`),r.length>0&&(e+=`
The following policies apply to the children of this resource:
- `,e+=r.join(`
- `)+`
`),s.length>0&&(e+=`
The following policies apply to the access control resources for children of this resource:
- `,e+=s.join(`
- `)+`
`),e}const Gt="http://www.w3.org/ns/solid/acp#",$e={AccessControl:Gt.concat("AccessControl"),AccessControlResource:Gt.concat("AccessControlResource"),AuthenticatedAgent:Gt.concat("AuthenticatedAgent"),CreatorAgent:Gt.concat("CreatorAgent"),Matcher:Gt.concat("Matcher"),Policy:Gt.concat("Policy"),PublicAgent:Gt.concat("PublicAgent"),access:Gt.concat("access"),accessControl:Gt.concat("accessControl"),agent:Gt.concat("agent"),allOf:Gt.concat("allOf"),allow:Gt.concat("allow"),anyOf:Gt.concat("anyOf"),apply:Gt.concat("apply"),client:Gt.concat("client"),deny:Gt.concat("deny"),memberAccessControl:Gt.concat("memberAccessControl"),noneOf:Gt.concat("noneOf"),vc:Gt.concat("vc")},hc="http://www.w3.org/ns/auth/acl#",no={Append:hc.concat("Append"),Control:hc.concat("Control"),Read:hc.concat("Read"),Write:hc.concat("Write")},LI="http://www.w3.org/ns/solid/vc#SolidAccessGrant";function Ha(t){const e=be(t),n=le(e);return nt(e,n)}const Kd="defaultAccessControl",Jd="defaultAcrAccessControl",ef="defaultMemberAccessControl",tf="defaultMemberAcrAccessControl";function S0(t,e){const n=be(t);return le(n).concat("#").concat(e)}function Br(t,e){const n=be(t),r=S0(t,e),i=nt(n,r);return i===null||typeof i=="undefined"?Dn({url:r}):i}function A0(t,e){const n=pe(t,e);return{read:n.includes(no.Read),append:n.includes(no.Append),write:n.includes(no.Write),controlRead:!1,controlWrite:!1}}function PI(t,e){return Object.assign(Pa(t),{internal_acp:{acr:e}})}function UI(t,e,n){let r=Dt(t,n);return(e.read||e.controlRead)&&(r=ge(r,n,no.Read)),e.append&&(r=ge(r,n,no.Append)),(e.write||e.controlWrite)&&(r=ge(r,n,no.Write)),r}const $0="defaultVcPolicy",j0="defaultVcMatcher";function FI(t,e){var n,r;let i=be(t);const s=`${ds(i)}#${$0}`,o=`${ds(i)}#${j0}`;let a=Br(t,"defaultAccessControl"),c=(n=Ha(t))!==null&&n!==void 0?n:gr({url:ds(i)}).addIri($e.accessControl,a).build();pe(c,$e.accessControl).includes(za(a))||(c=ge(c,$e.accessControl,a));let l=nt(i,s);l===null&&(l=gr({url:s}).addIri(Rn.type,$e.Policy).addIri($e.anyOf,o).build(),a=ge(a,$e.apply,l));const u=(r=nt(i,o))!==null&&r!==void 0?r:gr({url:o}).addIri(Rn.type,$e.Matcher).addIri($e.vc,LI).build(),d=A0(l,$e.allow);return l=UI(l,Object.assign(Object.assign({},d),e),$e.allow),i=[c,a,l,u].reduce(fn,i),PI(t,i)}const Ju={read:!1,append:!1,write:!1,controlRead:!1,controlWrite:!1},ed=(t,e,n)=>pe(t,e).includes(za(n));function BI(t){const e=be(t),n=Br(t,"defaultAccessControl"),r=Ha(t);if(r===null||!ed(r,$e.accessControl,n))return Ju;const i=`${ds(e)}#${$0}`,s=nt(e,i);if(s===null||!ed(n,$e.apply,s))return Ju;const o=`${ds(e)}#${j0}`,a=nt(e,o);return a===null||!ed(s,$e.anyOf,a)?Ju:A0(s,$e.allow)}async function Pl(t,e=tt){const n=me(t),r=Object.assign(Object.assign({},tt),e),i=await Ga(n,r),s=await Os(i,r);return Object.assign(Object.assign({},i),s)}async function Ul(t,e=tt){const n=me(t),r=Object.assign(Object.assign({},tt),e),i=await V_(n,r),s=await Os(i,r);return Object.assign(i,s)}async function Fl(t,e=tt){const n=me(t),r=Object.assign(Object.assign({},tt),e),i=await Fa(n,r),s=await Os(i,r);return Object.assign(Object.assign({},i),s)}async function Bl(t,e=tt){const n=me(t),r=Object.assign(Object.assign({},tt),e),i=await Ga(n,r);if(Ns(i)){const s=await sh(i,r);return oh(i,s)}else{const s=await Os(i,r);return Object.assign(Object.assign({},i),s)}}async function ql(t,e=tt){const n=me(t),r=Object.assign(Object.assign({},tt),e),i=await V_(n,r);if(Ns(i)){const s=await sh(i,r);return oh(i,s)}else{const s=await Os(i,r);return Object.assign(i,s)}}async function Yl(t,e=tt){const n=me(t),r=Object.assign(Object.assign({},tt),e),i=await Fa(n,r);if(Ns(i)){const s=await sh(i,r);return oh(i,s)}else{const s=await Os(i,r);return Object.assign(Object.assign({},i),s)}}async function zl(t,e=tt){const n=be(t),r=Object.assign(Object.assign({},tt),e),i=await c0(le(n),n,r);return hn(t,i)}function Eo(t){return typeof t.internal_acp=="object"&&t.internal_acp!==null&&typeof t.internal_acp.acr=="object"&&t.internal_acp.acr!==null}async function Os(t,e){let n;if(Wa(t))n=t.internal_resourceInfo.linkedResources[A.accessControl][0];else if(Ns(t)){const o=await Fa(t.internal_resourceInfo.aclUrl,e);_0(o)&&(n=le(o))}if(typeof n!="string")return{internal_acp:{acr:null}};let r;try{r=await Ga(n,e)}catch{return{internal_acp:{acr:null}}}return{internal_acp:{acr:Object.assign(Object.assign({},r),{accessTo:le(t)})}}}function Gl(t){const e=To(t).map(Gs).concat(Ll(t).map(Gs)).concat(Ds(t).map(Gs)).concat(Va(t).map(Gs));return Array.from(new Set(e))}async function M0(t,e=tt){const n=me(t),r=Object.assign(Object.assign({},tt),e),i=await Fa(n,r);return Eo(await Os(i,r))}function qI(t){return Ca(t)?[A.accessControl,"acl"].map(n=>{if(Array.isArray(t.internal_resourceInfo.linkedResources[n])&&t.internal_resourceInfo.linkedResources[n].length===1)return t.internal_resourceInfo.linkedResources[n][0]}).find(n=>n!==void 0):void 0}function hh(t){return pe(t,Rn.type).includes(A.Rule)}function ph(t,e){return ge(t,A.allOf,e)}function mh(t,e){return qe(t,A.allOf,e)}function gh(t,e){return zn(t,A.allOf,e)}function Wl(t){return pe(t,A.allOf)}function _h(t,e){return ge(t,A.anyOf,e)}function wh(t,e){return qe(t,A.anyOf,e)}function yh(t,e){return zn(t,A.anyOf,e)}function Vl(t){return pe(t,A.anyOf)}function bh(t,e){return ge(t,A.noneOf,e)}function vh(t,e){return qe(t,A.noneOf,e)}function Th(t,e){return zn(t,A.noneOf,e)}function xo(t){return pe(t,A.noneOf)}function Eh(t){const e=me(t);let n=Dn({url:e});return n=Gi(n,Rn.type,A.Rule),n}function YI(t,e){const n=be(t),r=new URL(le(n));r.hash=`#${e}`;let i=Dn({url:r.href});return i=Gi(i,Rn.type,A.Rule),i}function xh(t,e){const n=nt(t,e);return n===null||Zx(n,Rn.type)!==A.Rule?null:n}function C0(t,e){const n=be(t),r=le(n),i=new URL(r);i.hash=`#${e}`;const s=nt(n,i.href);return s===null||!hh(s)?null:s}function Ih(t){return qi(t).filter(hh)}function zI(t){const e=be(t);return qi(e).filter(hh)}function Nh(t,e){return Yi(t,e)}function GI(t,e){const n=be(t);let r;if(typeof e=="string")try{new URL(e),r=e}catch{const c=new URL(le(n));c.hash=`#${e}`,r=c.href}else Ht(e)?r=me(e):r=fi(e);const i=C0(t,new URL(r).hash.substring(1));if(i===null)return t;const s=Yi(n,i);return hn(t,s)}function Rh(t,e){return fn(t,e)}function WI(t,e){const n=be(t),r=fn(n,e);return hn(t,r)}function Hl(t){return pe(t,A.agent).filter(e=>e!==A.PublicAgent&&e!==A.AuthenticatedAgent&&e!==A.CreatorAgent)}function Dh(t,e){const n=Za(t),r=Qa(t),i=Xa(t);let s=zn(t,A.agent,e);return n&&(s=jh(s)),r&&(s=Mh(s)),i&&(s=Ch(s)),s}function Oh(t,e){return ge(t,A.agent,e)}function kh(t,e){return qe(t,A.agent,e)}function Zl(t){return pe(t,A.group)}function Sh(t,e){return zn(t,A.group,e)}function Ah(t,e){return ge(t,A.group,e)}function $h(t,e){return qe(t,A.group,e)}function Za(t){return pe(t,A.agent).filter(e=>e===A.PublicAgent).length>0}function jh(t){if(typeof arguments=="object"&&typeof arguments[1]=="boolean")throw new Error("The function `setPublic` no longer takes a second parameter. It is now used together with `removePublic` instead.");return ge(t,A.agent,A.PublicAgent)}function L0(t){return qe(t,A.agent,A.PublicAgent)}function Qa(t){return pe(t,A.agent).filter(e=>e===A.AuthenticatedAgent).length>0}function Mh(t){if(typeof arguments=="object"&&typeof arguments[1]=="boolean")throw new Error("The function `setAuthenticated` no longer takes a second parameter. It is now used together with `removeAuthenticated` instead.");return ge(t,A.agent,A.AuthenticatedAgent)}function P0(t){return qe(t,A.agent,A.AuthenticatedAgent)}function Xa(t){return pe(t,A.agent).filter(e=>e===A.CreatorAgent).length>0}function Ch(t){if(typeof arguments=="object"&&typeof arguments[1]=="boolean")throw new Error("The function `setCreator` no longer takes a second parameter. It is now used together with `removeCreator` instead.");return ge(t,A.agent,A.CreatorAgent)}function U0(t){return qe(t,A.agent,A.CreatorAgent)}function F0(t){return pe(t,A.client).filter(e=>e!==Bi.PublicOidcClient)}function VI(t,e){const n=Lh(t);let r=zn(t,A.client,e);return n&&(r=B0(r)),r}function HI(t,e){return ge(t,A.client,e)}function ZI(t,e){return qe(t,A.client,e)}function Lh(t){return pe(t,A.client).filter(e=>e===Bi.PublicOidcClient).length>0}function B0(t){return ge(t,A.client,Bi.PublicOidcClient)}function QI(t){return qe(t,A.client,Bi.PublicOidcClient)}function Ph(t){let e=`## Rule: ${fi(t)}

`,n="";Za(t)&&(n+=`- Everyone
`),Qa(t)&&(n+=`- All authenticated agents
`),Xa(t)&&(n+=`- The creator of this resource
`),Lh(t)&&(n+=`- Users of any client application
`);const r=Hl(t);r.length>0&&(n+=`- The following agents:
  - `,n+=r.join(`
  - `)+`
`);const i=Zl(t);i.length>0&&(n+=`- Members of the following groups:
  - `,n+=i.join(`
  - `)+`
`);const s=F0(t);return s.length>0&&(n+=`- Users of the following client applications:
  - `,n+=s.join(`
  - `)+`
`),e+=n.length>0?`This rule applies to:
`+n:`<empty>
`,e}function Io(t){return pe(t,Rn.type).includes(A.Policy)}function Ql(t){const e=me(t);let n=Dn({url:e});return n=Gi(n,Rn.type,A.Policy),n}function Xl(t,e){const n=nt(t,e);return n===null||!Io(n)?null:n}function Kl(t){return qi(t).filter(r=>!vo(r)&&Io(r))}function Jl(t,e){return Yi(t,e)}function eu(t,e){return fn(t,e)}function XI(t,e){let n=Dt(t,A.allow);return e.read===!0&&(n=ge(n,A.allow,Jn.read)),e.append===!0&&(n=ge(n,A.allow,Jn.append)),e.write===!0&&(n=ge(n,A.allow,Jn.write)),n}function Uh(t,e){let n=Dt(t,A.allow);return e.read===!0&&(n=ge(n,A.allow,A.Read)),e.append===!0&&(n=ge(n,A.allow,A.Append)),e.write===!0&&(n=ge(n,A.allow,A.Write)),n}function KI(t){const e=pe(t,A.allow);return{read:e.includes(Jn.read),append:e.includes(Jn.append),write:e.includes(Jn.write)}}function tu(t){const e=pe(t,A.allow);return{read:e.includes(A.Read),append:e.includes(A.Append),write:e.includes(A.Write)}}function JI(t,e){let n=Dt(t,A.deny);return e.read===!0&&(n=ge(n,A.deny,Jn.read)),e.append===!0&&(n=ge(n,A.deny,Jn.append)),e.write===!0&&(n=ge(n,A.deny,Jn.write)),n}function Fh(t,e){let n=Dt(t,A.deny);return e.read===!0&&(n=ge(n,A.deny,A.Read)),e.append===!0&&(n=ge(n,A.deny,A.Append)),e.write===!0&&(n=ge(n,A.deny,A.Write)),n}function eN(t){const e=pe(t,A.deny);return{read:e.includes(Jn.read),append:e.includes(Jn.append),write:e.includes(Jn.write)}}function nu(t){const e=pe(t,A.deny);return{read:e.includes(A.Read),append:e.includes(A.Append),write:e.includes(A.Write)}}function q0(t,e){const n=be(t),r=new URL(le(n));r.hash=`#${e}`;let i=Dn({url:r.href});return i=Gi(i,Rn.type,A.Policy),i}function Bh(t,e){const n=be(t),r=le(n),i=new URL(r);i.hash=`#${e}`;const s=nt(n,i.href);return!To(t).includes(i.href)||s===null||!Io(s)?null:s}function qh(t,e){const n=be(t),r=le(n),i=new URL(r);i.hash=`#${e}`;const s=nt(n,i.href);return!Ds(t).includes(i.href)||s===null||!Io(s)?null:s}function Y0(t){const e=be(t);return To(t).map(s=>nt(e,s)).filter(s=>s!==null&&Io(s))}function z0(t){const e=be(t);return Ds(t).map(s=>nt(e,s)).filter(s=>s!==null&&Io(s))}function G0(t,e){const n=be(t);let r=e;if(typeof r=="string")try{new URL(r)}catch{const l=new URL(le(n));l.hash=`#${e}`,r=l.href}let i;if(typeof r=="string"?i=r:Ht(r)?i=me(r):i=fi(r,le(n)),Bh(t,new URL(i).hash.substring(1))===null)return t;const o=Yi(n,r),a=hn(t,o);return uh(a,i)}function W0(t,e){const n=be(t);let r=e;if(typeof r=="string")try{new URL(r)}catch{const l=new URL(le(n));l.hash=`#${e}`,r=l.href}let i;if(typeof r=="string"?i=r:Ht(r)?i=me(r):i=fi(r,le(n)),qh(t,new URL(i).hash.substring(1))===null)return t;const o=Yi(n,r),a=hn(t,o);return jl(a,i)}function tN(t,e){const n=be(t),r=fn(n,e),i=hn(t,r),s=fi(e,le(n));return lh(i,s)}function nN(t,e){const n=be(t),r=fn(n,e),i=hn(t,r),s=fi(e,le(n));return $l(i,s)}function Yh(t){function e(c,l){return l?"denied":c?"allowed":"unspecified"}const n=tu(t),r=nu(t);let i=`## Policy: ${fi(t)}

`;i+=`- Read: ${e(n.read,r.read)}
`,i+=`- Append: ${e(n.append,r.append)}
`,i+=`- Write: ${e(n.write,r.write)}
`;const s=Wl(t),o=Vl(t),a=xo(t);return s.length===0&&o.length===0&&a.length===0&&(i+=`
<no rules specified yet>
`),s.length>0&&(i+=`
All of these rules should match:
`,i+="- "+s.join(`
- `)+`
`),o.length>0&&(i+=`
At least one of these rules should match:
`,i+="- "+o.join(`
- `)+`
`),a.length>0&&(i+=`
None of these rules should match:
`,i+="- "+a.join(`
- `)+`
`),i}function Ka(t){const e=new URL("access-control-resource",t).href;return Object.assign(Object.assign({},mI(e)),{accessTo:t})}function ru(t,e=Ka(le(t))){return Object.assign(Pa(t),{internal_acp:{acr:e,aprs:{}}})}const rN={getFileWithAccessDatasets:ql,getFileWithAcr:Ul,getReferencedPolicyUrlAll:Gl,getResourceInfoWithAccessDatasets:Yl,getResourceInfoWithAcr:Fl,getSolidDatasetWithAccessDatasets:Bl,getSolidDatasetWithAcr:Pl,hasAccessibleAcr:Eo,saveAcrFor:zl},iN={acrAsMarkdown:k0,addAcrPolicyUrl:$l,addMemberAcrPolicyUrl:ah,addMemberPolicyUrl:D0,addPolicyUrl:lh,getAcrPolicyUrlAll:Ds,getMemberAcrPolicyUrlAll:Va,getMemberPolicyUrlAll:Ll,getPolicyUrlAll:To,hasLinkedAcr:Wa,removeAcrPolicyUrl:jl,removeAcrPolicyUrlAll:Ml,removeMemberAcrPolicyUrl:ch,removeMemberAcrPolicyUrlAll:Cl,removeMemberPolicyUrl:O0,removeMemberPolicyUrlAll:fh,removePolicyUrl:uh,removePolicyUrlAll:dh},sN={createPolicy:Ql,getAllowModes:tu,getDenyModes:nu,getPolicy:Xl,getPolicyAll:Kl,policyAsMarkdown:Yh,removePolicy:Jl,setAllowModes:Uh,setDenyModes:Fh,setPolicy:eu},oN={addAgent:Oh,addForbiddenRuleUrl:bh,addGroup:Ah,addOptionalRuleUrl:_h,addRequiredRuleUrl:ph,createRule:Eh,getAgentAll:Hl,getForbiddenRuleUrlAll:xo,getGroupAll:Zl,getOptionalRuleUrlAll:Vl,getRequiredRuleUrlAll:Wl,getRule:xh,getRuleAll:Ih,hasAuthenticated:Qa,hasCreator:Xa,hasPublic:Za,removeAgent:kh,removeForbiddenRuleUrl:vh,removeGroup:$h,removeOptionalRuleUrl:wh,removeRequiredRuleUrl:mh,removeRule:Nh,ruleAsMarkdown:Ph,setAgent:Dh,setForbiddenRuleUrl:Th,setGroup:Sh,setOptionalRuleUrl:yh,setRequiredRuleUrl:gh,setRule:Rh},aN={addMockAcrTo:ru,mockAcrFor:Ka};function V0(t,e){return e?jh(t):L0(t)}function H0(t,e){return e?Mh(t):P0(t)}function Z0(t,e){return e?Ch(t):U0(t)}const cN={getForbiddenRuleurlAll:xo,setPublic:V0,setAuthenticated:H0,setCreator:Z0};Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},rN),iN),sN),oN),aN),cN);const lN={getFileWithAccessDatasets:ql,getFileWithAcr:Ul,getReferencedPolicyUrlAll:Gl,getResourceInfoWithAccessDatasets:Yl,getResourceInfoWithAcr:Fl,getSolidDatasetWithAccessDatasets:Bl,getSolidDatasetWithAcr:Pl,hasAccessibleAcr:Eo,saveAcrFor:zl},uN={createPolicy:Ql,getAllowModes:tu,getDenyModes:nu,getPolicy:Xl,getPolicyAll:Kl,policyAsMarkdown:Yh,removePolicy:Jl,setAllowModes:Uh,setDenyModes:Fh,setPolicy:eu},dN={addAgent:Oh,addForbiddenRuleUrl:bh,addGroup:Ah,addOptionalRuleUrl:_h,addRequiredRuleUrl:ph,createRule:Eh,getAgentAll:Hl,getForbiddenRuleUrlAll:xo,getGroupAll:Zl,getOptionalRuleUrlAll:Vl,getRequiredRuleUrlAll:Wl,getRule:xh,getRuleAll:Ih,hasAuthenticated:Qa,hasCreator:Xa,hasPublic:Za,removeAgent:kh,removeForbiddenRuleUrl:vh,removeGroup:$h,removeOptionalRuleUrl:wh,removeRequiredRuleUrl:mh,removeRule:Nh,ruleAsMarkdown:Ph,setAgent:Dh,setForbiddenRuleUrl:Th,setGroup:Sh,setOptionalRuleUrl:yh,setRequiredRuleUrl:gh,setRule:Rh},fN={addMockAcrTo:ru,mockAcrFor:Ka},hN={hasLinkedAcr:Wa,addAcrPolicyUrl:$l,addMemberAcrPolicyUrl:ah,getAcrPolicyUrlAll:Ds,getMemberAcrPolicyUrlAll:Va,removeAcrPolicyUrl:jl,removeAcrPolicyUrlAll:Ml,removeMemberAcrPolicyUrl:ch,removeMemberAcrPolicyUrlAll:Cl},pN={createControl:b0,getControl:MI,getAllControl:oi,getControlAll:oi,setControl:Rs,removeControl:mN,addPolicyUrl:v0,getPolicyUrlAll:T0,removePolicyUrl:E0,removePolicyUrlAll:x0,addMemberPolicyUrl:I0,getMemberPolicyUrlAll:Xd,removeMemberPolicyUrl:Xd,removeMemberPolicyUrlAll:N0,getForbiddenRuleurlAll:xo,setPublic:V0,setAuthenticated:H0,setCreator:Z0};Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},lN),uN),dN),fN),hN),pN);function mN(t,e){const n=be(t),r=Yi(n,e);return hn(t,r)}const gN={getFileWithAccessDatasets:ql,getFileWithAcr:Ul,getLinkedAcrUrl:qI,getReferencedPolicyUrlAll:Gl,getResourceInfoWithAccessDatasets:Yl,getResourceInfoWithAcr:Fl,getSolidDatasetWithAccessDatasets:Bl,getSolidDatasetWithAcr:Pl,hasAccessibleAcr:Eo,saveAcrFor:zl,isAcpControlled:M0},_N={acrAsMarkdown:k0,addAcrPolicyUrl:$l,addMemberAcrPolicyUrl:ah,addMemberPolicyUrl:D0,addPolicyUrl:lh,getAcrPolicyUrlAll:Ds,getMemberAcrPolicyUrlAll:Va,getMemberPolicyUrlAll:Ll,getPolicyUrlAll:To,hasLinkedAcr:Wa,removeAcrPolicyUrl:jl,removeAcrPolicyUrlAll:Ml,removeMemberAcrPolicyUrl:ch,removeMemberAcrPolicyUrlAll:Cl,removeMemberPolicyUrl:O0,removeMemberPolicyUrlAll:fh,removePolicyUrl:uh,removePolicyUrlAll:dh},wN={createPolicy:Ql,getAllowModes:tu,getDenyModes:nu,getPolicy:Xl,getPolicyAll:Kl,policyAsMarkdown:Yh,removePolicy:Jl,setAllowModes:Uh,setDenyModes:Fh,setPolicy:eu,createResourcePolicyFor:q0,getResourceAcrPolicy:qh,getResourceAcrPolicyAll:z0,getResourcePolicy:Bh,getResourcePolicyAll:Y0,removeResourceAcrPolicy:W0,removeResourcePolicy:G0,setResourceAcrPolicy:nN,setResourcePolicy:tN},yN={addAgent:Oh,addGroup:Ah,createRule:Eh,getAgentAll:Hl,getGroupAll:Zl,getRule:xh,getRuleAll:Ih,removeAgent:kh,removeGroup:$h,removeRule:Nh,ruleAsMarkdown:Ph,setAgent:Dh,setGroup:Sh,setRule:Rh,addClient:HI,getClientAll:F0,hasAnyClient:Lh,removeClient:ZI,setAnyClient:B0,setClient:VI,removeAnyClient:QI,hasAuthenticated:Qa,hasCreator:Xa,hasPublic:Za,setAuthenticated:Mh,setCreator:Ch,setPublic:jh,removeAuthenticated:P0,removeCreator:U0,removePublic:L0,getAnyOfRuleUrlAll:Vl,addAnyOfRuleUrl:_h,removeAnyOfRuleUrl:wh,setAnyOfRuleUrl:yh,getAllOfRuleUrlAll:Wl,addAllOfRuleUrl:ph,removeAllOfRuleUrl:mh,setAllOfRuleUrl:gh,getNoneOfRuleUrlAll:xo,addNoneOfRuleUrl:bh,removeNoneOfRuleUrl:vh,setNoneOfRuleUrl:Th,createResourceRuleFor:YI,getResourceRule:C0,getResourceRuleAll:zI,removeResourceRule:GI,setResourceRule:WI},bN={addMockAcrTo:ru,mockAcrFor:Ka};Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},gN),_N),wN),yN),bN);function qr(t,e){return Object.assign(Pa(t),{internal_acp:Object.assign(Object.assign({},t.internal_acp),{acr:fn(t.internal_acp.acr,e)})})}function ym(t){return t.includes("Member")?$e.memberAccessControl:$e.accessControl}function iu(t,e){const n=S0(t,e),r=be(t);let i=Ha(t);return(i===null||typeof i=="undefined")&&(i=Dn({url:le(r)})),pe(i,ym(e)).includes(n)?t:(i=gr(i).addUrl(ym(e),n).build(),qr(t,i))}function vN(t,e){const n=iu(t,Jd),r=Br(n,Jd);return qr(n,gr(r).addUrl($e.access,e).build())}function TN(t,e){const n=iu(t,tf),r=Br(n,tf);return qr(n,gr(r).addUrl($e.access,e).build())}function EN(t,e){const n=iu(t,ef),r=Br(n,ef);return qr(n,gr(r).addUrl($e.apply,e).build())}function xN(t,e){const n=iu(t,Kd),r=Br(n,Kd);return qr(n,gr(r).addUrl($e.apply,e).build())}function Q0(t){const e=Ha(t);return e===null?[]:pe(e,$e.accessControl)}function su(t,e,n){const r=be(t);return Array.from(new Set(e.map(i=>{const s=nt(r,i);return s!==null?pe(s,n):[]}).reduce((i,s)=>i.concat(s),[])))}function IN(t){return su(t,Q0(t),$e.access)}function X0(t){const e=Ha(t);return e===null?[]:pe(e,$e.memberAccessControl)}function NN(t){return su(t,X0(t),$e.access)}function RN(t){return su(t,X0(t),$e.apply)}function DN(t){return su(t,Q0(t),$e.apply)}function ON(t,e){const n=Br(t,Jd);return qr(t,qe(n,$e.access,e))}function kN(t,e){const n=Br(t,tf);return qr(t,qe(n,$e.access,e))}function SN(t,e){const n=Br(t,ef);return qr(t,qe(n,$e.apply,e))}function AN(t,e){const n=Br(t,Kd);return qr(t,qe(n,$e.apply,e))}function $N(t,e){return qr(t,e)}function ou(t){return pe(t,Rn.type).includes(A.Matcher)}function jN(t,e){return ge(t,A.allOf,e)}function MN(t,e){return qe(t,A.allOf,e)}function CN(t,e){return zn(t,A.allOf,e)}function LN(t){return pe(t,A.allOf)}function PN(t,e){return ge(t,A.anyOf,e)}function UN(t,e){return qe(t,A.anyOf,e)}function FN(t,e){return zn(t,A.anyOf,e)}function BN(t){return pe(t,A.anyOf)}function qN(t,e){return ge(t,A.noneOf,e)}function YN(t,e){return qe(t,A.noneOf,e)}function zN(t,e){return zn(t,A.noneOf,e)}function GN(t){return pe(t,A.noneOf)}function WN(t){const e=me(t);let n=Dn({url:e});return n=Gi(n,Rn.type,A.Matcher),n}function VN(t,e){const n=be(t),r=new URL(le(n));r.hash=`#${e}`;let i=Dn({url:r.href});return i=Gi(i,Rn.type,A.Matcher),i}function HN(t,e){const n=nt(t,e);return n===null||!ou(n)?null:n}function K0(t,e){const n=be(t),r=le(n),i=new URL(r);i.hash=`#${e}`;const s=nt(n,i.href);return s===null||!ou(s)?null:s}function ZN(t){return qi(t).filter(ou)}function QN(t){const e=be(t);return qi(e).filter(ou)}function XN(t,e){return Yi(t,e)}function KN(t,e){const n=be(t);let r;if(typeof e=="string")try{new URL(e),r=e}catch{const c=new URL(le(n));c.hash=`#${e}`,r=c.href}else Ht(e)?r=me(e):r=fi(e);const i=K0(t,new URL(r).hash.substring(1));if(i===null)return t;const s=Yi(n,i);return hn(t,s)}function JN(t,e){return fn(t,e)}function eR(t,e){const n=be(t),r=fn(n,e);return hn(t,r)}function tR(t){return pe(t,A.agent).filter(e=>e!==A.PublicAgent&&e!==A.AuthenticatedAgent&&e!==A.CreatorAgent)}function nR(t,e){const n=J0(t),r=tw(t),i=rw(t);let s=zn(t,A.agent,e);return n&&(s=ew(s)),r&&(s=nw(s)),i&&(s=iw(s)),s}function rR(t,e){return ge(t,A.agent,e)}function iR(t,e){return qe(t,A.agent,e)}function J0(t){return pe(t,A.agent).filter(e=>e===A.PublicAgent).length>0}function ew(t){if(typeof arguments=="object"&&typeof arguments[1]=="boolean")throw new Error("The function `setPublic` no longer takes a second parameter. It is now used together with `removePublic` instead.");return ge(t,A.agent,A.PublicAgent)}function sR(t){return qe(t,A.agent,A.PublicAgent)}function tw(t){return pe(t,A.agent).filter(e=>e===A.AuthenticatedAgent).length>0}function nw(t){if(typeof arguments=="object"&&typeof arguments[1]=="boolean")throw new Error("The function `setAuthenticated` no longer takes a second parameter. It is now used together with `removeAuthenticated` instead.");return ge(t,A.agent,A.AuthenticatedAgent)}function oR(t){return qe(t,A.agent,A.AuthenticatedAgent)}function rw(t){return pe(t,A.agent).filter(e=>e===A.CreatorAgent).length>0}function iw(t){if(typeof arguments=="object"&&typeof arguments[1]=="boolean")throw new Error("The function `setCreator` no longer takes a second parameter. It is now used together with `removeCreator` instead.");return ge(t,A.agent,A.CreatorAgent)}function aR(t){return qe(t,A.agent,A.CreatorAgent)}function cR(t){return pe(t,A.client).filter(e=>e!==Bi.PublicOidcClient).concat(Xx(t,A.client))}function lR(t,e){const n=sw(t);let r=zn(t,A.client,e);return n&&(r=ow(r)),r}function uR(t,e){return Tt(e)?ge(t,A.client,e):th(t,A.client,e)}function dR(t,e){return Tt(e)?qe(t,A.client,e):g0(t,A.client,e)}function sw(t){return pe(t,A.client).filter(e=>e===Bi.PublicOidcClient).length>0}function ow(t){return ge(t,A.client,Bi.PublicOidcClient)}function fR(t){return qe(t,A.client,Bi.PublicOidcClient)}const hR={getFileWithAccessDatasets:ql,getFileWithAcr:Ul,getReferencedPolicyUrlAll:Gl,getResourceInfoWithAccessDatasets:Yl,getResourceInfoWithAcr:Fl,getSolidDatasetWithAccessDatasets:Bl,getSolidDatasetWithAcr:Pl,hasAccessibleAcr:Eo,saveAcrFor:zl,isAcpControlled:M0,getVcAccess:BI,setVcAccess:FI},pR={addAcrPolicyUrl:vN,addMemberAcrPolicyUrl:TN,addMemberPolicyUrl:EN,addPolicyUrl:xN,getAcrPolicyUrlAll:IN,getMemberAcrPolicyUrlAll:NN,getMemberPolicyUrlAll:RN,getPolicyUrlAll:DN,hasLinkedAcr:Wa,removeAcrPolicyUrl:ON,removeAcrPolicyUrlAll:Ml,removeMemberAcrPolicyUrl:kN,removeMemberAcrPolicyUrlAll:Cl,removeMemberPolicyUrl:SN,removeMemberPolicyUrlAll:fh,removePolicyUrl:AN,removePolicyUrlAll:dh},mR={createPolicy:Ql,getAllowModes:KI,getDenyModes:eN,getPolicy:Xl,getPolicyAll:Kl,removePolicy:Jl,setAllowModes:XI,setDenyModes:JI,setPolicy:eu,createResourcePolicyFor:q0,getResourceAcrPolicy:qh,getResourceAcrPolicyAll:z0,getResourcePolicy:Bh,getResourcePolicyAll:Y0,removeResourceAcrPolicy:W0,removeResourcePolicy:G0,setResourcePolicy:$N},gR={addAgent:rR,createMatcher:WN,getAgentAll:tR,getMatcher:HN,getMatcherAll:ZN,removeAgent:iR,removeMatcher:XN,setAgent:nR,setMatcher:JN,addClient:uR,getClientAll:cR,hasAnyClient:sw,removeClient:dR,setAnyClient:ow,setClient:lR,removeAnyClient:fR,hasAuthenticated:tw,hasCreator:rw,hasPublic:J0,setAuthenticated:nw,setCreator:iw,setPublic:ew,removeAuthenticated:oR,removeCreator:aR,removePublic:sR,getAnyOfMatcherUrlAll:BN,addAnyOfMatcherUrl:PN,removeAnyOfMatcherUrl:UN,setAnyOfMatcherUrl:FN,getAllOfMatcherUrlAll:LN,addAllOfMatcherUrl:jN,removeAllOfMatcherUrl:MN,setAllOfMatcherUrl:CN,getNoneOfMatcherUrlAll:GN,addNoneOfMatcherUrl:qN,removeNoneOfMatcherUrl:YN,setNoneOfMatcherUrl:zN,createResourceMatcherFor:VN,getResourceMatcher:K0,getResourceMatcherAll:QN,removeResourceMatcher:KN,setResourceMatcher:eR},_R={addMockAcrTo:ru,mockAcrFor:Ka};Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},hR),pR),mR),gR),_R);var aw="http://www.w3.org/1999/02/22-rdf-syntax-ns#";function mt(t){return aw+t}var wR={PREFIX:"rdf",NAMESPACE:aw,PREFIX_AND_NAMESPACE:{rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#"},NS:mt,Property:mt("Property"),HTML:mt("HTML"),langString:mt("langString"),PlainLiteral:mt("PlainLiteral"),Statement:mt("Statement"),Bag:mt("Bag"),Seq:mt("Seq"),Alt:mt("Alt"),List:mt("List"),XMLLiteral:mt("XMLLiteral"),JSON:mt("JSON"),CompoundLiteral:mt("CompoundLiteral"),type:mt("type"),subject:mt("subject"),predicate:mt("predicate"),object:mt("object"),value:mt("value"),nil:mt("nil"),first:mt("first"),rest:mt("rest"),language:mt("language"),direction:mt("direction")},cw="http://schema.org/";function ue(t){return cw+t}var yR={PREFIX:"schema-inrupt",NAMESPACE:cw,PREFIX_AND_NAMESPACE:{"schema-inrupt":"http://schema.org/"},NS:ue,Organization:ue("Organization"),Person:ue("Person"),ImageObject:ue("ImageObject"),URL:ue("URL"),MedicalTherapy:ue("MedicalTherapy"),EducationalOccupationalCredential:ue("EducationalOccupationalCredential"),PostalAddress:ue("PostalAddress"),Product:ue("Product"),Event:ue("Event"),alternateName:ue("alternateName"),givenName:ue("givenName"),familyName:ue("familyName"),additionalName:ue("additionalName"),license:ue("license"),name:ue("name"),text:ue("text"),identifier:ue("identifier"),description:ue("description"),image:ue("image"),url:ue("url"),startTime:ue("startTime"),endTime:ue("endTime"),startDate:ue("startDate"),endDate:ue("endDate"),email:ue("email"),primaryPrevention:ue("primaryPrevention"),qualifications:ue("qualifications"),attendee:ue("attendee"),address:ue("address"),streetAddress:ue("streetAddress"),addressLocality:ue("addressLocality"),addressRegion:ue("addressRegion"),postalCode:ue("postalCode"),addressCountry:ue("addressCountry"),accessCode:ue("accessCode"),accountId:ue("accountId"),serialNumber:ue("serialNumber"),productID:ue("productID"),brand:ue("brand"),model:ue("model"),value:ue("value"),distance:ue("distance"),latitude:ue("latitude"),longitude:ue("longitude"),dateModified:ue("dateModified")};function bR(t){let e,n;return e=new Sf({props:{src:a1,class:"cursor-pointer",size:"16"}}),{c(){gt(e.$$.fragment)},l(r){_t(e.$$.fragment,r)},m(r,i){wt(e,r,i),n=!0},p:ri,i(r){n||(ce(e.$$.fragment,r),n=!0)},o(r){fe(e.$$.fragment,r),n=!1},d(r){yt(e,r)}}}function vR(t){let e,n;return e=new Sf({props:{src:c1,class:"cursor-pointer",size:"16"}}),{c(){gt(e.$$.fragment)},l(r){_t(e.$$.fragment,r)},m(r,i){wt(e,r,i),n=!0},p:ri,i(r){n||(ce(e.$$.fragment,r),n=!0)},o(r){fe(e.$$.fragment,r),n=!1},d(r){yt(e,r)}}}function TR(t){let e;return{c(){e=bt("Create new event")},l(n){e=vt(n,"Create new event")},m(n,r){Be(n,e,r)},d(n){n&&ne(e)}}}function ER(t){let e,n;return e=new Sf({props:{slot:"icon",src:l1,size:"16"}}),{c(){gt(e.$$.fragment)},l(r){_t(e.$$.fragment,r)},m(r,i){wt(e,r,i),n=!0},p:ri,i(r){n||(ce(e.$$.fragment,r),n=!0)},o(r){fe(e.$$.fragment,r),n=!1},d(r){yt(e,r)}}}function xR(t){let e,n,r,i,s,o,a,c,l,u,d,p,h,m,_,b;return s=new _p({props:{filled:!0,$$slots:{default:[bR]},$$scope:{ctx:t}}}),s.$on("click",t[2]),a=new _p({props:{filled:!0,$$slots:{default:[vR]},$$scope:{ctx:t}}}),a.$on("click",t[3]),d=new fs({props:{$$slots:{icon:[ER],default:[TR]},$$scope:{ctx:t}}}),d.$on("click",$i.new),h=new V1({props:{firstname:"Abel",lastname:"de Bruijn"}}),h.$on("click",t[1]),_=new z1({props:{startOfWeek:t[0]}}),{c(){e=dt("div"),n=dt("h1"),r=bt("Your calendar"),i=ct(),gt(s.$$.fragment),o=ct(),gt(a.$$.fragment),c=ct(),l=dt("div"),u=ct(),gt(d.$$.fragment),p=ct(),gt(h.$$.fragment),m=ct(),gt(_.$$.fragment),this.h()},l(v){e=ft(v,"DIV",{class:!0});var T=Ke(e);n=ft(T,"H1",{class:!0});var x=Ke(n);r=vt(x,"Your calendar"),x.forEach(ne),i=lt(T),_t(s.$$.fragment,T),o=lt(T),_t(a.$$.fragment,T),c=lt(T),l=ft(T,"DIV",{class:!0}),Ke(l).forEach(ne),u=lt(T),_t(d.$$.fragment,T),p=lt(T),_t(h.$$.fragment,T),T.forEach(ne),m=lt(v),_t(_.$$.fragment,v),this.h()},h(){ht(n,"class","text-3xl font-bold underline"),ht(l,"class","m-auto"),ht(e,"class","flex py-5 px-4 justify-between items-center gap-4")},m(v,T){Be(v,e,T),ie(e,n),ie(n,r),ie(e,i),wt(s,e,null),ie(e,o),wt(a,e,null),ie(e,c),ie(e,l),ie(e,u),wt(d,e,null),ie(e,p),wt(h,e,null),Be(v,m,T),wt(_,v,T),b=!0},p(v,[T]){const x={};T&1024&&(x.$$scope={dirty:T,ctx:v}),s.$set(x);const N={};T&1024&&(N.$$scope={dirty:T,ctx:v}),a.$set(N);const D={};T&1024&&(D.$$scope={dirty:T,ctx:v}),d.$set(D);const O={};T&1&&(O.startOfWeek=v[0]),_.$set(O)},i(v){b||(ce(s.$$.fragment,v),ce(a.$$.fragment,v),ce(d.$$.fragment,v),ce(h.$$.fragment,v),ce(_.$$.fragment,v),b=!0)},o(v){fe(s.$$.fragment,v),fe(a.$$.fragment,v),fe(d.$$.fragment,v),fe(h.$$.fragment,v),fe(_.$$.fragment,v),b=!1},d(v){v&&ne(e),yt(s),yt(a),yt(d),yt(h),v&&ne(m),yt(_,v)}}}function IR(t,e,n){const r=ts.Now.plainDateISO();let i,s,o,a;function c(){return n(0,i=r.subtract({days:r.dayOfWeek-1})),i}Em(async()=>{c(),await js.handleIncomingRedirect({restorePreviousSession:!0});const h=js.getDefaultSession();a=window.location.href,s=localStorage.getItem("podUrl")||"http://localhost:3000",o=localStorage.getItem("webID")||"johndoe",h.info.isLoggedIn&&u()});async function l(){var h,m;s=(h=prompt("URL to identity provider/pod host:",s))!=null?h:s,o=(m=prompt("WebID: ",o))!=null?m:o,s.indexOf("//")<0&&(s="http://"+s),localStorage.setItem("podUrl",s),localStorage.setItem("webID",o),js.getDefaultSession().info.isLoggedIn||await js.login({oidcIssuer:s,clientName:"Project-IDLab",redirectUrl:a}),console.log("get data"),u()}async function u(){let h;console.log("ytest");let m="test2",_;console.log(`${s}/${o}/${m}`);try{h=await Ga(`${s}/${o}/${m}`,{fetch:js.fetch}),_=qi(h),console.log(_)}catch(b){console.log(b),b.response.status==404&&(console.log("Dataset not found, creating new one"),h=a0(),_=gr(Dn({name:"thingname"})).addStringNoLocale(yR.name,"Schema inrupt name").addUrl(wR.type,"https://schema.org/Thing").build())}console.log(_),h=fn(h,_),await c0(`${s}/${o}/${m}`,h,{fetch:js.fetch})}return[i,l,()=>n(0,i=i.subtract({weeks:1})),()=>n(0,i=i.add({weeks:1}))]}class qR extends ai{constructor(e){super(),ci(this,e,IR,xR,li,{})}}export{qR as default};
