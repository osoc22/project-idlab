import{S as ht,i as bt,s as _t,e as E,k as U,t as Z,c as D,a as V,d as w,m as M,h as K,b as k,I as x,g as C,J as b,n as rt,o as S,p as lt,q as y,j as vt,K as Yt,L as ee,E as nt,M as Vt,N as Nt,O as Ut,P as Mt,Q as it,R as Q,G as Pt,T as gt,U as pt,w as O,x as q,y as B,V as mt,B as L,v as Pe,W as Fe,l as zt,X as He,Y as Gt,Z as Xt,_ as Wt,$ as Ye,a0 as se,a1 as Ge}from"../chunks/index-6d6fbed6.js";import{b as We}from"../chunks/singletons-bd1dfc1a.js";import{g as je}from"../chunks/navigation-3ebc45bc.js";import{B as It,I as xt,T as Ae,P as ie,S as Ce,a as Oe,M as Je,C as Xe,b as Qt}from"../chunks/Button-6bd27824.js";import{u as Ze,t as Ft,m as Rt,a as jt,b as At,p as Ct,T as qe,U as ce,P as ue}from"../chunks/eventStore-24e1c1fe.js";import{u as Zt,t as Ke}from"../chunks/userStore-ad134bbc.js";import"../chunks/preload-helper-ed63bd61.js";import"../chunks/index-b2bed869.js";const Qe=l=>({}),fe=l=>({});function ti(l){let t;return{c(){t=Z(l[1])},l(i){t=K(i,l[1])},m(i,e){C(i,t,e)},p(i,e){e&2&&vt(t,i[1])},i:nt,o:nt,d(i){i&&w(t)}}}function ei(l){let t;const i=l[8].label,e=Vt(i,l,l[7],fe);return{c(){e&&e.c()},l(r){e&&e.l(r)},m(r,o){e&&e.m(r,o),t=!0},p(r,o){e&&e.p&&(!t||o&128)&&Nt(e,i,r,r[7],t?Mt(i,r[7],o,Qe):Ut(r[7]),fe)},i(r){t||(y(e,r),t=!0)},o(r){S(e,r),t=!1},d(r){e&&e.d(r)}}}function ii(l){let t,i,e,r;return{c(){t=E("input"),this.h()},l(o){t=D(o,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0}),this.h()},h(){k(t,"id",l[5]),k(t,"class","rounded-md p-2 w-full bg-slate-100 hover:ring transition-all"),k(t,"type","text"),k(t,"placeholder",i=l[2]||l[1]),x(t,"ring",l[3]),x(t,"ring-red-500",l[3])},m(o,n){C(o,t,n),it(t,l[0]),e||(r=Q(t,"input",l[13]),e=!0)},p(o,n){n&6&&i!==(i=o[2]||o[1])&&k(t,"placeholder",i),n&1&&t.value!==o[0]&&it(t,o[0]),n&8&&x(t,"ring",o[3]),n&8&&x(t,"ring-red-500",o[3])},d(o){o&&w(t),e=!1,r()}}}function ri(l){let t,i,e,r;return{c(){t=E("input"),this.h()},l(o){t=D(o,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0}),this.h()},h(){k(t,"id",l[5]),k(t,"class","rounded-md p-2 w-full bg-slate-100 hover:ring transition-all"),k(t,"type","time"),k(t,"placeholder",i=l[2]||l[1]),x(t,"ring",l[3]),x(t,"ring-red-500",l[3])},m(o,n){C(o,t,n),it(t,l[0]),e||(r=[Q(t,"input",l[12]),Q(t,"change",l[10])],e=!0)},p(o,n){n&6&&i!==(i=o[2]||o[1])&&k(t,"placeholder",i),n&1&&it(t,o[0]),n&8&&x(t,"ring",o[3]),n&8&&x(t,"ring-red-500",o[3])},d(o){o&&w(t),e=!1,Pt(r)}}}function li(l){let t,i,e,r;return{c(){t=E("input"),this.h()},l(o){t=D(o,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0}),this.h()},h(){k(t,"id",l[5]),k(t,"class","rounded-md p-2 w-full bg-slate-100 hover:ring transition-all"),k(t,"type","date"),k(t,"placeholder",i=l[2]||l[1]),x(t,"ring",l[3]),x(t,"ring-red-500",l[3])},m(o,n){C(o,t,n),it(t,l[0]),e||(r=[Q(t,"input",l[11]),Q(t,"change",l[9])],e=!0)},p(o,n){n&6&&i!==(i=o[2]||o[1])&&k(t,"placeholder",i),n&1&&it(t,o[0]),n&8&&x(t,"ring",o[3]),n&8&&x(t,"ring-red-500",o[3])},d(o){o&&w(t),e=!1,Pt(r)}}}function ni(l){let t,i,e,r,o,n,c,f,g;const s=[ei,ti],_=[];function a(d,m){return d[6].label?0:d[1]?1:-1}~(e=a(l))&&(r=_[e]=s[e](l));function h(d,m){return d[4]=="date"?li:d[4]=="time"?ri:ii}let p=h(l),u=p(l);return{c(){t=E("label"),i=E("div"),r&&r.c(),o=U(),u.c(),n=U(),c=E("div"),f=Z(l[3]),this.h()},l(d){t=D(d,"LABEL",{class:!0,for:!0});var m=V(t);i=D(m,"DIV",{class:!0});var v=V(i);r&&r.l(v),v.forEach(w),o=M(m),u.l(m),n=M(m),c=D(m,"DIV",{class:!0});var I=V(c);f=K(I,l[3]),I.forEach(w),m.forEach(w),this.h()},h(){k(i,"class","mx-1 mb-px text-sm capitalize"),k(c,"class","text-sm h-2 text-red-700 "),x(c,"opacity-0",!l[3]),k(t,"class","my-4 block"),k(t,"for",l[5])},m(d,m){C(d,t,m),b(t,i),~e&&_[e].m(i,null),b(t,o),u.m(t,null),b(t,n),b(t,c),b(c,f),g=!0},p(d,[m]){let v=e;e=a(d),e===v?~e&&_[e].p(d,m):(r&&(rt(),S(_[v],1,1,()=>{_[v]=null}),lt()),~e?(r=_[e],r?r.p(d,m):(r=_[e]=s[e](d),r.c()),y(r,1),r.m(i,null)):r=null),p===(p=h(d))&&u?u.p(d,m):(u.d(1),u=p(d),u&&(u.c(),u.m(t,n))),(!g||m&8)&&vt(f,d[3]),m&8&&x(c,"opacity-0",!d[3])},i(d){g||(y(r),g=!0)},o(d){S(r),g=!1},d(d){d&&w(t),~e&&_[e].d(),u.d()}}}function oi(l,t,i){let{$$slots:e={},$$scope:r}=t;const o=Yt(e);let{label:n=""}=t,{placeholder:c=""}=t,{error:f=""}=t,{value:g=""}=t,{type:s="text"}=t,_=Ze();function a(m){ee.call(this,l,m)}function h(m){ee.call(this,l,m)}function p(){g=this.value,i(0,g)}function u(){g=this.value,i(0,g)}function d(){g=this.value,i(0,g)}return l.$$set=m=>{"label"in m&&i(1,n=m.label),"placeholder"in m&&i(2,c=m.placeholder),"error"in m&&i(3,f=m.error),"value"in m&&i(0,g=m.value),"type"in m&&i(4,s=m.type),"$$scope"in m&&i(7,r=m.$$scope)},[g,n,c,f,s,_,o,r,e,a,h,p,u,d]}class St extends ht{constructor(t){super(),bt(this,t,oi,ni,_t,{label:1,placeholder:2,error:3,value:0,type:4})}}function ai(l){let t;return{c(){t=Z("Login with pod")},l(i){t=K(i,"Login with pod")},m(i,e){C(i,t,e)},d(i){i&&w(t)}}}function si(l){let t;return{c(){t=Z("Learn how to obtain your own pod")},l(i){t=K(i,"Learn how to obtain your own pod")},m(i,e){C(i,t,e)},d(i){i&&w(t)}}}function ci(l){let t,i,e,r,o,n,c,f,g,s,_,a,h,p,u,d;function m(W){l[5](W)}let v={label:"pod url",error:l[1]};l[0]!==void 0&&(v.value=l[0]),o=new St({props:v}),gt.push(()=>pt(o,"value",m));function I(W){l[6](W)}let N={label:"Storage location"};return l[2]!==void 0&&(N.value=l[2]),f=new St({props:N}),gt.push(()=>pt(f,"value",I)),_=new It({props:{focused:!0,$$slots:{default:[ai]},$$scope:{ctx:l}}}),_.$on("click",l[3]),u=new It({props:{$$slots:{default:[si]},$$scope:{ctx:l}}}),u.$on("click",l[4]),{c(){t=E("div"),i=E("h1"),e=Z("Welcome to the pod"),r=U(),O(o.$$.fragment),c=U(),O(f.$$.fragment),s=U(),O(_.$$.fragment),a=U(),h=E("br"),p=U(),O(u.$$.fragment),this.h()},l(W){t=D(W,"DIV",{class:!0});var z=V(t);i=D(z,"H1",{class:!0});var H=V(i);e=K(H,"Welcome to the pod"),H.forEach(w),r=M(z),q(o.$$.fragment,z),c=M(z),q(f.$$.fragment,z),s=M(z),q(_.$$.fragment,z),a=M(z),h=D(z,"BR",{}),p=M(z),q(u.$$.fragment,z),z.forEach(w),this.h()},h(){k(i,"class","text-2xl"),k(t,"class","max-w-lg my-16 mx-auto")},m(W,z){C(W,t,z),b(t,i),b(i,e),b(t,r),B(o,t,null),b(t,c),B(f,t,null),b(t,s),B(_,t,null),b(t,a),b(t,h),b(t,p),B(u,t,null),d=!0},p(W,[z]){const H={};z&2&&(H.error=W[1]),!n&&z&1&&(n=!0,H.value=W[0],mt(()=>n=!1)),o.$set(H);const F={};!g&&z&4&&(g=!0,F.value=W[2],mt(()=>g=!1)),f.$set(F);const R={};z&256&&(R.$$scope={dirty:z,ctx:W}),_.$set(R);const st={};z&256&&(st.$$scope={dirty:z,ctx:W}),u.$set(st)},i(W){d||(y(o.$$.fragment,W),y(f.$$.fragment,W),y(_.$$.fragment,W),y(u.$$.fragment,W),d=!0)},o(W){S(o.$$.fragment,W),S(f.$$.fragment,W),S(_.$$.fragment,W),S(u.$$.fragment,W),d=!1},d(W){W&&w(t),L(o),L(f),L(_),L(u)}}}function ui(l,t,i){let e,r="http://localhost:3000",o="",n="http://localhost:3000/johndoe";async function c(){try{await Zt.signIn(r,n,e)}catch(_){i(1,o=Ke(_).message)}}function f(){je("https://osoc22.github.io/project-idlab/")}Pe(async()=>{e=window.location.href,i(0,r=localStorage.getItem("podUrl")||"http://localhost:3000"),i(2,n=localStorage.getItem("storageLocation")||"http://localhost:3000/johndoe")});function g(_){r=_,i(0,r)}function s(_){n=_,i(2,n)}return[r,o,n,c,f,g,s]}class fi extends ht{constructor(t){super(),bt(this,t,ui,ci,_t,{})}}function di(l){let t,i,e,r,o,n,c,f,g,s,_;return{c(){t=E("button"),i=E("div"),e=E("div"),r=E("span"),o=Z("SU"),n=U(),c=E("div"),f=E("p"),g=Z("Welcome, Solid User"),this.h()},l(a){t=D(a,"BUTTON",{class:!0});var h=V(t);i=D(h,"DIV",{});var p=V(i);e=D(p,"DIV",{class:!0});var u=V(e);r=D(u,"SPAN",{class:!0});var d=V(r);o=K(d,"SU"),d.forEach(w),u.forEach(w),p.forEach(w),n=M(h),c=D(h,"DIV",{class:!0});var m=V(c);f=D(m,"P",{class:!0});var v=V(f);g=K(v,"Welcome, Solid User"),v.forEach(w),m.forEach(w),h.forEach(w),this.h()},h(){k(r,"class","leading-none p-2 text-sm"),k(e,"class","rounded-full bg-green-700 text-green-100 h-8 w-8 flex items-center justify-center cursor-pointer"),k(f,"class","text-sm font-medium text-gray-700 group-hover:text-gray-900"),k(c,"class","ml-3"),k(t,"class","flex items-center hover:bg-gray-200 rounded-xl px-2 py-2 transition-colors cursor-pointer")},m(a,h){C(a,t,h),b(t,i),b(i,e),b(e,r),b(r,o),b(t,n),b(t,c),b(c,f),b(f,g),s||(_=Q(t,"click",l[0]),s=!0)},p:nt,i:nt,o:nt,d(a){a&&w(t),s=!1,_()}}}function gi(l,t,i){let{firstname:e}=t,{lastname:r=""}=t;async function o(){await Zt.signOut()}return l.$$set=n=>{"firstname"in n&&i(1,e=n.firstname),"lastname"in n&&i(2,r=n.lastname)},l.$$.update=()=>{l.$$.dirty&6&&(r!=null&&r.split(" ")||e.split(" "))},[o,e,r]}class pi extends ht{constructor(t){super(),bt(this,t,gi,di,_t,{firstname:1,lastname:2})}}function de(l){let t,i,e,r,o;const n=l[3].default,c=Vt(n,l,l[2],null);return{c(){t=E("div"),i=E("div"),c&&c.c(),this.h()},l(f){t=D(f,"DIV",{class:!0});var g=V(t);i=D(g,"DIV",{class:!0});var s=V(i);c&&c.l(s),s.forEach(w),g.forEach(w),this.h()},h(){k(i,"class","fixed max-h-[90vh] overflow-auto top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-3xl bg-white z-20 p-4 rounded-lg"),k(t,"class","fixed top-0 left-0 w-full h-[100%] bg-slate-900/30 z-10 cursor-pointer")},m(f,g){C(f,t,g),b(t,i),c&&c.m(i,null),e=!0,r||(o=[Q(i,"click",Fe(l[4])),Q(t,"click",l[1])],r=!0)},p(f,g){c&&c.p&&(!e||g&4)&&Nt(c,n,f,f[2],e?Mt(n,f[2],g,null):Ut(f[2]),null)},i(f){e||(y(c,f),e=!0)},o(f){S(c,f),e=!1},d(f){f&&w(t),c&&c.d(f),r=!1,Pt(o)}}}function mi(l){let t,i,e=l[0]&&de(l);return{c(){e&&e.c(),t=zt()},l(r){e&&e.l(r),t=zt()},m(r,o){e&&e.m(r,o),C(r,t,o),i=!0},p(r,[o]){r[0]?e?(e.p(r,o),o&1&&y(e,1)):(e=de(r),e.c(),y(e,1),e.m(t.parentNode,t)):e&&(rt(),S(e,1,1,()=>{e=null}),lt())},i(r){i||(y(e),i=!0)},o(r){S(e),i=!1},d(r){e&&e.d(r),r&&w(t)}}}function hi(l,t,i){let{$$slots:e={},$$scope:r}=t,{visible:o=!1}=t;const n=He();function c(){n("close"),i(0,o=!1)}function f(g){ee.call(this,l,g)}return l.$$set=g=>{"visible"in g&&i(0,o=g.visible),"$$scope"in g&&i(2,r=g.$$scope)},[o,c,r,e,f]}class ge extends ht{constructor(t){super(),bt(this,t,hi,mi,_t,{visible:0})}}function pe(l,t,i){const e=l.slice();return e[9]=t[i],e}const bi=l=>({}),me=l=>({});function _i(l){let t;return{c(){t=Z(l[2])},l(i){t=K(i,l[2])},m(i,e){C(i,t,e)},p(i,e){e&4&&vt(t,i[2])},i:nt,o:nt,d(i){i&&w(t)}}}function vi(l){let t;const i=l[7].label,e=Vt(i,l,l[6],me);return{c(){e&&e.c()},l(r){e&&e.l(r)},m(r,o){e&&e.m(r,o),t=!0},p(r,o){e&&e.p&&(!t||o&64)&&Nt(e,i,r,r[6],t?Mt(i,r[6],o,bi):Ut(r[6]),me)},i(r){t||(y(e,r),t=!0)},o(r){S(e,r),t=!1},d(r){e&&e.d(r)}}}function he(l){let t,i;return t=new xt({props:{src:l[9].icon,size:"16"}}),{c(){O(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,r){B(t,e,r),i=!0},p(e,r){const o={};r&2&&(o.src=e[9].icon),t.$set(o)},i(e){i||(y(t.$$.fragment,e),i=!0)},o(e){S(t.$$.fragment,e),i=!1},d(e){L(t,e)}}}function be(l){let t,i,e,r=l[9].title+"",o,n,c,f,g,s=l[9].icon&&he(l);function _(){return l[8](l[9])}return{c(){t=E("div"),s&&s.c(),i=U(),e=E("div"),o=Z(r),n=U(),this.h()},l(a){t=D(a,"DIV",{class:!0});var h=V(t);s&&s.l(h),i=M(h),e=D(h,"DIV",{});var p=V(e);o=K(p,r),p.forEach(w),n=M(h),h.forEach(w),this.h()},h(){x(e,"text-sm",l[9].icon),k(t,"class","px-3 py-2 rounded bg-blue-50 text-blue-700 flex flex-col items-center justify-center svelte-1mwawgl"),x(t,"active",l[0].has(l[9].title)),x(t,"grow",l[3])},m(a,h){C(a,t,h),s&&s.m(t,null),b(t,i),b(t,e),b(e,o),b(t,n),c=!0,f||(g=Q(t,"click",_),f=!0)},p(a,h){l=a,l[9].icon?s?(s.p(l,h),h&2&&y(s,1)):(s=he(l),s.c(),y(s,1),s.m(t,i)):s&&(rt(),S(s,1,1,()=>{s=null}),lt()),(!c||h&2)&&r!==(r=l[9].title+"")&&vt(o,r),h&2&&x(e,"text-sm",l[9].icon),h&3&&x(t,"active",l[0].has(l[9].title)),h&8&&x(t,"grow",l[3])},i(a){c||(y(s),c=!0)},o(a){S(s),c=!1},d(a){a&&w(t),s&&s.d(),f=!1,g()}}}function wi(l){let t,i,e,r,o,n,c;const f=[vi,_i],g=[];function s(p,u){return p[5].label?0:p[2]?1:-1}~(e=s(l))&&(r=g[e]=f[e](l));let _=l[1],a=[];for(let p=0;p<_.length;p+=1)a[p]=be(pe(l,_,p));const h=p=>S(a[p],1,1,()=>{a[p]=null});return{c(){t=E("div"),i=E("div"),r&&r.c(),o=U(),n=E("div");for(let p=0;p<a.length;p+=1)a[p].c();this.h()},l(p){t=D(p,"DIV",{class:!0});var u=V(t);i=D(u,"DIV",{class:!0});var d=V(i);r&&r.l(d),d.forEach(w),o=M(u),n=D(u,"DIV",{class:!0});var m=V(n);for(let v=0;v<a.length;v+=1)a[v].l(m);m.forEach(w),u.forEach(w),this.h()},h(){k(i,"class","mx-1 mb-px text-sm"),k(n,"class","flex gap-2"),k(t,"class","my-4 block box-border")},m(p,u){C(p,t,u),b(t,i),~e&&g[e].m(i,null),b(t,o),b(t,n);for(let d=0;d<a.length;d+=1)a[d].m(n,null);c=!0},p(p,[u]){let d=e;if(e=s(p),e===d?~e&&g[e].p(p,u):(r&&(rt(),S(g[d],1,1,()=>{g[d]=null}),lt()),~e?(r=g[e],r?r.p(p,u):(r=g[e]=f[e](p),r.c()),y(r,1),r.m(i,null)):r=null),u&27){_=p[1];let m;for(m=0;m<_.length;m+=1){const v=pe(p,_,m);a[m]?(a[m].p(v,u),y(a[m],1)):(a[m]=be(v),a[m].c(),y(a[m],1),a[m].m(n,null))}for(rt(),m=_.length;m<a.length;m+=1)h(m);lt()}},i(p){if(!c){y(r);for(let u=0;u<_.length;u+=1)y(a[u]);c=!0}},o(p){S(r),a=a.filter(Boolean);for(let u=0;u<a.length;u+=1)S(a[u]);c=!1},d(p){p&&w(t),~e&&g[e].d(),Gt(a,p)}}}function yi(l,t,i){let{$$slots:e={},$$scope:r}=t;const o=Yt(e);let{value:n=new Set([])}=t,{options:c=[]}=t,{label:f=""}=t,{grow:g=!1}=t;function s(a){n.has(a.title)?(n.delete(a.title),i(0,n=new Set(n))):(n.add(a.title),i(0,n=new Set(n)))}const _=a=>s(a);return l.$$set=a=>{"value"in a&&i(0,n=a.value),"options"in a&&i(1,c=a.options),"label"in a&&i(2,f=a.label),"grow"in a&&i(3,g=a.grow),"$$scope"in a&&i(6,r=a.$$scope)},[n,c,f,g,s,o,r,e,_]}class Be extends ht{constructor(t){super(),bt(this,t,yi,wi,_t,{value:0,options:1,label:2,grow:3})}}function _e(l,t,i){const e=l.slice();return e[9]=t[i],e}const ki=l=>({}),ve=l=>({});function $i(l){let t;return{c(){t=Z(l[2])},l(i){t=K(i,l[2])},m(i,e){C(i,t,e)},p(i,e){e&4&&vt(t,i[2])},i:nt,o:nt,d(i){i&&w(t)}}}function Si(l){let t;const i=l[7].label,e=Vt(i,l,l[6],ve);return{c(){e&&e.c()},l(r){e&&e.l(r)},m(r,o){e&&e.m(r,o),t=!0},p(r,o){e&&e.p&&(!t||o&64)&&Nt(e,i,r,r[6],t?Mt(i,r[6],o,ki):Ut(r[6]),ve)},i(r){t||(y(e,r),t=!0)},o(r){S(e,r),t=!1},d(r){e&&e.d(r)}}}function we(l){let t,i;return t=new xt({props:{src:l[9].icon,size:"16"}}),{c(){O(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,r){B(t,e,r),i=!0},p(e,r){const o={};r&2&&(o.src=e[9].icon),t.$set(o)},i(e){i||(y(t.$$.fragment,e),i=!0)},o(e){S(t.$$.fragment,e),i=!1},d(e){L(t,e)}}}function ye(l){let t,i,e,r=l[9].title+"",o,n,c,f,g,s=l[9].icon&&we(l);function _(){return l[8](l[9])}return{c(){t=E("div"),s&&s.c(),i=U(),e=E("div"),o=Z(r),n=U(),this.h()},l(a){t=D(a,"DIV",{class:!0});var h=V(t);s&&s.l(h),i=M(h),e=D(h,"DIV",{});var p=V(e);o=K(p,r),p.forEach(w),n=M(h),h.forEach(w),this.h()},h(){x(e,"text-sm",l[9].icon),k(t,"class","px-3 py-2 rounded bg-blue-50 text-blue-700 flex flex-col items-center justify-center svelte-1mwawgl"),x(t,"active",l[0]==l[9].title),x(t,"grow",l[3])},m(a,h){C(a,t,h),s&&s.m(t,null),b(t,i),b(t,e),b(e,o),b(t,n),c=!0,f||(g=Q(t,"click",_),f=!0)},p(a,h){l=a,l[9].icon?s?(s.p(l,h),h&2&&y(s,1)):(s=we(l),s.c(),y(s,1),s.m(t,i)):s&&(rt(),S(s,1,1,()=>{s=null}),lt()),(!c||h&2)&&r!==(r=l[9].title+"")&&vt(o,r),h&2&&x(e,"text-sm",l[9].icon),h&3&&x(t,"active",l[0]==l[9].title),h&8&&x(t,"grow",l[3])},i(a){c||(y(s),c=!0)},o(a){S(s),c=!1},d(a){a&&w(t),s&&s.d(),f=!1,g()}}}function Ii(l){let t,i,e,r,o,n,c;const f=[Si,$i],g=[];function s(p,u){return p[5].label?0:p[2]?1:-1}~(e=s(l))&&(r=g[e]=f[e](l));let _=l[1],a=[];for(let p=0;p<_.length;p+=1)a[p]=ye(_e(l,_,p));const h=p=>S(a[p],1,1,()=>{a[p]=null});return{c(){t=E("div"),i=E("div"),r&&r.c(),o=U(),n=E("div");for(let p=0;p<a.length;p+=1)a[p].c();this.h()},l(p){t=D(p,"DIV",{class:!0});var u=V(t);i=D(u,"DIV",{class:!0});var d=V(i);r&&r.l(d),d.forEach(w),o=M(u),n=D(u,"DIV",{class:!0});var m=V(n);for(let v=0;v<a.length;v+=1)a[v].l(m);m.forEach(w),u.forEach(w),this.h()},h(){k(i,"class","mx-1 mb-px text-sm"),k(n,"class","flex gap-2"),k(t,"class","my-4 block box-border")},m(p,u){C(p,t,u),b(t,i),~e&&g[e].m(i,null),b(t,o),b(t,n);for(let d=0;d<a.length;d+=1)a[d].m(n,null);c=!0},p(p,[u]){let d=e;if(e=s(p),e===d?~e&&g[e].p(p,u):(r&&(rt(),S(g[d],1,1,()=>{g[d]=null}),lt()),~e?(r=g[e],r?r.p(p,u):(r=g[e]=f[e](p),r.c()),y(r,1),r.m(i,null)):r=null),u&27){_=p[1];let m;for(m=0;m<_.length;m+=1){const v=_e(p,_,m);a[m]?(a[m].p(v,u),y(a[m],1)):(a[m]=ye(v),a[m].c(),y(a[m],1),a[m].m(n,null))}for(rt(),m=_.length;m<a.length;m+=1)h(m);lt()}},i(p){if(!c){y(r);for(let u=0;u<_.length;u+=1)y(a[u]);c=!0}},o(p){S(r),a=a.filter(Boolean);for(let u=0;u<a.length;u+=1)S(a[u]);c=!1},d(p){p&&w(t),~e&&g[e].d(),Gt(a,p)}}}function Ei(l,t,i){let{$$slots:e={},$$scope:r}=t;const o=Yt(e);let{options:n=[]}=t,{value:c=n[0].title}=t,{label:f=""}=t,{grow:g=!1}=t;const s=a=>i(0,c=a.title),_=a=>s(a);return l.$$set=a=>{"options"in a&&i(1,n=a.options),"value"in a&&i(0,c=a.value),"label"in a&&i(2,f=a.label),"grow"in a&&i(3,g=a.grow),"$$scope"in a&&i(6,r=a.$$scope)},[c,n,f,g,s,o,r,e,_]}class Le extends ht{constructor(t){super(),bt(this,t,Ei,Ii,_t,{options:1,value:0,label:2,grow:3})}}function ke(l,t,i){const e=l.slice();return e[15]=t[i],e[16]=t,e[17]=i,e}const Di=l=>({}),$e=l=>({});function Ti(l){let t;return{c(){t=Z(l[1])},l(i){t=K(i,l[1])},m(i,e){C(i,t,e)},p(i,e){e&2&&vt(t,i[1])},i:nt,o:nt,d(i){i&&w(t)}}}function zi(l){let t;const i=l[9].label,e=Vt(i,l,l[8],$e);return{c(){e&&e.c()},l(r){e&&e.l(r)},m(r,o){e&&e.m(r,o),t=!0},p(r,o){e&&e.p&&(!t||o&256)&&Nt(e,i,r,r[8],t?Mt(i,r[8],o,Di):Ut(r[8]),$e)},i(r){t||(y(e,r),t=!0)},o(r){S(e,r),t=!1},d(r){e&&e.d(r)}}}function Se(l){let t,i,e,r,o,n,c;function f(){l[10].call(i,l[17])}function g(){return l[11](l[17])}return r=new It({props:{destructive:!0,icon:Ae}}),r.$on("click",g),{c(){t=E("div"),i=E("input"),e=U(),O(r.$$.fragment),this.h()},l(s){t=D(s,"DIV",{class:!0});var _=V(t);i=D(_,"INPUT",{class:!0,type:!0}),e=M(_),q(r.$$.fragment,_),_.forEach(w),this.h()},h(){k(i,"class","w-full"),k(i,"type","date"),k(t,"class","flex gap-2")},m(s,_){C(s,t,_),b(t,i),it(i,l[0][l[17]]),b(t,e),B(r,t,null),o=!0,n||(c=Q(i,"input",f),n=!0)},p(s,_){l=s,_&1&&it(i,l[0][l[17]])},i(s){o||(y(r.$$.fragment,s),o=!0)},o(s){S(r.$$.fragment,s),o=!1},d(s){s&&w(t),L(r),n=!1,c()}}}function Ie(l){let t,i,e,r,o,n,c;return r=new It({props:{icon:ie}}),r.$on("click",l[4]),{c(){t=E("div"),i=E("input"),e=U(),O(r.$$.fragment),this.h()},l(f){t=D(f,"DIV",{class:!0});var g=V(t);i=D(g,"INPUT",{class:!0,type:!0}),e=M(g),q(r.$$.fragment,g),g.forEach(w),this.h()},h(){k(i,"class","w-full"),k(i,"type","date"),k(t,"class","newDate flex gap-2")},m(f,g){C(f,t,g),b(t,i),it(i,l[3]),b(t,e),B(r,t,null),o=!0,n||(c=Q(i,"input",l[12]),n=!0)},p(f,g){g&8&&it(i,f[3])},i(f){o||(y(r.$$.fragment,f),o=!0)},o(f){S(r.$$.fragment,f),o=!1},d(f){f&&w(t),L(r),n=!1,c()}}}function Vi(l){let t,i,e,r,o,n,c,f;const g=[zi,Ti],s=[];function _(d,m){return d[6].label?0:d[1]?1:-1}~(e=_(l))&&(r=s[e]=g[e](l));let a=l[0],h=[];for(let d=0;d<a.length;d+=1)h[d]=Se(ke(l,a,d));const p=d=>S(h[d],1,1,()=>{h[d]=null});let u=(l[2]==-1||l[0].length<l[2])&&Ie(l);return{c(){t=E("div"),i=E("div"),r&&r.c(),o=U(),n=E("div");for(let d=0;d<h.length;d+=1)h[d].c();c=U(),u&&u.c(),this.h()},l(d){t=D(d,"DIV",{class:!0});var m=V(t);i=D(m,"DIV",{class:!0});var v=V(i);r&&r.l(v),v.forEach(w),o=M(m),n=D(m,"DIV",{class:!0});var I=V(n);for(let N=0;N<h.length;N+=1)h[N].l(I);c=M(I),u&&u.l(I),I.forEach(w),m.forEach(w),this.h()},h(){k(i,"class","mx-1 mb-px text-sm"),k(n,"class","dates flex flex-col gap-4"),k(t,"class","pb-3")},m(d,m){C(d,t,m),b(t,i),~e&&s[e].m(i,null),b(t,o),b(t,n);for(let v=0;v<h.length;v+=1)h[v].m(n,null);b(n,c),u&&u.m(n,null),f=!0},p(d,[m]){let v=e;if(e=_(d),e===v?~e&&s[e].p(d,m):(r&&(rt(),S(s[v],1,1,()=>{s[v]=null}),lt()),~e?(r=s[e],r?r.p(d,m):(r=s[e]=g[e](d),r.c()),y(r,1),r.m(i,null)):r=null),m&33){a=d[0];let I;for(I=0;I<a.length;I+=1){const N=ke(d,a,I);h[I]?(h[I].p(N,m),y(h[I],1)):(h[I]=Se(N),h[I].c(),y(h[I],1),h[I].m(n,c))}for(rt(),I=a.length;I<h.length;I+=1)p(I);lt()}d[2]==-1||d[0].length<d[2]?u?(u.p(d,m),m&5&&y(u,1)):(u=Ie(d),u.c(),y(u,1),u.m(n,null)):u&&(rt(),S(u,1,1,()=>{u=null}),lt())},i(d){if(!f){y(r);for(let m=0;m<a.length;m+=1)y(h[m]);y(u),f=!0}},o(d){S(r),h=h.filter(Boolean);for(let m=0;m<h.length;m+=1)S(h[m]);S(u),f=!1},d(d){d&&w(t),~e&&s[e].d(),Gt(h,d),u&&u.d()}}}function Ni(l,t,i){let{$$slots:e={},$$scope:r}=t;const o=Yt(e);let{dates:n=[]}=t,{dateStrings:c=[]}=t,{label:f=""}=t,{maxDates:g=5}=t,s="",_="";function a(){!s||(i(0,c=[...c,s]),c.sort(),i(3,s=""))}function h(v){i(0,c=[...c.slice(0,v),...c.slice(v+1)])}function p(){c.toString()!=_&&(i(0,c=c.filter(v=>v!="")),i(7,n=c.map(v=>Ft.PlainDate.from(v))),_=c.toString())}function u(v){c[v]=this.value,i(0,c)}const d=v=>h(v);function m(){s=this.value,i(3,s)}return l.$$set=v=>{"dates"in v&&i(7,n=v.dates),"dateStrings"in v&&i(0,c=v.dateStrings),"label"in v&&i(1,f=v.label),"maxDates"in v&&i(2,g=v.maxDates),"$$scope"in v&&i(8,r=v.$$scope)},l.$$.update=()=>{l.$$.dirty&1&&c&&p()},[c,f,g,s,a,h,o,n,r,e,u,d,m]}class Ui extends ht{constructor(t){super(),bt(this,t,Ni,Vi,_t,{dates:7,dateStrings:0,label:1,maxDates:2})}}function Ee(l,t,i){const e=l.slice();return e[17]=t[i],e[18]=t,e[19]=i,e}const Mi=l=>({}),De=l=>({});function Pi(l){let t;return{c(){t=Z(l[1])},l(i){t=K(i,l[1])},m(i,e){C(i,t,e)},p(i,e){e&2&&vt(t,i[1])},i:nt,o:nt,d(i){i&&w(t)}}}function Wi(l){let t;const i=l[9].label,e=Vt(i,l,l[8],De);return{c(){e&&e.c()},l(r){e&&e.l(r)},m(r,o){e&&e.m(r,o),t=!0},p(r,o){e&&e.p&&(!t||o&256)&&Nt(e,i,r,r[8],t?Mt(i,r[8],o,Mi):Ut(r[8]),De)},i(r){t||(y(e,r),t=!0)},o(r){S(e,r),t=!1},d(r){e&&e.d(r)}}}function Te(l){let t,i,e,r,o,n,c,f,g;function s(){l[10].call(i,l[19])}function _(){l[11].call(r,l[19])}function a(){return l[12](l[19])}return n=new It({props:{destructive:!0,icon:Ae}}),n.$on("click",a),{c(){t=E("div"),i=E("input"),e=U(),r=E("input"),o=U(),O(n.$$.fragment),this.h()},l(h){t=D(h,"DIV",{class:!0});var p=V(t);i=D(p,"INPUT",{class:!0,type:!0}),e=M(p),r=D(p,"INPUT",{class:!0,type:!0}),o=M(p),q(n.$$.fragment,p),p.forEach(w),this.h()},h(){k(i,"class","w-full"),k(i,"type","time"),k(r,"class","w-full"),k(r,"type","time"),k(t,"class","flex gap-2")},m(h,p){C(h,t,p),b(t,i),it(i,l[0][l[19]].from),b(t,e),b(t,r),it(r,l[0][l[19]].to),b(t,o),B(n,t,null),c=!0,f||(g=[Q(i,"input",s),Q(r,"input",_)],f=!0)},p(h,p){l=h,p&1&&it(i,l[0][l[19]].from),p&1&&it(r,l[0][l[19]].to)},i(h){c||(y(n.$$.fragment,h),c=!0)},o(h){S(n.$$.fragment,h),c=!1},d(h){h&&w(t),L(n),f=!1,Pt(g)}}}function ze(l){let t,i,e,r,o,n,c,f,g;return n=new It({props:{icon:ie}}),n.$on("click",l[4]),{c(){t=E("div"),i=E("input"),e=U(),r=E("input"),o=U(),O(n.$$.fragment),this.h()},l(s){t=D(s,"DIV",{class:!0});var _=V(t);i=D(_,"INPUT",{class:!0,type:!0}),e=M(_),r=D(_,"INPUT",{class:!0,type:!0}),o=M(_),q(n.$$.fragment,_),_.forEach(w),this.h()},h(){k(i,"class","w-full"),k(i,"type","time"),k(r,"class","w-full"),k(r,"type","time"),k(t,"class","newTime flex gap-2")},m(s,_){C(s,t,_),b(t,i),it(i,l[3].from),b(t,e),b(t,r),it(r,l[3].to),b(t,o),B(n,t,null),c=!0,f||(g=[Q(i,"input",l[13]),Q(r,"input",l[14])],f=!0)},p(s,_){_&8&&it(i,s[3].from),_&8&&it(r,s[3].to)},i(s){c||(y(n.$$.fragment,s),c=!0)},o(s){S(n.$$.fragment,s),c=!1},d(s){s&&w(t),L(n),f=!1,Pt(g)}}}function ji(l){let t,i,e,r,o,n,c,f;const g=[Wi,Pi],s=[];function _(d,m){return d[6].label?0:d[1]?1:-1}~(e=_(l))&&(r=s[e]=g[e](l));let a=l[0],h=[];for(let d=0;d<a.length;d+=1)h[d]=Te(Ee(l,a,d));const p=d=>S(h[d],1,1,()=>{h[d]=null});let u=(l[2]==-1||l[0].length<l[2])&&ze(l);return{c(){t=E("div"),i=E("div"),r&&r.c(),o=U(),n=E("div");for(let d=0;d<h.length;d+=1)h[d].c();c=U(),u&&u.c(),this.h()},l(d){t=D(d,"DIV",{});var m=V(t);i=D(m,"DIV",{class:!0});var v=V(i);r&&r.l(v),v.forEach(w),o=M(m),n=D(m,"DIV",{class:!0});var I=V(n);for(let N=0;N<h.length;N+=1)h[N].l(I);c=M(I),u&&u.l(I),I.forEach(w),m.forEach(w),this.h()},h(){k(i,"class","mx-1 mb-px text-sm"),k(n,"class","times flex flex-col gap-4")},m(d,m){C(d,t,m),b(t,i),~e&&s[e].m(i,null),b(t,o),b(t,n);for(let v=0;v<h.length;v+=1)h[v].m(n,null);b(n,c),u&&u.m(n,null),f=!0},p(d,[m]){let v=e;if(e=_(d),e===v?~e&&s[e].p(d,m):(r&&(rt(),S(s[v],1,1,()=>{s[v]=null}),lt()),~e?(r=s[e],r?r.p(d,m):(r=s[e]=g[e](d),r.c()),y(r,1),r.m(i,null)):r=null),m&33){a=d[0];let I;for(I=0;I<a.length;I+=1){const N=Ee(d,a,I);h[I]?(h[I].p(N,m),y(h[I],1)):(h[I]=Te(N),h[I].c(),y(h[I],1),h[I].m(n,c))}for(rt(),I=a.length;I<h.length;I+=1)p(I);lt()}d[2]==-1||d[0].length<d[2]?u?(u.p(d,m),m&5&&y(u,1)):(u=ze(d),u.c(),y(u,1),u.m(n,null)):u&&(rt(),S(u,1,1,()=>{u=null}),lt())},i(d){if(!f){y(r);for(let m=0;m<a.length;m+=1)y(h[m]);y(u),f=!0}},o(d){S(r),h=h.filter(Boolean);for(let m=0;m<h.length;m+=1)S(h[m]);S(u),f=!1},d(d){d&&w(t),~e&&s[e].d(),Gt(h,d),u&&u.d()}}}function Ai(l,t,i){let{$$slots:e={},$$scope:r}=t;const o=Yt(e);let{times:n=[]}=t,{timeStrings:c=[]}=t,{label:f="init"}=t,{maxTimes:g=5}=t,s={from:"",to:""},_="";function a(){!s.from||!s.to||(i(0,c=[s,...c]),i(3,s={from:"",to:""}))}function h(N){i(0,c=[...c.slice(0,N),...c.slice(N+1)])}function p(){var W;const N=(W=JSON.stringify(c))!=null?W:"";N!=_&&(i(0,c=c.filter(z=>z.from!=""||z.to!="")),_=N,i(7,n=c.map(z=>{const H=Ft.PlainTime.from(z.from),F=Ft.PlainTime.from(z.to),R={from:F,to:H};return H.until(F).hours<0||H.until(F).hours==0&&H.until(F).minutes<0?R:{from:H,to:F}})))}function u(N){c[N].from=this.value,i(0,c)}function d(N){c[N].to=this.value,i(0,c)}const m=N=>h(N);function v(){s.from=this.value,i(3,s)}function I(){s.to=this.value,i(3,s)}return l.$$set=N=>{"times"in N&&i(7,n=N.times),"timeStrings"in N&&i(0,c=N.timeStrings),"label"in N&&i(1,f=N.label),"maxTimes"in N&&i(2,g=N.maxTimes),"$$scope"in N&&i(8,r=N.$$scope)},l.$$.update=()=>{l.$$.dirty&1&&c&&p()},[c,f,g,s,a,h,o,n,r,e,u,d,m,v,I]}class Ci extends ht{constructor(t){super(),bt(this,t,Ai,ji,_t,{times:7,timeStrings:0,label:1,maxTimes:2})}}function Ve(l){let t,i,e=l[0].editMode?"Edit":"Create New",r,o,n,c,f,g,s,_,a,h,p,u,d,m,v,I,N,W,z,H,F,R,st,wt,Y,P,kt,tt,G,T,j;function ut($){l[6]($)}let dt={type:"text",label:"title"};l[0].activity.title!==void 0&&(dt.value=l[0].activity.title),g=new St({props:dt}),gt.push(()=>pt(g,"value",ut));function ct($){l[7]($)}let J={dateStrings:l[2],label:"Enter possible dates"};l[0].activity.dates!==void 0&&(J.dates=l[0].activity.dates),a=new Ui({props:J}),gt.push(()=>pt(a,"dates",ct));function $t($){l[8]($)}let Et={timeStrings:l[1],label:"Enter possible times"};l[0].activity.times!==void 0&&(Et.times=l[0].activity.times),u=new Ci({props:Et}),gt.push(()=>pt(u,"times",$t));function Dt($){l[9]($)}let yt={type:"text",placeholder:"Where?",label:"Location"};l[0].activity.location!==void 0&&(yt.value=l[0].activity.location),I=new St({props:yt}),gt.push(()=>pt(I,"value",Dt));function Tt($){l[10]($)}let Ot={grow:!0,label:"Get notified if there will be:",options:[{title:"Sun",icon:Ce},{title:"Cloudy"},{title:"Partly-cloudy"},{title:"Snow"}]};l[0].activity.notifyOnWeather!==void 0&&(Ot.value=l[0].activity.notifyOnWeather),z=new Be({props:Ot}),gt.push(()=>pt(z,"value",Tt));function Jt($){l[11]($)}let qt={grow:!0,label:"Activity type:",options:[{title:"Work",icon:Oe},{title:"Food"},{title:"Fun"},{title:"Workout"},{title:"Relax"}]};return l[0].activity.actitityType!==void 0&&(qt.value=l[0].activity.actitityType),R=new Le({props:qt}),gt.push(()=>pt(R,"value",Jt)),P=new It({props:{destructive:!0,$$slots:{default:[Oi]},$$scope:{ctx:l}}}),P.$on("click",l[5]),{c(){t=E("form"),i=E("h3"),r=Z(e),o=Z(" activity"),n=U(),c=E("div"),f=E("div"),O(g.$$.fragment),_=U(),O(a.$$.fragment),p=U(),O(u.$$.fragment),m=U(),v=E("div"),O(I.$$.fragment),W=U(),O(z.$$.fragment),F=U(),O(R.$$.fragment),wt=U(),Y=E("div"),O(P.$$.fragment),kt=U(),tt=E("input"),this.h()},l($){t=D($,"FORM",{});var A=V(t);i=D(A,"H3",{class:!0});var ft=V(i);r=K(ft,e),o=K(ft," activity"),ft.forEach(w),n=M(A),c=D(A,"DIV",{class:!0});var ot=V(c);f=D(ot,"DIV",{class:!0});var X=V(f);q(g.$$.fragment,X),_=M(X),q(a.$$.fragment,X),p=M(X),q(u.$$.fragment,X),X.forEach(w),m=M(ot),v=D(ot,"DIV",{class:!0});var et=V(v);q(I.$$.fragment,et),W=M(et),q(z.$$.fragment,et),F=M(et),q(R.$$.fragment,et),et.forEach(w),ot.forEach(w),wt=M(A),Y=D(A,"DIV",{class:!0});var at=V(Y);q(P.$$.fragment,at),kt=M(at),tt=D(at,"INPUT",{class:!0,type:!0}),at.forEach(w),A.forEach(w),this.h()},h(){k(i,"class","text-xl border-b border-b-black/50 border-solid mb-4 pb-2 capitalize"),k(f,"class","left grow"),k(v,"class","right grow"),k(c,"class","flex flex-col lg:flex-row gap-4 w-full"),k(tt,"class","bg-slate-100 hover:bg-slate-300 transition-colors px-3 py-2 rounded cursor-pointer"),k(tt,"type","submit"),tt.value="submit",k(Y,"class","flex justify-end gap-4")},m($,A){C($,t,A),b(t,i),b(i,r),b(i,o),b(t,n),b(t,c),b(c,f),B(g,f,null),b(f,_),B(a,f,null),b(f,p),B(u,f,null),b(c,m),b(c,v),B(I,v,null),b(v,W),B(z,v,null),b(v,F),B(R,v,null),b(t,wt),b(t,Y),B(P,Y,null),b(Y,kt),b(Y,tt),G=!0,T||(j=[Q(tt,"click",Xt(l[4])),Q(t,"submit",Xt(l[4]))],T=!0)},p($,A){(!G||A&1)&&e!==(e=$[0].editMode?"Edit":"Create New")&&vt(r,e);const ft={};!s&&A&1&&(s=!0,ft.value=$[0].activity.title,mt(()=>s=!1)),g.$set(ft);const ot={};A&4&&(ot.dateStrings=$[2]),!h&&A&1&&(h=!0,ot.dates=$[0].activity.dates,mt(()=>h=!1)),a.$set(ot);const X={};A&2&&(X.timeStrings=$[1]),!d&&A&1&&(d=!0,X.times=$[0].activity.times,mt(()=>d=!1)),u.$set(X);const et={};!N&&A&1&&(N=!0,et.value=$[0].activity.location,mt(()=>N=!1)),I.$set(et);const at={};!H&&A&1&&(H=!0,at.value=$[0].activity.notifyOnWeather,mt(()=>H=!1)),z.$set(at);const Bt={};!st&&A&1&&(st=!0,Bt.value=$[0].activity.actitityType,mt(()=>st=!1)),R.$set(Bt);const Lt={};A&4097&&(Lt.$$scope={dirty:A,ctx:$}),P.$set(Lt)},i($){G||(y(g.$$.fragment,$),y(a.$$.fragment,$),y(u.$$.fragment,$),y(I.$$.fragment,$),y(z.$$.fragment,$),y(R.$$.fragment,$),y(P.$$.fragment,$),G=!0)},o($){S(g.$$.fragment,$),S(a.$$.fragment,$),S(u.$$.fragment,$),S(I.$$.fragment,$),S(z.$$.fragment,$),S(R.$$.fragment,$),S(P.$$.fragment,$),G=!1},d($){$&&w(t),L(g),L(a),L(u),L(I),L(z),L(R),L(P),T=!1,Pt(j)}}}function Oi(l){let t=l[0].editMode?"Remove":"Cancel",i;return{c(){i=Z(t)},l(e){i=K(e,t)},m(e,r){C(e,i,r)},p(e,r){r&1&&t!==(t=e[0].editMode?"Remove":"Cancel")&&vt(i,t)},d(e){e&&w(i)}}}function qi(l){let t,i,e=l[0]&&l[3]&&Ve(l);return{c(){e&&e.c(),t=zt()},l(r){e&&e.l(r),t=zt()},m(r,o){e&&e.m(r,o),C(r,t,o),i=!0},p(r,[o]){r[0]&&r[3]?e?(e.p(r,o),o&9&&y(e,1)):(e=Ve(r),e.c(),y(e,1),e.m(t.parentNode,t)):e&&(rt(),S(e,1,1,()=>{e=null}),lt())},i(r){i||(y(e),i=!0)},o(r){S(e),i=!1},d(r){e&&e.d(r),r&&w(t)}}}function Bi(l,t,i){let e,r,o;Wt(l,Rt,u=>i(3,o=u));let n=o;function c(){!n||(n.editMode?jt.updateActivity(n.activity):jt.add(n.activity),je("./planning"),Rt.reset())}function f(){n!=null&&n.editMode&&jt.deleteActivity(n.activity),Rt.reset()}function g(u){l.$$.not_equal(n.activity.title,u)&&(n.activity.title=u,i(0,n))}function s(u){l.$$.not_equal(n.activity.dates,u)&&(n.activity.dates=u,i(0,n))}function _(u){l.$$.not_equal(n.activity.times,u)&&(n.activity.times=u,i(0,n))}function a(u){l.$$.not_equal(n.activity.location,u)&&(n.activity.location=u,i(0,n))}function h(u){l.$$.not_equal(n.activity.notifyOnWeather,u)&&(n.activity.notifyOnWeather=u,i(0,n))}function p(u){l.$$.not_equal(n.activity.actitityType,u)&&(n.activity.actitityType=u,i(0,n))}return l.$$.update=()=>{l.$$.dirty&1&&i(2,e=n==null?void 0:n.activity.dates.map(u=>u.toString())),l.$$.dirty&1&&i(1,r=n==null?void 0:n.activity.times.map(({from:u,to:d})=>({from:u.round({smallestUnit:"minute"}).toString(),to:d.round({smallestUnit:"minute"}).toString()})))},[n,r,e,o,c,f,g,s,_,a,h,p]}class Li extends ht{constructor(t){super(),bt(this,t,Bi,qi,_t,{})}}function Ne(l){var Tt,Ot,Jt,qt;let t,i,e=l[0].editMode?"Edit":"Create New",r,o,n,c,f,g,s,_,a,h,p,u,d,m,v,I,N,W,z,H,F,R,st,wt,Y,P,kt,tt,G,T,j;function ut($){l[4]($)}let dt={type:"text",label:"title"};l[0].activity.title!==void 0&&(dt.value=l[0].activity.title),g=new St({props:dt}),gt.push(()=>pt(g,"value",ut)),a=new St({props:{type:"date",label:"date *",value:l[0].activity.date.toString()}}),a.$on("change",l[5]),p=new St({props:{type:"time",label:"from *",value:(Ot=(Tt=l[0])==null?void 0:Tt.activity.time)==null?void 0:Ot.from.toString({smallestUnit:"minute"})}}),p.$on("change",l[6]),d=new St({props:{type:"time",label:"to *",value:(qt=(Jt=l[0])==null?void 0:Jt.activity.time)==null?void 0:qt.to.toString({smallestUnit:"minute"})}}),d.$on("change",l[7]);function ct($){l[8]($)}let J={type:"text",placeholder:"Where?",label:"Location"};l[0].activity.location!==void 0&&(J.value=l[0].activity.location),I=new St({props:J}),gt.push(()=>pt(I,"value",ct));function $t($){l[9]($)}let Et={grow:!0,label:"Get notified if there will be:",options:[{title:"Sun",icon:Ce},{title:"Cloudy"},{title:"Partly-cloudy"},{title:"Snow"}]};l[0].activity.notifyOnWeather!==void 0&&(Et.value=l[0].activity.notifyOnWeather),z=new Be({props:Et}),gt.push(()=>pt(z,"value",$t));function Dt($){l[10]($)}let yt={grow:!0,label:"Activity type:",options:[{title:"Work",icon:Oe},{title:"Food"},{title:"Fun"},{title:"Workout"},{title:"Relax"}]};return l[0].activity.actitityType!==void 0&&(yt.value=l[0].activity.actitityType),R=new Le({props:yt}),gt.push(()=>pt(R,"value",Dt)),P=new It({props:{destructive:!0,$$slots:{default:[Ri]},$$scope:{ctx:l}}}),P.$on("click",l[3]),{c(){t=E("form"),i=E("h3"),r=Z(e),o=Z(" activity"),n=U(),c=E("div"),f=E("div"),O(g.$$.fragment),_=U(),O(a.$$.fragment),h=U(),O(p.$$.fragment),u=U(),O(d.$$.fragment),m=U(),v=E("div"),O(I.$$.fragment),W=U(),O(z.$$.fragment),F=U(),O(R.$$.fragment),wt=U(),Y=E("div"),O(P.$$.fragment),kt=U(),tt=E("input"),this.h()},l($){t=D($,"FORM",{});var A=V(t);i=D(A,"H3",{class:!0});var ft=V(i);r=K(ft,e),o=K(ft," activity"),ft.forEach(w),n=M(A),c=D(A,"DIV",{class:!0});var ot=V(c);f=D(ot,"DIV",{class:!0});var X=V(f);q(g.$$.fragment,X),_=M(X),q(a.$$.fragment,X),h=M(X),q(p.$$.fragment,X),u=M(X),q(d.$$.fragment,X),X.forEach(w),m=M(ot),v=D(ot,"DIV",{class:!0});var et=V(v);q(I.$$.fragment,et),W=M(et),q(z.$$.fragment,et),F=M(et),q(R.$$.fragment,et),et.forEach(w),ot.forEach(w),wt=M(A),Y=D(A,"DIV",{class:!0});var at=V(Y);q(P.$$.fragment,at),kt=M(at),tt=D(at,"INPUT",{class:!0,type:!0}),at.forEach(w),A.forEach(w),this.h()},h(){k(i,"class","text-xl border-b border-b-black/50 border-solid mb-4 pb-2 capitalize"),k(f,"class","left grow"),k(v,"class","right grow"),k(c,"class","flex flex-col lg:flex-row gap-4 w-full"),k(tt,"class","bg-slate-100 hover:bg-slate-300 transition-colors px-3 py-2 rounded cursor-pointer"),k(tt,"type","submit"),tt.value="submit",k(Y,"class","flex justify-end gap-4")},m($,A){C($,t,A),b(t,i),b(i,r),b(i,o),b(t,n),b(t,c),b(c,f),B(g,f,null),b(f,_),B(a,f,null),b(f,h),B(p,f,null),b(f,u),B(d,f,null),b(c,m),b(c,v),B(I,v,null),b(v,W),B(z,v,null),b(v,F),B(R,v,null),b(t,wt),b(t,Y),B(P,Y,null),b(Y,kt),b(Y,tt),G=!0,T||(j=[Q(tt,"click",Xt(l[2])),Q(t,"submit",Xt(l[2]))],T=!0)},p($,A){var le,ne,oe,ae;(!G||A&1)&&e!==(e=$[0].editMode?"Edit":"Create New")&&vt(r,e);const ft={};!s&&A&1&&(s=!0,ft.value=$[0].activity.title,mt(()=>s=!1)),g.$set(ft);const ot={};A&1&&(ot.value=$[0].activity.date.toString()),a.$set(ot);const X={};A&1&&(X.value=(ne=(le=$[0])==null?void 0:le.activity.time)==null?void 0:ne.from.toString({smallestUnit:"minute"})),p.$set(X);const et={};A&1&&(et.value=(ae=(oe=$[0])==null?void 0:oe.activity.time)==null?void 0:ae.to.toString({smallestUnit:"minute"})),d.$set(et);const at={};!N&&A&1&&(N=!0,at.value=$[0].activity.location,mt(()=>N=!1)),I.$set(at);const Bt={};!H&&A&1&&(H=!0,Bt.value=$[0].activity.notifyOnWeather,mt(()=>H=!1)),z.$set(Bt);const Lt={};!st&&A&1&&(st=!0,Lt.value=$[0].activity.actitityType,mt(()=>st=!1)),R.$set(Lt);const re={};A&2049&&(re.$$scope={dirty:A,ctx:$}),P.$set(re)},i($){G||(y(g.$$.fragment,$),y(a.$$.fragment,$),y(p.$$.fragment,$),y(d.$$.fragment,$),y(I.$$.fragment,$),y(z.$$.fragment,$),y(R.$$.fragment,$),y(P.$$.fragment,$),G=!0)},o($){S(g.$$.fragment,$),S(a.$$.fragment,$),S(p.$$.fragment,$),S(d.$$.fragment,$),S(I.$$.fragment,$),S(z.$$.fragment,$),S(R.$$.fragment,$),S(P.$$.fragment,$),G=!1},d($){$&&w(t),L(g),L(a),L(p),L(d),L(I),L(z),L(R),L(P),T=!1,Pt(j)}}}function Ri(l){let t=l[0].editMode?"Remove":"Cancel",i;return{c(){i=Z(t)},l(e){i=K(e,t)},m(e,r){C(e,i,r)},p(e,r){r&1&&t!==(t=e[0].editMode?"Remove":"Cancel")&&vt(i,t)},d(e){e&&w(i)}}}function xi(l){let t,i,e=l[0]&&l[1]&&Ne(l);return{c(){e&&e.c(),t=zt()},l(r){e&&e.l(r),t=zt()},m(r,o){e&&e.m(r,o),C(r,t,o),i=!0},p(r,[o]){r[0]&&r[1]?e?(e.p(r,o),o&3&&y(e,1)):(e=Ne(r),e.c(),y(e,1),e.m(t.parentNode,t)):e&&(rt(),S(e,1,1,()=>{e=null}),lt())},i(r){i||(y(e),i=!0)},o(r){S(e),i=!1},d(r){e&&e.d(r),r&&w(t)}}}function te(){const l=document.querySelector('input[type="submit"]');if(!l)return;let t=!1;Array.from(document.querySelectorAll('input[type="date"],input[type="time"]')).forEach(e=>{e.value==""&&(console.log(e.value),t=!0)}),t?(l.disabled=!0,l.style.color="gray"):(l.disabled=!1,l.style.color="initial")}function Fi(l,t,i){let e;Wt(l,At,p=>i(1,e=p));let r=e;function o(){var p,u;!r||(r.editMode?Ct.updateActivity(r.activity):Ct.add(r.activity,r.activity.date,(p=r.activity.time)==null?void 0:p.from,(u=r.activity.time)==null?void 0:u.to),At.reset())}function n(){r!=null&&r.editMode&&Ct.deleteActivity(r.activity),At.reset()}function c(p){l.$$.not_equal(r.activity.title,p)&&(r.activity.title=p,i(0,r))}const f=p=>{te(),r==null||r.activity.setDate(p)},g=p=>{te(),r==null||r.activity.setFromTime(p)},s=p=>{te(),r==null||r.activity.setToTime(p)};function _(p){l.$$.not_equal(r.activity.location,p)&&(r.activity.location=p,i(0,r))}function a(p){l.$$.not_equal(r.activity.notifyOnWeather,p)&&(r.activity.notifyOnWeather=p,i(0,r))}function h(p){l.$$.not_equal(r.activity.actitityType,p)&&(r.activity.actitityType=p,i(0,r))}return[r,e,o,n,c,f,g,s,_,a,h]}class Hi extends ht{constructor(t){super(),bt(this,t,Fi,xi,_t,{})}}const Yi=()=>{const l=Ye("__svelte__");return{page:{subscribe:l.page.subscribe},navigating:{subscribe:l.navigating.subscribe},get preloading(){return console.error("stores.preloading is deprecated; use stores.navigating instead"),{subscribe:l.navigating.subscribe}},session:l.session,updated:l.updated}},Gi={subscribe(l){return Yi().page.subscribe(l)}};function Ue(l,t,i){const e=l.slice();return e[9]=t[i],e}function Me(l){let t,i,e,r=l[9].title+"",o,n,c,f;return i=new xt({props:{src:l[9].icon,size:"16"}}),{c(){t=E("a"),O(i.$$.fragment),e=U(),o=Z(r),n=U(),this.h()},l(g){t=D(g,"A",{href:!0,class:!0});var s=V(t);q(i.$$.fragment,s),e=M(s),o=K(s,r),n=M(s),s.forEach(w),this.h()},h(){k(t,"href",c=We+"/"+l[9].url[0]),k(t,"class","flex flex-row items-center justify-start px-2 gap-3 svelte-1edphk7"),x(t,"active",l[9].url.includes(l[1].routeId||"upcomming"))},m(g,s){C(g,t,s),B(i,t,null),b(t,e),b(t,o),b(t,n),f=!0},p(g,s){s&18&&x(t,"active",g[9].url.includes(g[1].routeId||"upcomming"))},i(g){f||(y(i.$$.fragment,g),f=!0)},o(g){S(i.$$.fragment,g),f=!1},d(g){g&&w(t),L(i)}}}function Ji(l){let t;return{c(){t=Z("Create new event")},l(i){t=K(i,"Create new event")},m(i,e){C(i,t,e)},d(i){i&&w(t)}}}function Xi(l){let t,i;return t=new Li({}),{c(){O(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,r){B(t,e,r),i=!0},i(e){i||(y(t.$$.fragment,e),i=!0)},o(e){S(t.$$.fragment,e),i=!1},d(e){L(t,e)}}}function Zi(l){let t,i;return t=new Hi({}),{c(){O(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,r){B(t,e,r),i=!0},i(e){i||(y(t.$$.fragment,e),i=!0)},o(e){S(t.$$.fragment,e),i=!1},d(e){L(t,e)}}}function Ki(l){let t,i,e,r,o,n,c,f,g,s,_,a,h,p,u,d,m,v,I,N,W,z,H,F,R,st,wt;e=new xt({props:{src:Je,size:"16"}});let Y=l[4],P=[];for(let T=0;T<Y.length;T+=1)P[T]=Me(Ue(l,Y,T));const kt=T=>S(P[T],1,1,()=>{P[T]=null});h=new xt({props:{src:Xe,size:"16"}}),m=new It({props:{icon:ie,$$slots:{default:[Ji]},$$scope:{ctx:l}}}),m.$on("click",At.new),I=new pi({props:{firstname:"John",lastname:"Doe"}});const tt=l[5].default,G=Vt(tt,l,l[8],null);return z=new ge({props:{visible:l[2]!==void 0,$$slots:{default:[Xi]},$$scope:{ctx:l}}}),z.$on("close",Rt.reset),F=new ge({props:{visible:l[3]!==void 0,$$slots:{default:[Zi]},$$scope:{ctx:l}}}),F.$on("close",At.reset),{c(){t=E("div"),i=E("div"),O(e.$$.fragment),r=U(),o=E("div"),n=E("nav"),c=E("h1"),f=Z("PodPlanner"),g=U(),s=E("div");for(let T=0;T<P.length;T+=1)P[T].c();_=U(),a=E("div"),O(h.$$.fragment),p=U(),u=E("main"),d=E("div"),O(m.$$.fragment),v=U(),O(I.$$.fragment),N=U(),G&&G.c(),W=U(),O(z.$$.fragment),H=U(),O(F.$$.fragment),this.h()},l(T){t=D(T,"DIV",{class:!0});var j=V(t);i=D(j,"DIV",{class:!0});var ut=V(i);q(e.$$.fragment,ut),ut.forEach(w),r=M(j),o=D(j,"DIV",{class:!0});var dt=V(o);n=D(dt,"NAV",{class:!0});var ct=V(n);c=D(ct,"H1",{class:!0});var J=V(c);f=K(J,"PodPlanner"),J.forEach(w),g=M(ct),s=D(ct,"DIV",{class:!0});var $t=V(s);for(let Tt=0;Tt<P.length;Tt+=1)P[Tt].l($t);$t.forEach(w),_=M(ct),a=D(ct,"DIV",{class:!0});var Et=V(a);q(h.$$.fragment,Et),Et.forEach(w),ct.forEach(w),dt.forEach(w),p=M(j),u=D(j,"MAIN",{class:!0});var Dt=V(u);d=D(Dt,"DIV",{class:!0});var yt=V(d);q(m.$$.fragment,yt),v=M(yt),q(I.$$.fragment,yt),yt.forEach(w),N=M(Dt),G&&G.l(Dt),Dt.forEach(w),j.forEach(w),W=M(T),q(z.$$.fragment,T),H=M(T),q(F.$$.fragment,T),this.h()},h(){k(i,"class","absolute left-4 top-4 w-14 h-14 bg-green-400 hover:bg-green-500 cursor-pointer rounded-full flex items-center justify-center"),k(c,"class","text-3xl font-bold border-b-2 border-green-700 text-green-700 mb-4"),k(s,"class","flex flex-col gap-2"),k(a,"class","absolute -right-7 bottom-7 w-14 h-14 bg-green-400 hover:bg-green-500 cursor-pointer rounded-full flex items-center justify-center"),k(n,"class","fixed -left-72 transition-all bg-white flex-shrink-0 border-r w-64 p-4 border-slate-200 h-[100vh] svelte-1edphk7"),k(o,"class","transition-all svelte-1edphk7"),x(o,"showNav",l[0]),k(d,"class","flex gap-4 justify-end mb-10"),k(u,"class","grow p-5"),k(t,"class","flex")},m(T,j){C(T,t,j),b(t,i),B(e,i,null),b(t,r),b(t,o),b(o,n),b(n,c),b(c,f),b(n,g),b(n,s);for(let ut=0;ut<P.length;ut+=1)P[ut].m(s,null);b(n,_),b(n,a),B(h,a,null),b(t,p),b(t,u),b(u,d),B(m,d,null),b(d,v),B(I,d,null),b(u,N),G&&G.m(u,null),C(T,W,j),B(z,T,j),C(T,H,j),B(F,T,j),R=!0,st||(wt=[Q(i,"click",l[6]),Q(a,"click",l[7])],st=!0)},p(T,[j]){if(j&18){Y=T[4];let J;for(J=0;J<Y.length;J+=1){const $t=Ue(T,Y,J);P[J]?(P[J].p($t,j),y(P[J],1)):(P[J]=Me($t),P[J].c(),y(P[J],1),P[J].m(s,null))}for(rt(),J=Y.length;J<P.length;J+=1)kt(J);lt()}j&1&&x(o,"showNav",T[0]);const ut={};j&256&&(ut.$$scope={dirty:j,ctx:T}),m.$set(ut),G&&G.p&&(!R||j&256)&&Nt(G,tt,T,T[8],R?Mt(tt,T[8],j,null):Ut(T[8]),null);const dt={};j&4&&(dt.visible=T[2]!==void 0),j&256&&(dt.$$scope={dirty:j,ctx:T}),z.$set(dt);const ct={};j&8&&(ct.visible=T[3]!==void 0),j&256&&(ct.$$scope={dirty:j,ctx:T}),F.$set(ct)},i(T){if(!R){y(e.$$.fragment,T);for(let j=0;j<Y.length;j+=1)y(P[j]);y(h.$$.fragment,T),y(m.$$.fragment,T),y(I.$$.fragment,T),y(G,T),y(z.$$.fragment,T),y(F.$$.fragment,T),R=!0}},o(T){S(e.$$.fragment,T),P=P.filter(Boolean);for(let j=0;j<P.length;j+=1)S(P[j]);S(h.$$.fragment,T),S(m.$$.fragment,T),S(I.$$.fragment,T),S(G,T),S(z.$$.fragment,T),S(F.$$.fragment,T),R=!1},d(T){T&&w(t),L(e),Gt(P,T),L(h),L(m),L(I),G&&G.d(T),T&&w(W),L(z,T),T&&w(H),L(F,T),st=!1,Pt(wt)}}}function Qi(l,t,i){let e,r,o;Wt(l,Gi,a=>i(1,e=a)),Wt(l,Rt,a=>i(2,r=a)),Wt(l,At,a=>i(3,o=a));let{$$slots:n={},$$scope:c}=t;const f=[{title:"Planning view",url:["planning",""],icon:Qt},{title:"Upcomming activities",url:["upcomming"],icon:Qt},{title:"Past activities",url:["past"],icon:Qt}];let g=!1;const s=()=>i(0,g=!g),_=()=>i(0,g=!g);return l.$$set=a=>{"$$scope"in a&&i(8,c=a.$$scope)},[g,e,r,o,f,n,s,_,c]}class tr extends ht{constructor(t){super(),bt(this,t,Qi,Ki,_t,{})}}const Ht=Ft.Now.plainDateISO(qe),Re=Ht.add({days:1}),er=Ht.add({days:2}),Kt=Ft.Now.plainTimeISO(qe),xe={from:Kt,to:Kt.add({minutes:30})},ir={from:Kt.add({minutes:90}),to:Kt.add({minutes:180})};function rr(){const l=new ce("","Test1","Work",new Set(["Windy","Rain"]),"Brussels",[Ht,Re]),t=new ce("","Test2","Fun",new Set(["Windy","Rain"]),"Brussels",[Ht,er],[xe,ir]);jt.add(l),jt.add(t)}function lr(){const l=new ue("","Test1","Work",new Set(["Windy","Rain"]),"Brussels",Re),t=new ue("","Test2","Fun",new Set(["Windy","Rain"]),"Brussels",Ht.subtract({days:1}),xe);Ct.add(l),Ct.add(t)}function nr(){const l=se(jt),t=se(Ct);l.length||rr(),t.length||lr()}function or(l){let t,i;return t=new fi({}),{c(){O(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,r){B(t,e,r),i=!0},p:nt,i(e){i||(y(t.$$.fragment,e),i=!0)},o(e){S(t.$$.fragment,e),i=!1},d(e){L(t,e)}}}function ar(l){let t,i;return t=new tr({props:{$$slots:{default:[cr]},$$scope:{ctx:l}}}),{c(){O(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,r){B(t,e,r),i=!0},p(e,r){const o={};r&4&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){i||(y(t.$$.fragment,e),i=!0)},o(e){S(t.$$.fragment,e),i=!1},d(e){L(t,e)}}}function sr(l){let t,i,e;return{c(){t=E("div"),i=E("img"),this.h()},l(r){t=D(r,"DIV",{class:!0});var o=V(t);i=D(o,"IMG",{class:!0,src:!0,alt:!0,height:!0}),o.forEach(w),this.h()},h(){k(i,"class","h-80 rounded-lg"),Ge(i.src,e=We+"/loading.gif")||k(i,"src",e),k(i,"alt","loading"),k(i,"height","400"),k(t,"class","w-full h-[100vh] flex items-center justify-center antialiased")},m(r,o){C(r,t,o),b(t,i)},p:nt,i:nt,o:nt,d(r){r&&w(t)}}}function cr(l){let t;const i=l[1].default,e=Vt(i,l,l[2],null);return{c(){e&&e.c()},l(r){e&&e.l(r)},m(r,o){e&&e.m(r,o),t=!0},p(r,o){e&&e.p&&(!t||o&4)&&Nt(e,i,r,r[2],t?Mt(i,r[2],o,null):Ut(r[2]),null)},i(r){t||(y(e,r),t=!0)},o(r){S(e,r),t=!1},d(r){e&&e.d(r)}}}function ur(l){let t,i,e,r;const o=[sr,ar,or],n=[];function c(f,g){return f[0].loading?0:f[0].userSession.isLoggedIn?1:2}return t=c(l),i=n[t]=o[t](l),{c(){i.c(),e=zt()},l(f){i.l(f),e=zt()},m(f,g){n[t].m(f,g),C(f,e,g),r=!0},p(f,[g]){let s=t;t=c(f),t===s?n[t].p(f,g):(rt(),S(n[s],1,1,()=>{n[s]=null}),lt(),i=n[t],i?i.p(f,g):(i=n[t]=o[t](f),i.c()),y(i,1),i.m(e.parentNode,e))},i(f){r||(y(i),r=!0)},o(f){S(i),r=!1},d(f){n[t].d(f),f&&w(e)}}}function fr(l,t,i){let e;Wt(l,Zt,n=>i(0,e=n));let{$$slots:r={},$$scope:o}=t;return Pe(()=>{Zt.init(),window.setupActivities=nr}),l.$$set=n=>{"$$scope"in n&&i(2,o=n.$$scope)},[e,r,o]}class wr extends ht{constructor(t){super(),bt(this,t,fr,ur,_t,{})}}export{wr as default};
