import{S as bt,i as _t,s as vt,e as E,k as M,t as X,c as D,a as V,d as w,m as P,h as Z,b as k,I as H,g as C,J as _,n as rt,o as I,p as lt,q as y,j as ot,K as Gt,L as ee,E as at,M as Vt,N as Nt,O as Mt,P as Pt,Q as it,R as Q,G as Ut,T as pt,U as mt,w as O,x as q,y as B,V as ht,B as L,v as Ue,W as He,l as zt,X as Ye,Y as xt,Z as Xt,_ as Wt,$ as Ge,a0 as se,a1 as xe}from"../chunks/index-6d6fbed6.js";import{b as We}from"../chunks/singletons-bd1dfc1a.js";import{g as je}from"../chunks/navigation-3ebc45bc.js";import{B as St,I as Ft,T as Ae,P as ie,S as Ce,a as Oe,M as Je,C as Xe,b as Qt}from"../chunks/Button-6bd27824.js";import{u as Ze,t as Ht,m as Rt,a as jt,b as At,p as Ct,T as qe,U as ce,P as ue}from"../chunks/eventStore-24e1c1fe.js";import{u as Zt,t as Ke}from"../chunks/userStore-ad134bbc.js";import"../chunks/preload-helper-ed63bd61.js";import"../chunks/index-b2bed869.js";const Qe=l=>({}),fe=l=>({});function ti(l){let t;return{c(){t=X(l[1])},l(i){t=Z(i,l[1])},m(i,e){C(i,t,e)},p(i,e){e&2&&ot(t,i[1])},i:at,o:at,d(i){i&&w(t)}}}function ei(l){let t;const i=l[8].label,e=Vt(i,l,l[7],fe);return{c(){e&&e.c()},l(r){e&&e.l(r)},m(r,n){e&&e.m(r,n),t=!0},p(r,n){e&&e.p&&(!t||n&128)&&Nt(e,i,r,r[7],t?Pt(i,r[7],n,Qe):Mt(r[7]),fe)},i(r){t||(y(e,r),t=!0)},o(r){I(e,r),t=!1},d(r){e&&e.d(r)}}}function ii(l){let t,i,e,r;return{c(){t=E("input"),this.h()},l(n){t=D(n,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0}),this.h()},h(){k(t,"id",l[5]),k(t,"class","rounded-md p-2 w-full bg-slate-100 hover:ring transition-all"),k(t,"type","text"),k(t,"placeholder",i=l[2]||l[1]),H(t,"ring",l[3]),H(t,"ring-red-500",l[3])},m(n,o){C(n,t,o),it(t,l[0]),e||(r=Q(t,"input",l[13]),e=!0)},p(n,o){o&6&&i!==(i=n[2]||n[1])&&k(t,"placeholder",i),o&1&&t.value!==n[0]&&it(t,n[0]),o&8&&H(t,"ring",n[3]),o&8&&H(t,"ring-red-500",n[3])},d(n){n&&w(t),e=!1,r()}}}function ri(l){let t,i,e,r;return{c(){t=E("input"),this.h()},l(n){t=D(n,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0}),this.h()},h(){k(t,"id",l[5]),k(t,"class","rounded-md p-2 w-full bg-slate-100 hover:ring transition-all"),k(t,"type","time"),k(t,"placeholder",i=l[2]||l[1]),H(t,"ring",l[3]),H(t,"ring-red-500",l[3])},m(n,o){C(n,t,o),it(t,l[0]),e||(r=[Q(t,"input",l[12]),Q(t,"change",l[10])],e=!0)},p(n,o){o&6&&i!==(i=n[2]||n[1])&&k(t,"placeholder",i),o&1&&it(t,n[0]),o&8&&H(t,"ring",n[3]),o&8&&H(t,"ring-red-500",n[3])},d(n){n&&w(t),e=!1,Ut(r)}}}function li(l){let t,i,e,r;return{c(){t=E("input"),this.h()},l(n){t=D(n,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0}),this.h()},h(){k(t,"id",l[5]),k(t,"class","rounded-md p-2 w-full bg-slate-100 hover:ring transition-all"),k(t,"type","date"),k(t,"placeholder",i=l[2]||l[1]),H(t,"ring",l[3]),H(t,"ring-red-500",l[3])},m(n,o){C(n,t,o),it(t,l[0]),e||(r=[Q(t,"input",l[11]),Q(t,"change",l[9])],e=!0)},p(n,o){o&6&&i!==(i=n[2]||n[1])&&k(t,"placeholder",i),o&1&&it(t,n[0]),o&8&&H(t,"ring",n[3]),o&8&&H(t,"ring-red-500",n[3])},d(n){n&&w(t),e=!1,Ut(r)}}}function ni(l){let t,i,e,r,n,o,c,f,p;const s=[ei,ti],b=[];function a(d,g){return d[6].label?0:d[1]?1:-1}~(e=a(l))&&(r=b[e]=s[e](l));function h(d,g){return d[4]=="date"?li:d[4]=="time"?ri:ii}let m=h(l),u=m(l);return{c(){t=E("label"),i=E("div"),r&&r.c(),n=M(),u.c(),o=M(),c=E("div"),f=X(l[3]),this.h()},l(d){t=D(d,"LABEL",{class:!0,for:!0});var g=V(t);i=D(g,"DIV",{class:!0});var v=V(i);r&&r.l(v),v.forEach(w),n=P(g),u.l(g),o=P(g),c=D(g,"DIV",{class:!0});var S=V(c);f=Z(S,l[3]),S.forEach(w),g.forEach(w),this.h()},h(){k(i,"class","mx-1 mb-px text-sm capitalize"),k(c,"class","text-sm h-2 text-red-700 "),H(c,"opacity-0",!l[3]),k(t,"class","my-4 block"),k(t,"for",l[5])},m(d,g){C(d,t,g),_(t,i),~e&&b[e].m(i,null),_(t,n),u.m(t,null),_(t,o),_(t,c),_(c,f),p=!0},p(d,[g]){let v=e;e=a(d),e===v?~e&&b[e].p(d,g):(r&&(rt(),I(b[v],1,1,()=>{b[v]=null}),lt()),~e?(r=b[e],r?r.p(d,g):(r=b[e]=s[e](d),r.c()),y(r,1),r.m(i,null)):r=null),m===(m=h(d))&&u?u.p(d,g):(u.d(1),u=m(d),u&&(u.c(),u.m(t,o))),(!p||g&8)&&ot(f,d[3]),g&8&&H(c,"opacity-0",!d[3])},i(d){p||(y(r),p=!0)},o(d){I(r),p=!1},d(d){d&&w(t),~e&&b[e].d(),u.d()}}}function oi(l,t,i){let{$$slots:e={},$$scope:r}=t;const n=Gt(e);let{label:o=""}=t,{placeholder:c=""}=t,{error:f=""}=t,{value:p=""}=t,{type:s="text"}=t,b=Ze();function a(g){ee.call(this,l,g)}function h(g){ee.call(this,l,g)}function m(){p=this.value,i(0,p)}function u(){p=this.value,i(0,p)}function d(){p=this.value,i(0,p)}return l.$$set=g=>{"label"in g&&i(1,o=g.label),"placeholder"in g&&i(2,c=g.placeholder),"error"in g&&i(3,f=g.error),"value"in g&&i(0,p=g.value),"type"in g&&i(4,s=g.type),"$$scope"in g&&i(7,r=g.$$scope)},[p,o,c,f,s,b,n,r,e,a,h,m,u,d]}class It extends bt{constructor(t){super(),_t(this,t,oi,ni,vt,{label:1,placeholder:2,error:3,value:0,type:4})}}function ai(l){let t;return{c(){t=X("Login with pod")},l(i){t=Z(i,"Login with pod")},m(i,e){C(i,t,e)},d(i){i&&w(t)}}}function si(l){let t;return{c(){t=X("Learn how to obtain your own pod")},l(i){t=Z(i,"Learn how to obtain your own pod")},m(i,e){C(i,t,e)},d(i){i&&w(t)}}}function ci(l){let t,i,e,r,n,o,c,f,p,s,b,a,h,m,u,d;function g(U){l[5](U)}let v={label:"pod url",error:l[1]};l[0]!==void 0&&(v.value=l[0]),n=new It({props:v}),pt.push(()=>mt(n,"value",g));function S(U){l[6](U)}let N={label:"Storage location"};return l[2]!==void 0&&(N.value=l[2]),f=new It({props:N}),pt.push(()=>mt(f,"value",S)),b=new St({props:{focused:!0,$$slots:{default:[ai]},$$scope:{ctx:l}}}),b.$on("click",l[3]),u=new St({props:{$$slots:{default:[si]},$$scope:{ctx:l}}}),u.$on("click",l[4]),{c(){t=E("div"),i=E("h1"),e=X("Welcome to the pod"),r=M(),O(n.$$.fragment),c=M(),O(f.$$.fragment),s=M(),O(b.$$.fragment),a=M(),h=E("br"),m=M(),O(u.$$.fragment),this.h()},l(U){t=D(U,"DIV",{class:!0});var z=V(t);i=D(z,"H1",{class:!0});var F=V(i);e=Z(F,"Welcome to the pod"),F.forEach(w),r=P(z),q(n.$$.fragment,z),c=P(z),q(f.$$.fragment,z),s=P(z),q(b.$$.fragment,z),a=P(z),h=D(z,"BR",{}),m=P(z),q(u.$$.fragment,z),z.forEach(w),this.h()},h(){k(i,"class","text-2xl"),k(t,"class","max-w-lg my-16 mx-auto")},m(U,z){C(U,t,z),_(t,i),_(i,e),_(t,r),B(n,t,null),_(t,c),B(f,t,null),_(t,s),B(b,t,null),_(t,a),_(t,h),_(t,m),B(u,t,null),d=!0},p(U,[z]){const F={};z&2&&(F.error=U[1]),!o&&z&1&&(o=!0,F.value=U[0],ht(()=>o=!1)),n.$set(F);const Y={};!p&&z&4&&(p=!0,Y.value=U[2],ht(()=>p=!1)),f.$set(Y);const R={};z&256&&(R.$$scope={dirty:z,ctx:U}),b.$set(R);const ct={};z&256&&(ct.$$scope={dirty:z,ctx:U}),u.$set(ct)},i(U){d||(y(n.$$.fragment,U),y(f.$$.fragment,U),y(b.$$.fragment,U),y(u.$$.fragment,U),d=!0)},o(U){I(n.$$.fragment,U),I(f.$$.fragment,U),I(b.$$.fragment,U),I(u.$$.fragment,U),d=!1},d(U){U&&w(t),L(n),L(f),L(b),L(u)}}}function ui(l,t,i){let e,r="http://localhost:3000",n="",o="http://localhost:3000/johndoe";async function c(){try{await Zt.signIn(r,o,e)}catch(b){i(1,n=Ke(b).message)}}function f(){je("https://osoc22.github.io/project-idlab/")}Ue(async()=>{e=window.location.href,i(0,r=localStorage.getItem("podUrl")||"http://localhost:3000"),i(2,o=localStorage.getItem("storageLocation")||"http://localhost:3000/johndoe")});function p(b){r=b,i(0,r)}function s(b){o=b,i(2,o)}return[r,n,o,c,f,p,s]}class fi extends bt{constructor(t){super(),_t(this,t,ui,ci,vt,{})}}function di(l){let t,i,e,r,n=l[0][0]+"",o,c=l[2][l[2].length-1][0]+"",f,p,s,b,a,h,m,u,d;return{c(){t=E("button"),i=E("div"),e=E("div"),r=E("span"),o=X(n),f=X(c),p=M(),s=E("div"),b=E("p"),a=X(l[0]),h=M(),m=X(l[1]),this.h()},l(g){t=D(g,"BUTTON",{class:!0});var v=V(t);i=D(v,"DIV",{});var S=V(i);e=D(S,"DIV",{class:!0});var N=V(e);r=D(N,"SPAN",{class:!0});var U=V(r);o=Z(U,n),f=Z(U,c),U.forEach(w),N.forEach(w),S.forEach(w),p=P(v),s=D(v,"DIV",{class:!0});var z=V(s);b=D(z,"P",{class:!0});var F=V(b);a=Z(F,l[0]),h=P(F),m=Z(F,l[1]),F.forEach(w),z.forEach(w),v.forEach(w),this.h()},h(){k(r,"class","leading-none p-2 text-sm"),k(e,"class","rounded-full bg-green-700 text-green-100 h-8 w-8 flex items-center justify-center cursor-pointer"),k(b,"class","text-sm font-medium text-gray-700 group-hover:text-gray-900"),k(s,"class","ml-3"),k(t,"class","flex items-center hover:bg-gray-200 rounded-xl px-2 py-2 transition-colors cursor-pointer")},m(g,v){C(g,t,v),_(t,i),_(i,e),_(e,r),_(r,o),_(r,f),_(t,p),_(t,s),_(s,b),_(b,a),_(b,h),_(b,m),u||(d=Q(t,"click",l[3]),u=!0)},p(g,[v]){v&1&&n!==(n=g[0][0]+"")&&ot(o,n),v&4&&c!==(c=g[2][g[2].length-1][0]+"")&&ot(f,c),v&1&&ot(a,g[0]),v&2&&ot(m,g[1])},i:at,o:at,d(g){g&&w(t),u=!1,d()}}}function gi(l,t,i){let e,{firstname:r}=t,{lastname:n=""}=t;async function o(){await Zt.signOut()}return l.$$set=c=>{"firstname"in c&&i(0,r=c.firstname),"lastname"in c&&i(1,n=c.lastname)},l.$$.update=()=>{l.$$.dirty&3&&i(2,e=(n==null?void 0:n.split(" "))||r.split(" "))},[r,n,e,o]}class pi extends bt{constructor(t){super(),_t(this,t,gi,di,vt,{firstname:0,lastname:1})}}function de(l){let t,i,e,r,n;const o=l[3].default,c=Vt(o,l,l[2],null);return{c(){t=E("div"),i=E("div"),c&&c.c(),this.h()},l(f){t=D(f,"DIV",{class:!0});var p=V(t);i=D(p,"DIV",{class:!0});var s=V(i);c&&c.l(s),s.forEach(w),p.forEach(w),this.h()},h(){k(i,"class","fixed max-h-[90vh] overflow-auto top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-3xl bg-white z-20 p-4 rounded-lg"),k(t,"class","fixed top-0 left-0 w-full h-[100%] bg-slate-900/30 z-10 cursor-pointer")},m(f,p){C(f,t,p),_(t,i),c&&c.m(i,null),e=!0,r||(n=[Q(i,"click",He(l[4])),Q(t,"click",l[1])],r=!0)},p(f,p){c&&c.p&&(!e||p&4)&&Nt(c,o,f,f[2],e?Pt(o,f[2],p,null):Mt(f[2]),null)},i(f){e||(y(c,f),e=!0)},o(f){I(c,f),e=!1},d(f){f&&w(t),c&&c.d(f),r=!1,Ut(n)}}}function mi(l){let t,i,e=l[0]&&de(l);return{c(){e&&e.c(),t=zt()},l(r){e&&e.l(r),t=zt()},m(r,n){e&&e.m(r,n),C(r,t,n),i=!0},p(r,[n]){r[0]?e?(e.p(r,n),n&1&&y(e,1)):(e=de(r),e.c(),y(e,1),e.m(t.parentNode,t)):e&&(rt(),I(e,1,1,()=>{e=null}),lt())},i(r){i||(y(e),i=!0)},o(r){I(e),i=!1},d(r){e&&e.d(r),r&&w(t)}}}function hi(l,t,i){let{$$slots:e={},$$scope:r}=t,{visible:n=!1}=t;const o=Ye();function c(){o("close"),i(0,n=!1)}function f(p){ee.call(this,l,p)}return l.$$set=p=>{"visible"in p&&i(0,n=p.visible),"$$scope"in p&&i(2,r=p.$$scope)},[n,c,r,e,f]}class ge extends bt{constructor(t){super(),_t(this,t,hi,mi,vt,{visible:0})}}function pe(l,t,i){const e=l.slice();return e[9]=t[i],e}const bi=l=>({}),me=l=>({});function _i(l){let t;return{c(){t=X(l[2])},l(i){t=Z(i,l[2])},m(i,e){C(i,t,e)},p(i,e){e&4&&ot(t,i[2])},i:at,o:at,d(i){i&&w(t)}}}function vi(l){let t;const i=l[7].label,e=Vt(i,l,l[6],me);return{c(){e&&e.c()},l(r){e&&e.l(r)},m(r,n){e&&e.m(r,n),t=!0},p(r,n){e&&e.p&&(!t||n&64)&&Nt(e,i,r,r[6],t?Pt(i,r[6],n,bi):Mt(r[6]),me)},i(r){t||(y(e,r),t=!0)},o(r){I(e,r),t=!1},d(r){e&&e.d(r)}}}function he(l){let t,i;return t=new Ft({props:{src:l[9].icon,size:"16"}}),{c(){O(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,r){B(t,e,r),i=!0},p(e,r){const n={};r&2&&(n.src=e[9].icon),t.$set(n)},i(e){i||(y(t.$$.fragment,e),i=!0)},o(e){I(t.$$.fragment,e),i=!1},d(e){L(t,e)}}}function be(l){let t,i,e,r=l[9].title+"",n,o,c,f,p,s=l[9].icon&&he(l);function b(){return l[8](l[9])}return{c(){t=E("div"),s&&s.c(),i=M(),e=E("div"),n=X(r),o=M(),this.h()},l(a){t=D(a,"DIV",{class:!0});var h=V(t);s&&s.l(h),i=P(h),e=D(h,"DIV",{});var m=V(e);n=Z(m,r),m.forEach(w),o=P(h),h.forEach(w),this.h()},h(){H(e,"text-sm",l[9].icon),k(t,"class","px-3 py-2 rounded bg-blue-50 text-blue-700 flex flex-col items-center justify-center svelte-1mwawgl"),H(t,"active",l[0].has(l[9].title)),H(t,"grow",l[3])},m(a,h){C(a,t,h),s&&s.m(t,null),_(t,i),_(t,e),_(e,n),_(t,o),c=!0,f||(p=Q(t,"click",b),f=!0)},p(a,h){l=a,l[9].icon?s?(s.p(l,h),h&2&&y(s,1)):(s=he(l),s.c(),y(s,1),s.m(t,i)):s&&(rt(),I(s,1,1,()=>{s=null}),lt()),(!c||h&2)&&r!==(r=l[9].title+"")&&ot(n,r),h&2&&H(e,"text-sm",l[9].icon),h&3&&H(t,"active",l[0].has(l[9].title)),h&8&&H(t,"grow",l[3])},i(a){c||(y(s),c=!0)},o(a){I(s),c=!1},d(a){a&&w(t),s&&s.d(),f=!1,p()}}}function wi(l){let t,i,e,r,n,o,c;const f=[vi,_i],p=[];function s(m,u){return m[5].label?0:m[2]?1:-1}~(e=s(l))&&(r=p[e]=f[e](l));let b=l[1],a=[];for(let m=0;m<b.length;m+=1)a[m]=be(pe(l,b,m));const h=m=>I(a[m],1,1,()=>{a[m]=null});return{c(){t=E("div"),i=E("div"),r&&r.c(),n=M(),o=E("div");for(let m=0;m<a.length;m+=1)a[m].c();this.h()},l(m){t=D(m,"DIV",{class:!0});var u=V(t);i=D(u,"DIV",{class:!0});var d=V(i);r&&r.l(d),d.forEach(w),n=P(u),o=D(u,"DIV",{class:!0});var g=V(o);for(let v=0;v<a.length;v+=1)a[v].l(g);g.forEach(w),u.forEach(w),this.h()},h(){k(i,"class","mx-1 mb-px text-sm"),k(o,"class","flex gap-2"),k(t,"class","my-4 block box-border")},m(m,u){C(m,t,u),_(t,i),~e&&p[e].m(i,null),_(t,n),_(t,o);for(let d=0;d<a.length;d+=1)a[d].m(o,null);c=!0},p(m,[u]){let d=e;if(e=s(m),e===d?~e&&p[e].p(m,u):(r&&(rt(),I(p[d],1,1,()=>{p[d]=null}),lt()),~e?(r=p[e],r?r.p(m,u):(r=p[e]=f[e](m),r.c()),y(r,1),r.m(i,null)):r=null),u&27){b=m[1];let g;for(g=0;g<b.length;g+=1){const v=pe(m,b,g);a[g]?(a[g].p(v,u),y(a[g],1)):(a[g]=be(v),a[g].c(),y(a[g],1),a[g].m(o,null))}for(rt(),g=b.length;g<a.length;g+=1)h(g);lt()}},i(m){if(!c){y(r);for(let u=0;u<b.length;u+=1)y(a[u]);c=!0}},o(m){I(r),a=a.filter(Boolean);for(let u=0;u<a.length;u+=1)I(a[u]);c=!1},d(m){m&&w(t),~e&&p[e].d(),xt(a,m)}}}function yi(l,t,i){let{$$slots:e={},$$scope:r}=t;const n=Gt(e);let{value:o=new Set([])}=t,{options:c=[]}=t,{label:f=""}=t,{grow:p=!1}=t;function s(a){o.has(a.title)?(o.delete(a.title),i(0,o=new Set(o))):(o.add(a.title),i(0,o=new Set(o)))}const b=a=>s(a);return l.$$set=a=>{"value"in a&&i(0,o=a.value),"options"in a&&i(1,c=a.options),"label"in a&&i(2,f=a.label),"grow"in a&&i(3,p=a.grow),"$$scope"in a&&i(6,r=a.$$scope)},[o,c,f,p,s,n,r,e,b]}class Be extends bt{constructor(t){super(),_t(this,t,yi,wi,vt,{value:0,options:1,label:2,grow:3})}}function _e(l,t,i){const e=l.slice();return e[9]=t[i],e}const ki=l=>({}),ve=l=>({});function $i(l){let t;return{c(){t=X(l[2])},l(i){t=Z(i,l[2])},m(i,e){C(i,t,e)},p(i,e){e&4&&ot(t,i[2])},i:at,o:at,d(i){i&&w(t)}}}function Ii(l){let t;const i=l[7].label,e=Vt(i,l,l[6],ve);return{c(){e&&e.c()},l(r){e&&e.l(r)},m(r,n){e&&e.m(r,n),t=!0},p(r,n){e&&e.p&&(!t||n&64)&&Nt(e,i,r,r[6],t?Pt(i,r[6],n,ki):Mt(r[6]),ve)},i(r){t||(y(e,r),t=!0)},o(r){I(e,r),t=!1},d(r){e&&e.d(r)}}}function we(l){let t,i;return t=new Ft({props:{src:l[9].icon,size:"16"}}),{c(){O(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,r){B(t,e,r),i=!0},p(e,r){const n={};r&2&&(n.src=e[9].icon),t.$set(n)},i(e){i||(y(t.$$.fragment,e),i=!0)},o(e){I(t.$$.fragment,e),i=!1},d(e){L(t,e)}}}function ye(l){let t,i,e,r=l[9].title+"",n,o,c,f,p,s=l[9].icon&&we(l);function b(){return l[8](l[9])}return{c(){t=E("div"),s&&s.c(),i=M(),e=E("div"),n=X(r),o=M(),this.h()},l(a){t=D(a,"DIV",{class:!0});var h=V(t);s&&s.l(h),i=P(h),e=D(h,"DIV",{});var m=V(e);n=Z(m,r),m.forEach(w),o=P(h),h.forEach(w),this.h()},h(){H(e,"text-sm",l[9].icon),k(t,"class","px-3 py-2 rounded bg-blue-50 text-blue-700 flex flex-col items-center justify-center svelte-1mwawgl"),H(t,"active",l[0]==l[9].title),H(t,"grow",l[3])},m(a,h){C(a,t,h),s&&s.m(t,null),_(t,i),_(t,e),_(e,n),_(t,o),c=!0,f||(p=Q(t,"click",b),f=!0)},p(a,h){l=a,l[9].icon?s?(s.p(l,h),h&2&&y(s,1)):(s=we(l),s.c(),y(s,1),s.m(t,i)):s&&(rt(),I(s,1,1,()=>{s=null}),lt()),(!c||h&2)&&r!==(r=l[9].title+"")&&ot(n,r),h&2&&H(e,"text-sm",l[9].icon),h&3&&H(t,"active",l[0]==l[9].title),h&8&&H(t,"grow",l[3])},i(a){c||(y(s),c=!0)},o(a){I(s),c=!1},d(a){a&&w(t),s&&s.d(),f=!1,p()}}}function Si(l){let t,i,e,r,n,o,c;const f=[Ii,$i],p=[];function s(m,u){return m[5].label?0:m[2]?1:-1}~(e=s(l))&&(r=p[e]=f[e](l));let b=l[1],a=[];for(let m=0;m<b.length;m+=1)a[m]=ye(_e(l,b,m));const h=m=>I(a[m],1,1,()=>{a[m]=null});return{c(){t=E("div"),i=E("div"),r&&r.c(),n=M(),o=E("div");for(let m=0;m<a.length;m+=1)a[m].c();this.h()},l(m){t=D(m,"DIV",{class:!0});var u=V(t);i=D(u,"DIV",{class:!0});var d=V(i);r&&r.l(d),d.forEach(w),n=P(u),o=D(u,"DIV",{class:!0});var g=V(o);for(let v=0;v<a.length;v+=1)a[v].l(g);g.forEach(w),u.forEach(w),this.h()},h(){k(i,"class","mx-1 mb-px text-sm"),k(o,"class","flex gap-2"),k(t,"class","my-4 block box-border")},m(m,u){C(m,t,u),_(t,i),~e&&p[e].m(i,null),_(t,n),_(t,o);for(let d=0;d<a.length;d+=1)a[d].m(o,null);c=!0},p(m,[u]){let d=e;if(e=s(m),e===d?~e&&p[e].p(m,u):(r&&(rt(),I(p[d],1,1,()=>{p[d]=null}),lt()),~e?(r=p[e],r?r.p(m,u):(r=p[e]=f[e](m),r.c()),y(r,1),r.m(i,null)):r=null),u&27){b=m[1];let g;for(g=0;g<b.length;g+=1){const v=_e(m,b,g);a[g]?(a[g].p(v,u),y(a[g],1)):(a[g]=ye(v),a[g].c(),y(a[g],1),a[g].m(o,null))}for(rt(),g=b.length;g<a.length;g+=1)h(g);lt()}},i(m){if(!c){y(r);for(let u=0;u<b.length;u+=1)y(a[u]);c=!0}},o(m){I(r),a=a.filter(Boolean);for(let u=0;u<a.length;u+=1)I(a[u]);c=!1},d(m){m&&w(t),~e&&p[e].d(),xt(a,m)}}}function Ei(l,t,i){let{$$slots:e={},$$scope:r}=t;const n=Gt(e);let{options:o=[]}=t,{value:c=o[0].title}=t,{label:f=""}=t,{grow:p=!1}=t;const s=a=>i(0,c=a.title),b=a=>s(a);return l.$$set=a=>{"options"in a&&i(1,o=a.options),"value"in a&&i(0,c=a.value),"label"in a&&i(2,f=a.label),"grow"in a&&i(3,p=a.grow),"$$scope"in a&&i(6,r=a.$$scope)},[c,o,f,p,s,n,r,e,b]}class Le extends bt{constructor(t){super(),_t(this,t,Ei,Si,vt,{options:1,value:0,label:2,grow:3})}}function ke(l,t,i){const e=l.slice();return e[15]=t[i],e[16]=t,e[17]=i,e}const Di=l=>({}),$e=l=>({});function Ti(l){let t;return{c(){t=X(l[1])},l(i){t=Z(i,l[1])},m(i,e){C(i,t,e)},p(i,e){e&2&&ot(t,i[1])},i:at,o:at,d(i){i&&w(t)}}}function zi(l){let t;const i=l[9].label,e=Vt(i,l,l[8],$e);return{c(){e&&e.c()},l(r){e&&e.l(r)},m(r,n){e&&e.m(r,n),t=!0},p(r,n){e&&e.p&&(!t||n&256)&&Nt(e,i,r,r[8],t?Pt(i,r[8],n,Di):Mt(r[8]),$e)},i(r){t||(y(e,r),t=!0)},o(r){I(e,r),t=!1},d(r){e&&e.d(r)}}}function Ie(l){let t,i,e,r,n,o,c;function f(){l[10].call(i,l[17])}function p(){return l[11](l[17])}return r=new St({props:{destructive:!0,icon:Ae}}),r.$on("click",p),{c(){t=E("div"),i=E("input"),e=M(),O(r.$$.fragment),this.h()},l(s){t=D(s,"DIV",{class:!0});var b=V(t);i=D(b,"INPUT",{class:!0,type:!0}),e=P(b),q(r.$$.fragment,b),b.forEach(w),this.h()},h(){k(i,"class","w-full"),k(i,"type","date"),k(t,"class","flex gap-2")},m(s,b){C(s,t,b),_(t,i),it(i,l[0][l[17]]),_(t,e),B(r,t,null),n=!0,o||(c=Q(i,"input",f),o=!0)},p(s,b){l=s,b&1&&it(i,l[0][l[17]])},i(s){n||(y(r.$$.fragment,s),n=!0)},o(s){I(r.$$.fragment,s),n=!1},d(s){s&&w(t),L(r),o=!1,c()}}}function Se(l){let t,i,e,r,n,o,c;return r=new St({props:{icon:ie}}),r.$on("click",l[4]),{c(){t=E("div"),i=E("input"),e=M(),O(r.$$.fragment),this.h()},l(f){t=D(f,"DIV",{class:!0});var p=V(t);i=D(p,"INPUT",{class:!0,type:!0}),e=P(p),q(r.$$.fragment,p),p.forEach(w),this.h()},h(){k(i,"class","w-full"),k(i,"type","date"),k(t,"class","newDate flex gap-2")},m(f,p){C(f,t,p),_(t,i),it(i,l[3]),_(t,e),B(r,t,null),n=!0,o||(c=Q(i,"input",l[12]),o=!0)},p(f,p){p&8&&it(i,f[3])},i(f){n||(y(r.$$.fragment,f),n=!0)},o(f){I(r.$$.fragment,f),n=!1},d(f){f&&w(t),L(r),o=!1,c()}}}function Vi(l){let t,i,e,r,n,o,c,f;const p=[zi,Ti],s=[];function b(d,g){return d[6].label?0:d[1]?1:-1}~(e=b(l))&&(r=s[e]=p[e](l));let a=l[0],h=[];for(let d=0;d<a.length;d+=1)h[d]=Ie(ke(l,a,d));const m=d=>I(h[d],1,1,()=>{h[d]=null});let u=(l[2]==-1||l[0].length<l[2])&&Se(l);return{c(){t=E("div"),i=E("div"),r&&r.c(),n=M(),o=E("div");for(let d=0;d<h.length;d+=1)h[d].c();c=M(),u&&u.c(),this.h()},l(d){t=D(d,"DIV",{class:!0});var g=V(t);i=D(g,"DIV",{class:!0});var v=V(i);r&&r.l(v),v.forEach(w),n=P(g),o=D(g,"DIV",{class:!0});var S=V(o);for(let N=0;N<h.length;N+=1)h[N].l(S);c=P(S),u&&u.l(S),S.forEach(w),g.forEach(w),this.h()},h(){k(i,"class","mx-1 mb-px text-sm"),k(o,"class","dates flex flex-col gap-4"),k(t,"class","pb-3")},m(d,g){C(d,t,g),_(t,i),~e&&s[e].m(i,null),_(t,n),_(t,o);for(let v=0;v<h.length;v+=1)h[v].m(o,null);_(o,c),u&&u.m(o,null),f=!0},p(d,[g]){let v=e;if(e=b(d),e===v?~e&&s[e].p(d,g):(r&&(rt(),I(s[v],1,1,()=>{s[v]=null}),lt()),~e?(r=s[e],r?r.p(d,g):(r=s[e]=p[e](d),r.c()),y(r,1),r.m(i,null)):r=null),g&33){a=d[0];let S;for(S=0;S<a.length;S+=1){const N=ke(d,a,S);h[S]?(h[S].p(N,g),y(h[S],1)):(h[S]=Ie(N),h[S].c(),y(h[S],1),h[S].m(o,c))}for(rt(),S=a.length;S<h.length;S+=1)m(S);lt()}d[2]==-1||d[0].length<d[2]?u?(u.p(d,g),g&5&&y(u,1)):(u=Se(d),u.c(),y(u,1),u.m(o,null)):u&&(rt(),I(u,1,1,()=>{u=null}),lt())},i(d){if(!f){y(r);for(let g=0;g<a.length;g+=1)y(h[g]);y(u),f=!0}},o(d){I(r),h=h.filter(Boolean);for(let g=0;g<h.length;g+=1)I(h[g]);I(u),f=!1},d(d){d&&w(t),~e&&s[e].d(),xt(h,d),u&&u.d()}}}function Ni(l,t,i){let{$$slots:e={},$$scope:r}=t;const n=Gt(e);let{dates:o=[]}=t,{dateStrings:c=[]}=t,{label:f=""}=t,{maxDates:p=5}=t,s="",b="";function a(){!s||(i(0,c=[...c,s]),c.sort(),i(3,s=""))}function h(v){i(0,c=[...c.slice(0,v),...c.slice(v+1)])}function m(){c.toString()!=b&&(i(0,c=c.filter(v=>v!="")),i(7,o=c.map(v=>Ht.PlainDate.from(v))),b=c.toString())}function u(v){c[v]=this.value,i(0,c)}const d=v=>h(v);function g(){s=this.value,i(3,s)}return l.$$set=v=>{"dates"in v&&i(7,o=v.dates),"dateStrings"in v&&i(0,c=v.dateStrings),"label"in v&&i(1,f=v.label),"maxDates"in v&&i(2,p=v.maxDates),"$$scope"in v&&i(8,r=v.$$scope)},l.$$.update=()=>{l.$$.dirty&1&&c&&m()},[c,f,p,s,a,h,n,o,r,e,u,d,g]}class Mi extends bt{constructor(t){super(),_t(this,t,Ni,Vi,vt,{dates:7,dateStrings:0,label:1,maxDates:2})}}function Ee(l,t,i){const e=l.slice();return e[17]=t[i],e[18]=t,e[19]=i,e}const Pi=l=>({}),De=l=>({});function Ui(l){let t;return{c(){t=X(l[1])},l(i){t=Z(i,l[1])},m(i,e){C(i,t,e)},p(i,e){e&2&&ot(t,i[1])},i:at,o:at,d(i){i&&w(t)}}}function Wi(l){let t;const i=l[9].label,e=Vt(i,l,l[8],De);return{c(){e&&e.c()},l(r){e&&e.l(r)},m(r,n){e&&e.m(r,n),t=!0},p(r,n){e&&e.p&&(!t||n&256)&&Nt(e,i,r,r[8],t?Pt(i,r[8],n,Pi):Mt(r[8]),De)},i(r){t||(y(e,r),t=!0)},o(r){I(e,r),t=!1},d(r){e&&e.d(r)}}}function Te(l){let t,i,e,r,n,o,c,f,p;function s(){l[10].call(i,l[19])}function b(){l[11].call(r,l[19])}function a(){return l[12](l[19])}return o=new St({props:{destructive:!0,icon:Ae}}),o.$on("click",a),{c(){t=E("div"),i=E("input"),e=M(),r=E("input"),n=M(),O(o.$$.fragment),this.h()},l(h){t=D(h,"DIV",{class:!0});var m=V(t);i=D(m,"INPUT",{class:!0,type:!0}),e=P(m),r=D(m,"INPUT",{class:!0,type:!0}),n=P(m),q(o.$$.fragment,m),m.forEach(w),this.h()},h(){k(i,"class","w-full"),k(i,"type","time"),k(r,"class","w-full"),k(r,"type","time"),k(t,"class","flex gap-2")},m(h,m){C(h,t,m),_(t,i),it(i,l[0][l[19]].from),_(t,e),_(t,r),it(r,l[0][l[19]].to),_(t,n),B(o,t,null),c=!0,f||(p=[Q(i,"input",s),Q(r,"input",b)],f=!0)},p(h,m){l=h,m&1&&it(i,l[0][l[19]].from),m&1&&it(r,l[0][l[19]].to)},i(h){c||(y(o.$$.fragment,h),c=!0)},o(h){I(o.$$.fragment,h),c=!1},d(h){h&&w(t),L(o),f=!1,Ut(p)}}}function ze(l){let t,i,e,r,n,o,c,f,p;return o=new St({props:{icon:ie}}),o.$on("click",l[4]),{c(){t=E("div"),i=E("input"),e=M(),r=E("input"),n=M(),O(o.$$.fragment),this.h()},l(s){t=D(s,"DIV",{class:!0});var b=V(t);i=D(b,"INPUT",{class:!0,type:!0}),e=P(b),r=D(b,"INPUT",{class:!0,type:!0}),n=P(b),q(o.$$.fragment,b),b.forEach(w),this.h()},h(){k(i,"class","w-full"),k(i,"type","time"),k(r,"class","w-full"),k(r,"type","time"),k(t,"class","newTime flex gap-2")},m(s,b){C(s,t,b),_(t,i),it(i,l[3].from),_(t,e),_(t,r),it(r,l[3].to),_(t,n),B(o,t,null),c=!0,f||(p=[Q(i,"input",l[13]),Q(r,"input",l[14])],f=!0)},p(s,b){b&8&&it(i,s[3].from),b&8&&it(r,s[3].to)},i(s){c||(y(o.$$.fragment,s),c=!0)},o(s){I(o.$$.fragment,s),c=!1},d(s){s&&w(t),L(o),f=!1,Ut(p)}}}function ji(l){let t,i,e,r,n,o,c,f;const p=[Wi,Ui],s=[];function b(d,g){return d[6].label?0:d[1]?1:-1}~(e=b(l))&&(r=s[e]=p[e](l));let a=l[0],h=[];for(let d=0;d<a.length;d+=1)h[d]=Te(Ee(l,a,d));const m=d=>I(h[d],1,1,()=>{h[d]=null});let u=(l[2]==-1||l[0].length<l[2])&&ze(l);return{c(){t=E("div"),i=E("div"),r&&r.c(),n=M(),o=E("div");for(let d=0;d<h.length;d+=1)h[d].c();c=M(),u&&u.c(),this.h()},l(d){t=D(d,"DIV",{});var g=V(t);i=D(g,"DIV",{class:!0});var v=V(i);r&&r.l(v),v.forEach(w),n=P(g),o=D(g,"DIV",{class:!0});var S=V(o);for(let N=0;N<h.length;N+=1)h[N].l(S);c=P(S),u&&u.l(S),S.forEach(w),g.forEach(w),this.h()},h(){k(i,"class","mx-1 mb-px text-sm"),k(o,"class","times flex flex-col gap-4")},m(d,g){C(d,t,g),_(t,i),~e&&s[e].m(i,null),_(t,n),_(t,o);for(let v=0;v<h.length;v+=1)h[v].m(o,null);_(o,c),u&&u.m(o,null),f=!0},p(d,[g]){let v=e;if(e=b(d),e===v?~e&&s[e].p(d,g):(r&&(rt(),I(s[v],1,1,()=>{s[v]=null}),lt()),~e?(r=s[e],r?r.p(d,g):(r=s[e]=p[e](d),r.c()),y(r,1),r.m(i,null)):r=null),g&33){a=d[0];let S;for(S=0;S<a.length;S+=1){const N=Ee(d,a,S);h[S]?(h[S].p(N,g),y(h[S],1)):(h[S]=Te(N),h[S].c(),y(h[S],1),h[S].m(o,c))}for(rt(),S=a.length;S<h.length;S+=1)m(S);lt()}d[2]==-1||d[0].length<d[2]?u?(u.p(d,g),g&5&&y(u,1)):(u=ze(d),u.c(),y(u,1),u.m(o,null)):u&&(rt(),I(u,1,1,()=>{u=null}),lt())},i(d){if(!f){y(r);for(let g=0;g<a.length;g+=1)y(h[g]);y(u),f=!0}},o(d){I(r),h=h.filter(Boolean);for(let g=0;g<h.length;g+=1)I(h[g]);I(u),f=!1},d(d){d&&w(t),~e&&s[e].d(),xt(h,d),u&&u.d()}}}function Ai(l,t,i){let{$$slots:e={},$$scope:r}=t;const n=Gt(e);let{times:o=[]}=t,{timeStrings:c=[]}=t,{label:f="init"}=t,{maxTimes:p=5}=t,s={from:"",to:""},b="";function a(){!s.from||!s.to||(i(0,c=[s,...c]),i(3,s={from:"",to:""}))}function h(N){i(0,c=[...c.slice(0,N),...c.slice(N+1)])}function m(){var U;const N=(U=JSON.stringify(c))!=null?U:"";N!=b&&(i(0,c=c.filter(z=>z.from!=""||z.to!="")),b=N,i(7,o=c.map(z=>{const F=Ht.PlainTime.from(z.from),Y=Ht.PlainTime.from(z.to),R={from:Y,to:F};return F.until(Y).hours<0||F.until(Y).hours==0&&F.until(Y).minutes<0?R:{from:F,to:Y}})))}function u(N){c[N].from=this.value,i(0,c)}function d(N){c[N].to=this.value,i(0,c)}const g=N=>h(N);function v(){s.from=this.value,i(3,s)}function S(){s.to=this.value,i(3,s)}return l.$$set=N=>{"times"in N&&i(7,o=N.times),"timeStrings"in N&&i(0,c=N.timeStrings),"label"in N&&i(1,f=N.label),"maxTimes"in N&&i(2,p=N.maxTimes),"$$scope"in N&&i(8,r=N.$$scope)},l.$$.update=()=>{l.$$.dirty&1&&c&&m()},[c,f,p,s,a,h,n,o,r,e,u,d,g,v,S]}class Ci extends bt{constructor(t){super(),_t(this,t,Ai,ji,vt,{times:7,timeStrings:0,label:1,maxTimes:2})}}function Ve(l){let t,i,e=l[0].editMode?"Edit":"Create New",r,n,o,c,f,p,s,b,a,h,m,u,d,g,v,S,N,U,z,F,Y,R,ct,wt,G,W,kt,tt,x,T,j;function ft($){l[6]($)}let gt={type:"text",label:"title"};l[0].activity.title!==void 0&&(gt.value=l[0].activity.title),p=new It({props:gt}),pt.push(()=>mt(p,"value",ft));function ut($){l[7]($)}let J={dateStrings:l[2],label:"Enter possible dates"};l[0].activity.dates!==void 0&&(J.dates=l[0].activity.dates),a=new Mi({props:J}),pt.push(()=>mt(a,"dates",ut));function $t($){l[8]($)}let Et={timeStrings:l[1],label:"Enter possible times"};l[0].activity.times!==void 0&&(Et.times=l[0].activity.times),u=new Ci({props:Et}),pt.push(()=>mt(u,"times",$t));function Dt($){l[9]($)}let yt={type:"text",placeholder:"Where?",label:"Location"};l[0].activity.location!==void 0&&(yt.value=l[0].activity.location),S=new It({props:yt}),pt.push(()=>mt(S,"value",Dt));function Tt($){l[10]($)}let Ot={grow:!0,label:"Get notified if there will be:",options:[{title:"Sun",icon:Ce},{title:"Cloudy"},{title:"Partly-cloudy"},{title:"Snow"}]};l[0].activity.notifyOnWeather!==void 0&&(Ot.value=l[0].activity.notifyOnWeather),z=new Be({props:Ot}),pt.push(()=>mt(z,"value",Tt));function Jt($){l[11]($)}let qt={grow:!0,label:"Activity type:",options:[{title:"Work",icon:Oe},{title:"Food"},{title:"Fun"},{title:"Workout"},{title:"Relax"}]};return l[0].activity.actitityType!==void 0&&(qt.value=l[0].activity.actitityType),R=new Le({props:qt}),pt.push(()=>mt(R,"value",Jt)),W=new St({props:{destructive:!0,$$slots:{default:[Oi]},$$scope:{ctx:l}}}),W.$on("click",l[5]),{c(){t=E("form"),i=E("h3"),r=X(e),n=X(" activity"),o=M(),c=E("div"),f=E("div"),O(p.$$.fragment),b=M(),O(a.$$.fragment),m=M(),O(u.$$.fragment),g=M(),v=E("div"),O(S.$$.fragment),U=M(),O(z.$$.fragment),Y=M(),O(R.$$.fragment),wt=M(),G=E("div"),O(W.$$.fragment),kt=M(),tt=E("input"),this.h()},l($){t=D($,"FORM",{});var A=V(t);i=D(A,"H3",{class:!0});var dt=V(i);r=Z(dt,e),n=Z(dt," activity"),dt.forEach(w),o=P(A),c=D(A,"DIV",{class:!0});var nt=V(c);f=D(nt,"DIV",{class:!0});var K=V(f);q(p.$$.fragment,K),b=P(K),q(a.$$.fragment,K),m=P(K),q(u.$$.fragment,K),K.forEach(w),g=P(nt),v=D(nt,"DIV",{class:!0});var et=V(v);q(S.$$.fragment,et),U=P(et),q(z.$$.fragment,et),Y=P(et),q(R.$$.fragment,et),et.forEach(w),nt.forEach(w),wt=P(A),G=D(A,"DIV",{class:!0});var st=V(G);q(W.$$.fragment,st),kt=P(st),tt=D(st,"INPUT",{class:!0,type:!0}),st.forEach(w),A.forEach(w),this.h()},h(){k(i,"class","text-xl border-b border-b-black/50 border-solid mb-4 pb-2 capitalize"),k(f,"class","left grow"),k(v,"class","right grow"),k(c,"class","flex flex-col lg:flex-row gap-4 w-full"),k(tt,"class","bg-slate-100 hover:bg-slate-300 transition-colors px-3 py-2 rounded cursor-pointer"),k(tt,"type","submit"),tt.value="submit",k(G,"class","flex justify-end gap-4")},m($,A){C($,t,A),_(t,i),_(i,r),_(i,n),_(t,o),_(t,c),_(c,f),B(p,f,null),_(f,b),B(a,f,null),_(f,m),B(u,f,null),_(c,g),_(c,v),B(S,v,null),_(v,U),B(z,v,null),_(v,Y),B(R,v,null),_(t,wt),_(t,G),B(W,G,null),_(G,kt),_(G,tt),x=!0,T||(j=[Q(tt,"click",Xt(l[4])),Q(t,"submit",Xt(l[4]))],T=!0)},p($,A){(!x||A&1)&&e!==(e=$[0].editMode?"Edit":"Create New")&&ot(r,e);const dt={};!s&&A&1&&(s=!0,dt.value=$[0].activity.title,ht(()=>s=!1)),p.$set(dt);const nt={};A&4&&(nt.dateStrings=$[2]),!h&&A&1&&(h=!0,nt.dates=$[0].activity.dates,ht(()=>h=!1)),a.$set(nt);const K={};A&2&&(K.timeStrings=$[1]),!d&&A&1&&(d=!0,K.times=$[0].activity.times,ht(()=>d=!1)),u.$set(K);const et={};!N&&A&1&&(N=!0,et.value=$[0].activity.location,ht(()=>N=!1)),S.$set(et);const st={};!F&&A&1&&(F=!0,st.value=$[0].activity.notifyOnWeather,ht(()=>F=!1)),z.$set(st);const Bt={};!ct&&A&1&&(ct=!0,Bt.value=$[0].activity.actitityType,ht(()=>ct=!1)),R.$set(Bt);const Lt={};A&4097&&(Lt.$$scope={dirty:A,ctx:$}),W.$set(Lt)},i($){x||(y(p.$$.fragment,$),y(a.$$.fragment,$),y(u.$$.fragment,$),y(S.$$.fragment,$),y(z.$$.fragment,$),y(R.$$.fragment,$),y(W.$$.fragment,$),x=!0)},o($){I(p.$$.fragment,$),I(a.$$.fragment,$),I(u.$$.fragment,$),I(S.$$.fragment,$),I(z.$$.fragment,$),I(R.$$.fragment,$),I(W.$$.fragment,$),x=!1},d($){$&&w(t),L(p),L(a),L(u),L(S),L(z),L(R),L(W),T=!1,Ut(j)}}}function Oi(l){let t=l[0].editMode?"Remove":"Cancel",i;return{c(){i=X(t)},l(e){i=Z(e,t)},m(e,r){C(e,i,r)},p(e,r){r&1&&t!==(t=e[0].editMode?"Remove":"Cancel")&&ot(i,t)},d(e){e&&w(i)}}}function qi(l){let t,i,e=l[0]&&l[3]&&Ve(l);return{c(){e&&e.c(),t=zt()},l(r){e&&e.l(r),t=zt()},m(r,n){e&&e.m(r,n),C(r,t,n),i=!0},p(r,[n]){r[0]&&r[3]?e?(e.p(r,n),n&9&&y(e,1)):(e=Ve(r),e.c(),y(e,1),e.m(t.parentNode,t)):e&&(rt(),I(e,1,1,()=>{e=null}),lt())},i(r){i||(y(e),i=!0)},o(r){I(e),i=!1},d(r){e&&e.d(r),r&&w(t)}}}function Bi(l,t,i){let e,r,n;Wt(l,Rt,u=>i(3,n=u));let o=n;function c(){!o||(o.editMode?jt.updateActivity(o.activity):jt.add(o.activity),je("./planning"),Rt.reset())}function f(){o!=null&&o.editMode&&jt.deleteActivity(o.activity),Rt.reset()}function p(u){l.$$.not_equal(o.activity.title,u)&&(o.activity.title=u,i(0,o))}function s(u){l.$$.not_equal(o.activity.dates,u)&&(o.activity.dates=u,i(0,o))}function b(u){l.$$.not_equal(o.activity.times,u)&&(o.activity.times=u,i(0,o))}function a(u){l.$$.not_equal(o.activity.location,u)&&(o.activity.location=u,i(0,o))}function h(u){l.$$.not_equal(o.activity.notifyOnWeather,u)&&(o.activity.notifyOnWeather=u,i(0,o))}function m(u){l.$$.not_equal(o.activity.actitityType,u)&&(o.activity.actitityType=u,i(0,o))}return l.$$.update=()=>{l.$$.dirty&1&&i(2,e=o==null?void 0:o.activity.dates.map(u=>u.toString())),l.$$.dirty&1&&i(1,r=o==null?void 0:o.activity.times.map(({from:u,to:d})=>({from:u.round({smallestUnit:"minute"}).toString(),to:d.round({smallestUnit:"minute"}).toString()})))},[o,r,e,n,c,f,p,s,b,a,h,m]}class Li extends bt{constructor(t){super(),_t(this,t,Bi,qi,vt,{})}}function Ne(l){var Tt,Ot,Jt,qt;let t,i,e=l[0].editMode?"Edit":"Create New",r,n,o,c,f,p,s,b,a,h,m,u,d,g,v,S,N,U,z,F,Y,R,ct,wt,G,W,kt,tt,x,T,j;function ft($){l[4]($)}let gt={type:"text",label:"title"};l[0].activity.title!==void 0&&(gt.value=l[0].activity.title),p=new It({props:gt}),pt.push(()=>mt(p,"value",ft)),a=new It({props:{type:"date",label:"date *",value:l[0].activity.date.toString()}}),a.$on("change",l[5]),m=new It({props:{type:"time",label:"from *",value:(Ot=(Tt=l[0])==null?void 0:Tt.activity.time)==null?void 0:Ot.from.toString({smallestUnit:"minute"})}}),m.$on("change",l[6]),d=new It({props:{type:"time",label:"to *",value:(qt=(Jt=l[0])==null?void 0:Jt.activity.time)==null?void 0:qt.to.toString({smallestUnit:"minute"})}}),d.$on("change",l[7]);function ut($){l[8]($)}let J={type:"text",placeholder:"Where?",label:"Location"};l[0].activity.location!==void 0&&(J.value=l[0].activity.location),S=new It({props:J}),pt.push(()=>mt(S,"value",ut));function $t($){l[9]($)}let Et={grow:!0,label:"Get notified if there will be:",options:[{title:"Sun",icon:Ce},{title:"Cloudy"},{title:"Partly-cloudy"},{title:"Snow"}]};l[0].activity.notifyOnWeather!==void 0&&(Et.value=l[0].activity.notifyOnWeather),z=new Be({props:Et}),pt.push(()=>mt(z,"value",$t));function Dt($){l[10]($)}let yt={grow:!0,label:"Activity type:",options:[{title:"Work",icon:Oe},{title:"Food"},{title:"Fun"},{title:"Workout"},{title:"Relax"}]};return l[0].activity.actitityType!==void 0&&(yt.value=l[0].activity.actitityType),R=new Le({props:yt}),pt.push(()=>mt(R,"value",Dt)),W=new St({props:{destructive:!0,$$slots:{default:[Ri]},$$scope:{ctx:l}}}),W.$on("click",l[3]),{c(){t=E("form"),i=E("h3"),r=X(e),n=X(" activity"),o=M(),c=E("div"),f=E("div"),O(p.$$.fragment),b=M(),O(a.$$.fragment),h=M(),O(m.$$.fragment),u=M(),O(d.$$.fragment),g=M(),v=E("div"),O(S.$$.fragment),U=M(),O(z.$$.fragment),Y=M(),O(R.$$.fragment),wt=M(),G=E("div"),O(W.$$.fragment),kt=M(),tt=E("input"),this.h()},l($){t=D($,"FORM",{});var A=V(t);i=D(A,"H3",{class:!0});var dt=V(i);r=Z(dt,e),n=Z(dt," activity"),dt.forEach(w),o=P(A),c=D(A,"DIV",{class:!0});var nt=V(c);f=D(nt,"DIV",{class:!0});var K=V(f);q(p.$$.fragment,K),b=P(K),q(a.$$.fragment,K),h=P(K),q(m.$$.fragment,K),u=P(K),q(d.$$.fragment,K),K.forEach(w),g=P(nt),v=D(nt,"DIV",{class:!0});var et=V(v);q(S.$$.fragment,et),U=P(et),q(z.$$.fragment,et),Y=P(et),q(R.$$.fragment,et),et.forEach(w),nt.forEach(w),wt=P(A),G=D(A,"DIV",{class:!0});var st=V(G);q(W.$$.fragment,st),kt=P(st),tt=D(st,"INPUT",{class:!0,type:!0}),st.forEach(w),A.forEach(w),this.h()},h(){k(i,"class","text-xl border-b border-b-black/50 border-solid mb-4 pb-2 capitalize"),k(f,"class","left grow"),k(v,"class","right grow"),k(c,"class","flex flex-col lg:flex-row gap-4 w-full"),k(tt,"class","bg-slate-100 hover:bg-slate-300 transition-colors px-3 py-2 rounded cursor-pointer"),k(tt,"type","submit"),tt.value="submit",k(G,"class","flex justify-end gap-4")},m($,A){C($,t,A),_(t,i),_(i,r),_(i,n),_(t,o),_(t,c),_(c,f),B(p,f,null),_(f,b),B(a,f,null),_(f,h),B(m,f,null),_(f,u),B(d,f,null),_(c,g),_(c,v),B(S,v,null),_(v,U),B(z,v,null),_(v,Y),B(R,v,null),_(t,wt),_(t,G),B(W,G,null),_(G,kt),_(G,tt),x=!0,T||(j=[Q(tt,"click",Xt(l[2])),Q(t,"submit",Xt(l[2]))],T=!0)},p($,A){var le,ne,oe,ae;(!x||A&1)&&e!==(e=$[0].editMode?"Edit":"Create New")&&ot(r,e);const dt={};!s&&A&1&&(s=!0,dt.value=$[0].activity.title,ht(()=>s=!1)),p.$set(dt);const nt={};A&1&&(nt.value=$[0].activity.date.toString()),a.$set(nt);const K={};A&1&&(K.value=(ne=(le=$[0])==null?void 0:le.activity.time)==null?void 0:ne.from.toString({smallestUnit:"minute"})),m.$set(K);const et={};A&1&&(et.value=(ae=(oe=$[0])==null?void 0:oe.activity.time)==null?void 0:ae.to.toString({smallestUnit:"minute"})),d.$set(et);const st={};!N&&A&1&&(N=!0,st.value=$[0].activity.location,ht(()=>N=!1)),S.$set(st);const Bt={};!F&&A&1&&(F=!0,Bt.value=$[0].activity.notifyOnWeather,ht(()=>F=!1)),z.$set(Bt);const Lt={};!ct&&A&1&&(ct=!0,Lt.value=$[0].activity.actitityType,ht(()=>ct=!1)),R.$set(Lt);const re={};A&2049&&(re.$$scope={dirty:A,ctx:$}),W.$set(re)},i($){x||(y(p.$$.fragment,$),y(a.$$.fragment,$),y(m.$$.fragment,$),y(d.$$.fragment,$),y(S.$$.fragment,$),y(z.$$.fragment,$),y(R.$$.fragment,$),y(W.$$.fragment,$),x=!0)},o($){I(p.$$.fragment,$),I(a.$$.fragment,$),I(m.$$.fragment,$),I(d.$$.fragment,$),I(S.$$.fragment,$),I(z.$$.fragment,$),I(R.$$.fragment,$),I(W.$$.fragment,$),x=!1},d($){$&&w(t),L(p),L(a),L(m),L(d),L(S),L(z),L(R),L(W),T=!1,Ut(j)}}}function Ri(l){let t=l[0].editMode?"Remove":"Cancel",i;return{c(){i=X(t)},l(e){i=Z(e,t)},m(e,r){C(e,i,r)},p(e,r){r&1&&t!==(t=e[0].editMode?"Remove":"Cancel")&&ot(i,t)},d(e){e&&w(i)}}}function Fi(l){let t,i,e=l[0]&&l[1]&&Ne(l);return{c(){e&&e.c(),t=zt()},l(r){e&&e.l(r),t=zt()},m(r,n){e&&e.m(r,n),C(r,t,n),i=!0},p(r,[n]){r[0]&&r[1]?e?(e.p(r,n),n&3&&y(e,1)):(e=Ne(r),e.c(),y(e,1),e.m(t.parentNode,t)):e&&(rt(),I(e,1,1,()=>{e=null}),lt())},i(r){i||(y(e),i=!0)},o(r){I(e),i=!1},d(r){e&&e.d(r),r&&w(t)}}}function te(){const l=document.querySelector('input[type="submit"]');if(!l)return;let t=!1;Array.from(document.querySelectorAll('input[type="date"],input[type="time"]')).forEach(e=>{e.value==""&&(console.log(e.value),t=!0)}),t?(l.disabled=!0,l.style.color="gray"):(l.disabled=!1,l.style.color="initial")}function Hi(l,t,i){let e;Wt(l,At,m=>i(1,e=m));let r=e;function n(){var m,u;!r||(r.editMode?Ct.updateActivity(r.activity):Ct.add(r.activity,r.activity.date,(m=r.activity.time)==null?void 0:m.from,(u=r.activity.time)==null?void 0:u.to),At.reset())}function o(){r!=null&&r.editMode&&Ct.deleteActivity(r.activity),At.reset()}function c(m){l.$$.not_equal(r.activity.title,m)&&(r.activity.title=m,i(0,r))}const f=m=>{te(),r==null||r.activity.setDate(m)},p=m=>{te(),r==null||r.activity.setFromTime(m)},s=m=>{te(),r==null||r.activity.setToTime(m)};function b(m){l.$$.not_equal(r.activity.location,m)&&(r.activity.location=m,i(0,r))}function a(m){l.$$.not_equal(r.activity.notifyOnWeather,m)&&(r.activity.notifyOnWeather=m,i(0,r))}function h(m){l.$$.not_equal(r.activity.actitityType,m)&&(r.activity.actitityType=m,i(0,r))}return[r,e,n,o,c,f,p,s,b,a,h]}class Yi extends bt{constructor(t){super(),_t(this,t,Hi,Fi,vt,{})}}const Gi=()=>{const l=Ge("__svelte__");return{page:{subscribe:l.page.subscribe},navigating:{subscribe:l.navigating.subscribe},get preloading(){return console.error("stores.preloading is deprecated; use stores.navigating instead"),{subscribe:l.navigating.subscribe}},session:l.session,updated:l.updated}},xi={subscribe(l){return Gi().page.subscribe(l)}};function Me(l,t,i){const e=l.slice();return e[9]=t[i],e}function Pe(l){let t,i,e,r=l[9].title+"",n,o,c,f;return i=new Ft({props:{src:l[9].icon,size:"16"}}),{c(){t=E("a"),O(i.$$.fragment),e=M(),n=X(r),o=M(),this.h()},l(p){t=D(p,"A",{href:!0,class:!0});var s=V(t);q(i.$$.fragment,s),e=P(s),n=Z(s,r),o=P(s),s.forEach(w),this.h()},h(){k(t,"href",c=We+"/"+l[9].url[0]),k(t,"class","flex flex-row items-center justify-start px-2 gap-3 svelte-1edphk7"),H(t,"active",l[9].url.includes(l[1].routeId||"upcomming"))},m(p,s){C(p,t,s),B(i,t,null),_(t,e),_(t,n),_(t,o),f=!0},p(p,s){s&18&&H(t,"active",p[9].url.includes(p[1].routeId||"upcomming"))},i(p){f||(y(i.$$.fragment,p),f=!0)},o(p){I(i.$$.fragment,p),f=!1},d(p){p&&w(t),L(i)}}}function Ji(l){let t;return{c(){t=X("Create new event")},l(i){t=Z(i,"Create new event")},m(i,e){C(i,t,e)},d(i){i&&w(t)}}}function Xi(l){let t,i;return t=new Li({}),{c(){O(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,r){B(t,e,r),i=!0},i(e){i||(y(t.$$.fragment,e),i=!0)},o(e){I(t.$$.fragment,e),i=!1},d(e){L(t,e)}}}function Zi(l){let t,i;return t=new Yi({}),{c(){O(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,r){B(t,e,r),i=!0},i(e){i||(y(t.$$.fragment,e),i=!0)},o(e){I(t.$$.fragment,e),i=!1},d(e){L(t,e)}}}function Ki(l){let t,i,e,r,n,o,c,f,p,s,b,a,h,m,u,d,g,v,S,N,U,z,F,Y,R,ct,wt;e=new Ft({props:{src:Je,size:"16"}});let G=l[4],W=[];for(let T=0;T<G.length;T+=1)W[T]=Pe(Me(l,G,T));const kt=T=>I(W[T],1,1,()=>{W[T]=null});h=new Ft({props:{src:Xe,size:"16"}}),g=new St({props:{icon:ie,$$slots:{default:[Ji]},$$scope:{ctx:l}}}),g.$on("click",At.new),S=new pi({props:{firstname:"John",lastname:"Doe"}});const tt=l[5].default,x=Vt(tt,l,l[8],null);return z=new ge({props:{visible:l[2]!==void 0,$$slots:{default:[Xi]},$$scope:{ctx:l}}}),z.$on("close",Rt.reset),Y=new ge({props:{visible:l[3]!==void 0,$$slots:{default:[Zi]},$$scope:{ctx:l}}}),Y.$on("close",At.reset),{c(){t=E("div"),i=E("div"),O(e.$$.fragment),r=M(),n=E("div"),o=E("nav"),c=E("h1"),f=X("PodPlanner"),p=M(),s=E("div");for(let T=0;T<W.length;T+=1)W[T].c();b=M(),a=E("div"),O(h.$$.fragment),m=M(),u=E("main"),d=E("div"),O(g.$$.fragment),v=M(),O(S.$$.fragment),N=M(),x&&x.c(),U=M(),O(z.$$.fragment),F=M(),O(Y.$$.fragment),this.h()},l(T){t=D(T,"DIV",{class:!0});var j=V(t);i=D(j,"DIV",{class:!0});var ft=V(i);q(e.$$.fragment,ft),ft.forEach(w),r=P(j),n=D(j,"DIV",{class:!0});var gt=V(n);o=D(gt,"NAV",{class:!0});var ut=V(o);c=D(ut,"H1",{class:!0});var J=V(c);f=Z(J,"PodPlanner"),J.forEach(w),p=P(ut),s=D(ut,"DIV",{class:!0});var $t=V(s);for(let Tt=0;Tt<W.length;Tt+=1)W[Tt].l($t);$t.forEach(w),b=P(ut),a=D(ut,"DIV",{class:!0});var Et=V(a);q(h.$$.fragment,Et),Et.forEach(w),ut.forEach(w),gt.forEach(w),m=P(j),u=D(j,"MAIN",{class:!0});var Dt=V(u);d=D(Dt,"DIV",{class:!0});var yt=V(d);q(g.$$.fragment,yt),v=P(yt),q(S.$$.fragment,yt),yt.forEach(w),N=P(Dt),x&&x.l(Dt),Dt.forEach(w),j.forEach(w),U=P(T),q(z.$$.fragment,T),F=P(T),q(Y.$$.fragment,T),this.h()},h(){k(i,"class","absolute left-4 top-4 w-14 h-14 bg-green-400 hover:bg-green-500 cursor-pointer rounded-full flex items-center justify-center"),k(c,"class","text-3xl font-bold border-b-2 border-green-700 text-green-700 mb-4"),k(s,"class","flex flex-col gap-2"),k(a,"class","absolute -right-7 bottom-7 w-14 h-14 bg-green-400 hover:bg-green-500 cursor-pointer rounded-full flex items-center justify-center"),k(o,"class","fixed -left-72 transition-all bg-white flex-shrink-0 border-r w-64 p-4 border-slate-200 h-[100vh] svelte-1edphk7"),k(n,"class","transition-all svelte-1edphk7"),H(n,"showNav",l[0]),k(d,"class","flex gap-4 justify-end mb-10"),k(u,"class","grow p-5"),k(t,"class","flex")},m(T,j){C(T,t,j),_(t,i),B(e,i,null),_(t,r),_(t,n),_(n,o),_(o,c),_(c,f),_(o,p),_(o,s);for(let ft=0;ft<W.length;ft+=1)W[ft].m(s,null);_(o,b),_(o,a),B(h,a,null),_(t,m),_(t,u),_(u,d),B(g,d,null),_(d,v),B(S,d,null),_(u,N),x&&x.m(u,null),C(T,U,j),B(z,T,j),C(T,F,j),B(Y,T,j),R=!0,ct||(wt=[Q(i,"click",l[6]),Q(a,"click",l[7])],ct=!0)},p(T,[j]){if(j&18){G=T[4];let J;for(J=0;J<G.length;J+=1){const $t=Me(T,G,J);W[J]?(W[J].p($t,j),y(W[J],1)):(W[J]=Pe($t),W[J].c(),y(W[J],1),W[J].m(s,null))}for(rt(),J=G.length;J<W.length;J+=1)kt(J);lt()}j&1&&H(n,"showNav",T[0]);const ft={};j&256&&(ft.$$scope={dirty:j,ctx:T}),g.$set(ft),x&&x.p&&(!R||j&256)&&Nt(x,tt,T,T[8],R?Pt(tt,T[8],j,null):Mt(T[8]),null);const gt={};j&4&&(gt.visible=T[2]!==void 0),j&256&&(gt.$$scope={dirty:j,ctx:T}),z.$set(gt);const ut={};j&8&&(ut.visible=T[3]!==void 0),j&256&&(ut.$$scope={dirty:j,ctx:T}),Y.$set(ut)},i(T){if(!R){y(e.$$.fragment,T);for(let j=0;j<G.length;j+=1)y(W[j]);y(h.$$.fragment,T),y(g.$$.fragment,T),y(S.$$.fragment,T),y(x,T),y(z.$$.fragment,T),y(Y.$$.fragment,T),R=!0}},o(T){I(e.$$.fragment,T),W=W.filter(Boolean);for(let j=0;j<W.length;j+=1)I(W[j]);I(h.$$.fragment,T),I(g.$$.fragment,T),I(S.$$.fragment,T),I(x,T),I(z.$$.fragment,T),I(Y.$$.fragment,T),R=!1},d(T){T&&w(t),L(e),xt(W,T),L(h),L(g),L(S),x&&x.d(T),T&&w(U),L(z,T),T&&w(F),L(Y,T),ct=!1,Ut(wt)}}}function Qi(l,t,i){let e,r,n;Wt(l,xi,a=>i(1,e=a)),Wt(l,Rt,a=>i(2,r=a)),Wt(l,At,a=>i(3,n=a));let{$$slots:o={},$$scope:c}=t;const f=[{title:"Planning view",url:["planning",""],icon:Qt},{title:"Upcomming activities",url:["upcomming"],icon:Qt},{title:"Past activities",url:["past"],icon:Qt}];let p=!1;const s=()=>i(0,p=!p),b=()=>i(0,p=!p);return l.$$set=a=>{"$$scope"in a&&i(8,c=a.$$scope)},[p,e,r,n,f,o,s,b,c]}class tr extends bt{constructor(t){super(),_t(this,t,Qi,Ki,vt,{})}}const Yt=Ht.Now.plainDateISO(qe),Re=Yt.add({days:1}),er=Yt.add({days:2}),Kt=Ht.Now.plainTimeISO(qe),Fe={from:Kt,to:Kt.add({minutes:30})},ir={from:Kt.add({minutes:90}),to:Kt.add({minutes:180})};function rr(){const l=new ce("","Test1","Work",new Set(["Windy","Rain"]),"Brussels",[Yt,Re]),t=new ce("","Test2","Fun",new Set(["Windy","Rain"]),"Brussels",[Yt,er],[Fe,ir]);jt.add(l),jt.add(t)}function lr(){const l=new ue("","Test1","Work",new Set(["Windy","Rain"]),"Brussels",Re),t=new ue("","Test2","Fun",new Set(["Windy","Rain"]),"Brussels",Yt.subtract({days:1}),Fe);Ct.add(l),Ct.add(t)}function nr(){const l=se(jt),t=se(Ct);l.length||rr(),t.length||lr()}function or(l){let t,i;return t=new fi({}),{c(){O(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,r){B(t,e,r),i=!0},p:at,i(e){i||(y(t.$$.fragment,e),i=!0)},o(e){I(t.$$.fragment,e),i=!1},d(e){L(t,e)}}}function ar(l){let t,i;return t=new tr({props:{$$slots:{default:[cr]},$$scope:{ctx:l}}}),{c(){O(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,r){B(t,e,r),i=!0},p(e,r){const n={};r&4&&(n.$$scope={dirty:r,ctx:e}),t.$set(n)},i(e){i||(y(t.$$.fragment,e),i=!0)},o(e){I(t.$$.fragment,e),i=!1},d(e){L(t,e)}}}function sr(l){let t,i,e;return{c(){t=E("div"),i=E("img"),this.h()},l(r){t=D(r,"DIV",{class:!0});var n=V(t);i=D(n,"IMG",{class:!0,src:!0,alt:!0,height:!0}),n.forEach(w),this.h()},h(){k(i,"class","h-80 rounded-lg"),xe(i.src,e=We+"/loading.gif")||k(i,"src",e),k(i,"alt","loading"),k(i,"height","400"),k(t,"class","w-full h-[100vh] flex items-center justify-center antialiased")},m(r,n){C(r,t,n),_(t,i)},p:at,i:at,o:at,d(r){r&&w(t)}}}function cr(l){let t;const i=l[1].default,e=Vt(i,l,l[2],null);return{c(){e&&e.c()},l(r){e&&e.l(r)},m(r,n){e&&e.m(r,n),t=!0},p(r,n){e&&e.p&&(!t||n&4)&&Nt(e,i,r,r[2],t?Pt(i,r[2],n,null):Mt(r[2]),null)},i(r){t||(y(e,r),t=!0)},o(r){I(e,r),t=!1},d(r){e&&e.d(r)}}}function ur(l){let t,i,e,r;const n=[sr,ar,or],o=[];function c(f,p){return f[0].loading?0:f[0].userSession.isLoggedIn?1:2}return t=c(l),i=o[t]=n[t](l),{c(){i.c(),e=zt()},l(f){i.l(f),e=zt()},m(f,p){o[t].m(f,p),C(f,e,p),r=!0},p(f,[p]){let s=t;t=c(f),t===s?o[t].p(f,p):(rt(),I(o[s],1,1,()=>{o[s]=null}),lt(),i=o[t],i?i.p(f,p):(i=o[t]=n[t](f),i.c()),y(i,1),i.m(e.parentNode,e))},i(f){r||(y(i),r=!0)},o(f){I(i),r=!1},d(f){o[t].d(f),f&&w(e)}}}function fr(l,t,i){let e;Wt(l,Zt,o=>i(0,e=o));let{$$slots:r={},$$scope:n}=t;return Ue(()=>{Zt.init(),window.setupActivities=nr}),l.$$set=o=>{"$$scope"in o&&i(2,n=o.$$scope)},[e,r,n]}class wr extends bt{constructor(t){super(),_t(this,t,fr,ur,vt,{})}}export{wr as default};
