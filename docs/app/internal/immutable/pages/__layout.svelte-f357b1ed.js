import{S as dt,i as gt,s as pt,e as T,k as M,t as H,c as z,a as N,d as w,m as P,h as Y,b as S,I as q,g as j,J as v,n as tt,o as E,p as et,q as y,j as nt,K as Rt,L as xt,E as lt,M as _t,N as vt,O as wt,P as yt,Q as x,R as J,G as St,T as ct,U as ut,w as A,x as O,y as B,V as ft,B as C,v as Pe,W as Fe,l as bt,X as He,Y as Lt,Z as Ht,_ as Et,$ as Ye,a0 as ae,a1 as Ge}from"../chunks/index-6d6fbed6.js";import{b as Ue}from"../chunks/singletons-bd1dfc1a.js";import{B as kt,I as te,T as We,P as ee,S as je,L as Ae,a as Oe,C as Qt}from"../chunks/Button-2f919fe0.js";import{u as Je,t as Bt,m as It,a as Dt,b as Ot,p as Tt,T as Be,U as se,P as ce}from"../chunks/eventStore-24e1c1fe.js";import{u as Yt,t as Xe}from"../chunks/userStore-ad134bbc.js";import{g as Ze}from"../chunks/navigation-3ebc45bc.js";import"../chunks/preload-helper-ed63bd61.js";import"../chunks/index-b2bed869.js";const Ke=l=>({}),ue=l=>({});function Qe(l){let t;return{c(){t=H(l[1])},l(n){t=Y(n,l[1])},m(n,e){j(n,t,e)},p(n,e){e&2&&nt(t,n[1])},i:lt,o:lt,d(n){n&&w(t)}}}function xe(l){let t;const n=l[8].label,e=_t(n,l,l[7],ue);return{c(){e&&e.c()},l(i){e&&e.l(i)},m(i,r){e&&e.m(i,r),t=!0},p(i,r){e&&e.p&&(!t||r&128)&&vt(e,n,i,i[7],t?yt(n,i[7],r,Ke):wt(i[7]),ue)},i(i){t||(y(e,i),t=!0)},o(i){E(e,i),t=!1},d(i){e&&e.d(i)}}}function ti(l){let t,n,e,i;return{c(){t=T("input"),this.h()},l(r){t=z(r,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0}),this.h()},h(){S(t,"id",l[5]),S(t,"class","rounded-md p-2 w-full bg-slate-100 hover:ring transition-all"),S(t,"type","text"),S(t,"placeholder",n=l[2]||l[1]),q(t,"ring",l[3]),q(t,"ring-red-500",l[3])},m(r,o){j(r,t,o),x(t,l[0]),e||(i=J(t,"input",l[13]),e=!0)},p(r,o){o&6&&n!==(n=r[2]||r[1])&&S(t,"placeholder",n),o&1&&t.value!==r[0]&&x(t,r[0]),o&8&&q(t,"ring",r[3]),o&8&&q(t,"ring-red-500",r[3])},d(r){r&&w(t),e=!1,i()}}}function ei(l){let t,n,e,i;return{c(){t=T("input"),this.h()},l(r){t=z(r,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0}),this.h()},h(){S(t,"id",l[5]),S(t,"class","rounded-md p-2 w-full bg-slate-100 hover:ring transition-all"),S(t,"type","time"),S(t,"placeholder",n=l[2]||l[1]),q(t,"ring",l[3]),q(t,"ring-red-500",l[3])},m(r,o){j(r,t,o),x(t,l[0]),e||(i=[J(t,"input",l[12]),J(t,"change",l[10])],e=!0)},p(r,o){o&6&&n!==(n=r[2]||r[1])&&S(t,"placeholder",n),o&1&&x(t,r[0]),o&8&&q(t,"ring",r[3]),o&8&&q(t,"ring-red-500",r[3])},d(r){r&&w(t),e=!1,St(i)}}}function ii(l){let t,n,e,i;return{c(){t=T("input"),this.h()},l(r){t=z(r,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0}),this.h()},h(){S(t,"id",l[5]),S(t,"class","rounded-md p-2 w-full bg-slate-100 hover:ring transition-all"),S(t,"type","date"),S(t,"placeholder",n=l[2]||l[1]),q(t,"ring",l[3]),q(t,"ring-red-500",l[3])},m(r,o){j(r,t,o),x(t,l[0]),e||(i=[J(t,"input",l[11]),J(t,"change",l[9])],e=!0)},p(r,o){o&6&&n!==(n=r[2]||r[1])&&S(t,"placeholder",n),o&1&&x(t,r[0]),o&8&&q(t,"ring",r[3]),o&8&&q(t,"ring-red-500",r[3])},d(r){r&&w(t),e=!1,St(i)}}}function ni(l){let t,n,e,i,r,o,u,f,d;const a=[xe,Qe],_=[];function c(p,s){return p[6].label?0:p[1]?1:-1}~(e=c(l))&&(i=_[e]=a[e](l));function h(p,s){return p[4]=="date"?ii:p[4]=="time"?ei:ti}let m=h(l),g=m(l);return{c(){t=T("label"),n=T("div"),i&&i.c(),r=M(),g.c(),o=M(),u=T("div"),f=H(l[3]),this.h()},l(p){t=z(p,"LABEL",{class:!0,for:!0});var s=N(t);n=z(s,"DIV",{class:!0});var b=N(n);i&&i.l(b),b.forEach(w),r=P(s),g.l(s),o=P(s),u=z(s,"DIV",{class:!0});var $=N(u);f=Y($,l[3]),$.forEach(w),s.forEach(w),this.h()},h(){S(n,"class","mx-1 mb-px text-sm capitalize"),S(u,"class","text-sm h-2 text-red-700 "),q(u,"opacity-0",!l[3]),S(t,"class","my-4 block"),S(t,"for",l[5])},m(p,s){j(p,t,s),v(t,n),~e&&_[e].m(n,null),v(t,r),g.m(t,null),v(t,o),v(t,u),v(u,f),d=!0},p(p,[s]){let b=e;e=c(p),e===b?~e&&_[e].p(p,s):(i&&(tt(),E(_[b],1,1,()=>{_[b]=null}),et()),~e?(i=_[e],i?i.p(p,s):(i=_[e]=a[e](p),i.c()),y(i,1),i.m(n,null)):i=null),m===(m=h(p))&&g?g.p(p,s):(g.d(1),g=m(p),g&&(g.c(),g.m(t,o))),(!d||s&8)&&nt(f,p[3]),s&8&&q(u,"opacity-0",!p[3])},i(p){d||(y(i),d=!0)},o(p){E(i),d=!1},d(p){p&&w(t),~e&&_[e].d(),g.d()}}}function li(l,t,n){let{$$slots:e={},$$scope:i}=t;const r=Rt(e);let{label:o=""}=t,{placeholder:u=""}=t,{error:f=""}=t,{value:d=""}=t,{type:a="text"}=t,_=Je();function c(s){xt.call(this,l,s)}function h(s){xt.call(this,l,s)}function m(){d=this.value,n(0,d)}function g(){d=this.value,n(0,d)}function p(){d=this.value,n(0,d)}return l.$$set=s=>{"label"in s&&n(1,o=s.label),"placeholder"in s&&n(2,u=s.placeholder),"error"in s&&n(3,f=s.error),"value"in s&&n(0,d=s.value),"type"in s&&n(4,a=s.type),"$$scope"in s&&n(7,i=s.$$scope)},[d,o,u,f,a,_,r,i,e,c,h,m,g,p]}class ht extends dt{constructor(t){super(),gt(this,t,li,ni,pt,{label:1,placeholder:2,error:3,value:0,type:4})}}function ri(l){let t;return{c(){t=H("Login with pod")},l(n){t=Y(n,"Login with pod")},m(n,e){j(n,t,e)},d(n){n&&w(t)}}}function oi(l){let t,n,e,i,r,o,u,f,d,a,_,c;function h(s){l[4](s)}let m={label:"pod url",error:l[1]};l[0]!==void 0&&(m.value=l[0]),r=new ht({props:m}),ct.push(()=>ut(r,"value",h));function g(s){l[5](s)}let p={label:"Storage location"};return l[2]!==void 0&&(p.value=l[2]),f=new ht({props:p}),ct.push(()=>ut(f,"value",g)),_=new kt({props:{focused:!0,$$slots:{default:[ri]},$$scope:{ctx:l}}}),_.$on("click",l[3]),{c(){t=T("div"),n=T("h1"),e=H("Welcome to the pod"),i=M(),A(r.$$.fragment),u=M(),A(f.$$.fragment),a=M(),A(_.$$.fragment),this.h()},l(s){t=z(s,"DIV",{class:!0});var b=N(t);n=z(b,"H1",{class:!0});var $=N(n);e=Y($,"Welcome to the pod"),$.forEach(w),i=P(b),O(r.$$.fragment,b),u=P(b),O(f.$$.fragment,b),a=P(b),O(_.$$.fragment,b),b.forEach(w),this.h()},h(){S(n,"class","text-2xl"),S(t,"class","max-w-lg my-16 mx-auto")},m(s,b){j(s,t,b),v(t,n),v(n,e),v(t,i),B(r,t,null),v(t,u),B(f,t,null),v(t,a),B(_,t,null),c=!0},p(s,[b]){const $={};b&2&&($.error=s[1]),!o&&b&1&&(o=!0,$.value=s[0],ft(()=>o=!1)),r.$set($);const I={};!d&&b&4&&(d=!0,I.value=s[2],ft(()=>d=!1)),f.$set(I);const X={};b&128&&(X.$$scope={dirty:b,ctx:s}),_.$set(X)},i(s){c||(y(r.$$.fragment,s),y(f.$$.fragment,s),y(_.$$.fragment,s),c=!0)},o(s){E(r.$$.fragment,s),E(f.$$.fragment,s),E(_.$$.fragment,s),c=!1},d(s){s&&w(t),C(r),C(f),C(_)}}}function ai(l,t,n){let e,i="http://localhost:3000",r="",o="http://localhost:3000/johndoe";async function u(){try{await Yt.signIn(i,o,e)}catch(a){n(1,r=Xe(a).message)}}Pe(async()=>{e=window.location.href,n(0,i=localStorage.getItem("podUrl")||"http://localhost:3000"),n(2,o=localStorage.getItem("storageLocation")||"http://localhost:3000/johndoe")});function f(a){i=a,n(0,i)}function d(a){o=a,n(2,o)}return[i,r,o,u,f,d]}class si extends dt{constructor(t){super(),gt(this,t,ai,oi,pt,{})}}function ci(l){let t,n,e,i,r=l[0][0]+"",o,u=l[2][l[2].length-1][0]+"",f,d,a,_,c,h,m,g,p;return{c(){t=T("button"),n=T("div"),e=T("div"),i=T("span"),o=H(r),f=H(u),d=M(),a=T("div"),_=T("p"),c=H(l[0]),h=M(),m=H(l[1]),this.h()},l(s){t=z(s,"BUTTON",{class:!0});var b=N(t);n=z(b,"DIV",{});var $=N(n);e=z($,"DIV",{class:!0});var I=N(e);i=z(I,"SPAN",{class:!0});var X=N(i);o=Y(X,r),f=Y(X,u),X.forEach(w),I.forEach(w),$.forEach(w),d=P(b),a=z(b,"DIV",{class:!0});var R=N(a);_=z(R,"P",{class:!0});var L=N(_);c=Y(L,l[0]),h=P(L),m=Y(L,l[1]),L.forEach(w),R.forEach(w),b.forEach(w),this.h()},h(){S(i,"class","leading-none p-2 text-sm"),S(e,"class","rounded-full bg-green-700 text-green-100 h-8 w-8 flex items-center justify-center cursor-pointer"),S(_,"class","text-sm font-medium text-gray-700 group-hover:text-gray-900"),S(a,"class","ml-3"),S(t,"class","flex items-center hover:bg-gray-200 rounded-xl px-2 py-2 transition-colors cursor-pointer")},m(s,b){j(s,t,b),v(t,n),v(n,e),v(e,i),v(i,o),v(i,f),v(t,d),v(t,a),v(a,_),v(_,c),v(_,h),v(_,m),g||(p=J(t,"click",l[3]),g=!0)},p(s,[b]){b&1&&r!==(r=s[0][0]+"")&&nt(o,r),b&4&&u!==(u=s[2][s[2].length-1][0]+"")&&nt(f,u),b&1&&nt(c,s[0]),b&2&&nt(m,s[1])},i:lt,o:lt,d(s){s&&w(t),g=!1,p()}}}function ui(l,t,n){let e,{firstname:i}=t,{lastname:r=""}=t;async function o(){await Yt.signOut()}return l.$$set=u=>{"firstname"in u&&n(0,i=u.firstname),"lastname"in u&&n(1,r=u.lastname)},l.$$.update=()=>{l.$$.dirty&3&&n(2,e=(r==null?void 0:r.split(" "))||i.split(" "))},[i,r,e,o]}class fi extends dt{constructor(t){super(),gt(this,t,ui,ci,pt,{firstname:0,lastname:1})}}function fe(l){let t,n,e,i,r;const o=l[3].default,u=_t(o,l,l[2],null);return{c(){t=T("div"),n=T("div"),u&&u.c(),this.h()},l(f){t=z(f,"DIV",{class:!0});var d=N(t);n=z(d,"DIV",{class:!0});var a=N(n);u&&u.l(a),a.forEach(w),d.forEach(w),this.h()},h(){S(n,"class","fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-3xl bg-white z-20 p-4 rounded-lg"),S(t,"class","fixed top-0 left-0 w-full h-[100%] bg-slate-900/30 z-10 cursor-pointer")},m(f,d){j(f,t,d),v(t,n),u&&u.m(n,null),e=!0,i||(r=[J(n,"click",Fe(l[4])),J(t,"click",l[1])],i=!0)},p(f,d){u&&u.p&&(!e||d&4)&&vt(u,o,f,f[2],e?yt(o,f[2],d,null):wt(f[2]),null)},i(f){e||(y(u,f),e=!0)},o(f){E(u,f),e=!1},d(f){f&&w(t),u&&u.d(f),i=!1,St(r)}}}function di(l){let t,n,e=l[0]&&fe(l);return{c(){e&&e.c(),t=bt()},l(i){e&&e.l(i),t=bt()},m(i,r){e&&e.m(i,r),j(i,t,r),n=!0},p(i,[r]){i[0]?e?(e.p(i,r),r&1&&y(e,1)):(e=fe(i),e.c(),y(e,1),e.m(t.parentNode,t)):e&&(tt(),E(e,1,1,()=>{e=null}),et())},i(i){n||(y(e),n=!0)},o(i){E(e),n=!1},d(i){e&&e.d(i),i&&w(t)}}}function gi(l,t,n){let{$$slots:e={},$$scope:i}=t,{visible:r=!1}=t;const o=He();function u(){o("close"),n(0,r=!1)}function f(d){xt.call(this,l,d)}return l.$$set=d=>{"visible"in d&&n(0,r=d.visible),"$$scope"in d&&n(2,i=d.$$scope)},[r,u,i,e,f]}class de extends dt{constructor(t){super(),gt(this,t,gi,di,pt,{visible:0})}}function ge(l,t,n){const e=l.slice();return e[9]=t[n],e}const pi=l=>({}),pe=l=>({});function mi(l){let t;return{c(){t=H(l[2])},l(n){t=Y(n,l[2])},m(n,e){j(n,t,e)},p(n,e){e&4&&nt(t,n[2])},i:lt,o:lt,d(n){n&&w(t)}}}function hi(l){let t;const n=l[7].label,e=_t(n,l,l[6],pe);return{c(){e&&e.c()},l(i){e&&e.l(i)},m(i,r){e&&e.m(i,r),t=!0},p(i,r){e&&e.p&&(!t||r&64)&&vt(e,n,i,i[6],t?yt(n,i[6],r,pi):wt(i[6]),pe)},i(i){t||(y(e,i),t=!0)},o(i){E(e,i),t=!1},d(i){e&&e.d(i)}}}function me(l){let t,n;return t=new te({props:{src:l[9].icon,size:"16"}}),{c(){A(t.$$.fragment)},l(e){O(t.$$.fragment,e)},m(e,i){B(t,e,i),n=!0},p(e,i){const r={};i&2&&(r.src=e[9].icon),t.$set(r)},i(e){n||(y(t.$$.fragment,e),n=!0)},o(e){E(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function he(l){let t,n,e,i=l[9].title+"",r,o,u,f,d,a=l[9].icon&&me(l);function _(){return l[8](l[9])}return{c(){t=T("div"),a&&a.c(),n=M(),e=T("div"),r=H(i),o=M(),this.h()},l(c){t=z(c,"DIV",{class:!0});var h=N(t);a&&a.l(h),n=P(h),e=z(h,"DIV",{});var m=N(e);r=Y(m,i),m.forEach(w),o=P(h),h.forEach(w),this.h()},h(){q(e,"text-sm",l[9].icon),S(t,"class","px-3 py-2 rounded bg-blue-50 text-blue-700 flex flex-col items-center justify-center svelte-1mwawgl"),q(t,"active",l[0].has(l[9].title)),q(t,"grow",l[3])},m(c,h){j(c,t,h),a&&a.m(t,null),v(t,n),v(t,e),v(e,r),v(t,o),u=!0,f||(d=J(t,"click",_),f=!0)},p(c,h){l=c,l[9].icon?a?(a.p(l,h),h&2&&y(a,1)):(a=me(l),a.c(),y(a,1),a.m(t,n)):a&&(tt(),E(a,1,1,()=>{a=null}),et()),(!u||h&2)&&i!==(i=l[9].title+"")&&nt(r,i),h&2&&q(e,"text-sm",l[9].icon),h&3&&q(t,"active",l[0].has(l[9].title)),h&8&&q(t,"grow",l[3])},i(c){u||(y(a),u=!0)},o(c){E(a),u=!1},d(c){c&&w(t),a&&a.d(),f=!1,d()}}}function bi(l){let t,n,e,i,r,o,u;const f=[hi,mi],d=[];function a(m,g){return m[5].label?0:m[2]?1:-1}~(e=a(l))&&(i=d[e]=f[e](l));let _=l[1],c=[];for(let m=0;m<_.length;m+=1)c[m]=he(ge(l,_,m));const h=m=>E(c[m],1,1,()=>{c[m]=null});return{c(){t=T("div"),n=T("div"),i&&i.c(),r=M(),o=T("div");for(let m=0;m<c.length;m+=1)c[m].c();this.h()},l(m){t=z(m,"DIV",{class:!0});var g=N(t);n=z(g,"DIV",{class:!0});var p=N(n);i&&i.l(p),p.forEach(w),r=P(g),o=z(g,"DIV",{class:!0});var s=N(o);for(let b=0;b<c.length;b+=1)c[b].l(s);s.forEach(w),g.forEach(w),this.h()},h(){S(n,"class","mx-1 mb-px text-sm"),S(o,"class","flex gap-2"),S(t,"class","my-4 block box-border")},m(m,g){j(m,t,g),v(t,n),~e&&d[e].m(n,null),v(t,r),v(t,o);for(let p=0;p<c.length;p+=1)c[p].m(o,null);u=!0},p(m,[g]){let p=e;if(e=a(m),e===p?~e&&d[e].p(m,g):(i&&(tt(),E(d[p],1,1,()=>{d[p]=null}),et()),~e?(i=d[e],i?i.p(m,g):(i=d[e]=f[e](m),i.c()),y(i,1),i.m(n,null)):i=null),g&27){_=m[1];let s;for(s=0;s<_.length;s+=1){const b=ge(m,_,s);c[s]?(c[s].p(b,g),y(c[s],1)):(c[s]=he(b),c[s].c(),y(c[s],1),c[s].m(o,null))}for(tt(),s=_.length;s<c.length;s+=1)h(s);et()}},i(m){if(!u){y(i);for(let g=0;g<_.length;g+=1)y(c[g]);u=!0}},o(m){E(i),c=c.filter(Boolean);for(let g=0;g<c.length;g+=1)E(c[g]);u=!1},d(m){m&&w(t),~e&&d[e].d(),Lt(c,m)}}}function _i(l,t,n){let{$$slots:e={},$$scope:i}=t;const r=Rt(e);let{value:o=new Set([])}=t,{options:u=[]}=t,{label:f=""}=t,{grow:d=!1}=t;function a(c){o.has(c.title)?(o.delete(c.title),n(0,o=new Set(o))):(o.add(c.title),n(0,o=new Set(o)))}const _=c=>a(c);return l.$$set=c=>{"value"in c&&n(0,o=c.value),"options"in c&&n(1,u=c.options),"label"in c&&n(2,f=c.label),"grow"in c&&n(3,d=c.grow),"$$scope"in c&&n(6,i=c.$$scope)},[o,u,f,d,a,r,i,e,_]}class Ce extends dt{constructor(t){super(),gt(this,t,_i,bi,pt,{value:0,options:1,label:2,grow:3})}}function be(l,t,n){const e=l.slice();return e[9]=t[n],e}const vi=l=>({}),_e=l=>({});function wi(l){let t;return{c(){t=H(l[2])},l(n){t=Y(n,l[2])},m(n,e){j(n,t,e)},p(n,e){e&4&&nt(t,n[2])},i:lt,o:lt,d(n){n&&w(t)}}}function yi(l){let t;const n=l[7].label,e=_t(n,l,l[6],_e);return{c(){e&&e.c()},l(i){e&&e.l(i)},m(i,r){e&&e.m(i,r),t=!0},p(i,r){e&&e.p&&(!t||r&64)&&vt(e,n,i,i[6],t?yt(n,i[6],r,vi):wt(i[6]),_e)},i(i){t||(y(e,i),t=!0)},o(i){E(e,i),t=!1},d(i){e&&e.d(i)}}}function ve(l){let t,n;return t=new te({props:{src:l[9].icon,size:"16"}}),{c(){A(t.$$.fragment)},l(e){O(t.$$.fragment,e)},m(e,i){B(t,e,i),n=!0},p(e,i){const r={};i&2&&(r.src=e[9].icon),t.$set(r)},i(e){n||(y(t.$$.fragment,e),n=!0)},o(e){E(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function we(l){let t,n,e,i=l[9].title+"",r,o,u,f,d,a=l[9].icon&&ve(l);function _(){return l[8](l[9])}return{c(){t=T("div"),a&&a.c(),n=M(),e=T("div"),r=H(i),o=M(),this.h()},l(c){t=z(c,"DIV",{class:!0});var h=N(t);a&&a.l(h),n=P(h),e=z(h,"DIV",{});var m=N(e);r=Y(m,i),m.forEach(w),o=P(h),h.forEach(w),this.h()},h(){q(e,"text-sm",l[9].icon),S(t,"class","px-3 py-2 rounded bg-blue-50 text-blue-700 flex flex-col items-center justify-center svelte-1mwawgl"),q(t,"active",l[0]==l[9].title),q(t,"grow",l[3])},m(c,h){j(c,t,h),a&&a.m(t,null),v(t,n),v(t,e),v(e,r),v(t,o),u=!0,f||(d=J(t,"click",_),f=!0)},p(c,h){l=c,l[9].icon?a?(a.p(l,h),h&2&&y(a,1)):(a=ve(l),a.c(),y(a,1),a.m(t,n)):a&&(tt(),E(a,1,1,()=>{a=null}),et()),(!u||h&2)&&i!==(i=l[9].title+"")&&nt(r,i),h&2&&q(e,"text-sm",l[9].icon),h&3&&q(t,"active",l[0]==l[9].title),h&8&&q(t,"grow",l[3])},i(c){u||(y(a),u=!0)},o(c){E(a),u=!1},d(c){c&&w(t),a&&a.d(),f=!1,d()}}}function ki(l){let t,n,e,i,r,o,u;const f=[yi,wi],d=[];function a(m,g){return m[5].label?0:m[2]?1:-1}~(e=a(l))&&(i=d[e]=f[e](l));let _=l[1],c=[];for(let m=0;m<_.length;m+=1)c[m]=we(be(l,_,m));const h=m=>E(c[m],1,1,()=>{c[m]=null});return{c(){t=T("div"),n=T("div"),i&&i.c(),r=M(),o=T("div");for(let m=0;m<c.length;m+=1)c[m].c();this.h()},l(m){t=z(m,"DIV",{class:!0});var g=N(t);n=z(g,"DIV",{class:!0});var p=N(n);i&&i.l(p),p.forEach(w),r=P(g),o=z(g,"DIV",{class:!0});var s=N(o);for(let b=0;b<c.length;b+=1)c[b].l(s);s.forEach(w),g.forEach(w),this.h()},h(){S(n,"class","mx-1 mb-px text-sm"),S(o,"class","flex gap-2"),S(t,"class","my-4 block box-border")},m(m,g){j(m,t,g),v(t,n),~e&&d[e].m(n,null),v(t,r),v(t,o);for(let p=0;p<c.length;p+=1)c[p].m(o,null);u=!0},p(m,[g]){let p=e;if(e=a(m),e===p?~e&&d[e].p(m,g):(i&&(tt(),E(d[p],1,1,()=>{d[p]=null}),et()),~e?(i=d[e],i?i.p(m,g):(i=d[e]=f[e](m),i.c()),y(i,1),i.m(n,null)):i=null),g&27){_=m[1];let s;for(s=0;s<_.length;s+=1){const b=be(m,_,s);c[s]?(c[s].p(b,g),y(c[s],1)):(c[s]=we(b),c[s].c(),y(c[s],1),c[s].m(o,null))}for(tt(),s=_.length;s<c.length;s+=1)h(s);et()}},i(m){if(!u){y(i);for(let g=0;g<_.length;g+=1)y(c[g]);u=!0}},o(m){E(i),c=c.filter(Boolean);for(let g=0;g<c.length;g+=1)E(c[g]);u=!1},d(m){m&&w(t),~e&&d[e].d(),Lt(c,m)}}}function $i(l,t,n){let{$$slots:e={},$$scope:i}=t;const r=Rt(e);let{options:o=[]}=t,{value:u=o[0].title}=t,{label:f=""}=t,{grow:d=!1}=t;const a=c=>n(0,u=c.title),_=c=>a(c);return l.$$set=c=>{"options"in c&&n(1,o=c.options),"value"in c&&n(0,u=c.value),"label"in c&&n(2,f=c.label),"grow"in c&&n(3,d=c.grow),"$$scope"in c&&n(6,i=c.$$scope)},[u,o,f,d,a,r,i,e,_]}class Re extends dt{constructor(t){super(),gt(this,t,$i,ki,pt,{options:1,value:0,label:2,grow:3})}}function ye(l,t,n){const e=l.slice();return e[15]=t[n],e[16]=t,e[17]=n,e}const Si=l=>({}),ke=l=>({});function Ei(l){let t;return{c(){t=H(l[1])},l(n){t=Y(n,l[1])},m(n,e){j(n,t,e)},p(n,e){e&2&&nt(t,n[1])},i:lt,o:lt,d(n){n&&w(t)}}}function Ii(l){let t;const n=l[9].label,e=_t(n,l,l[8],ke);return{c(){e&&e.c()},l(i){e&&e.l(i)},m(i,r){e&&e.m(i,r),t=!0},p(i,r){e&&e.p&&(!t||r&256)&&vt(e,n,i,i[8],t?yt(n,i[8],r,Si):wt(i[8]),ke)},i(i){t||(y(e,i),t=!0)},o(i){E(e,i),t=!1},d(i){e&&e.d(i)}}}function $e(l){let t,n,e,i,r,o,u;function f(){l[10].call(n,l[17])}function d(){return l[11](l[17])}return i=new kt({props:{destructive:!0,icon:We}}),i.$on("click",d),{c(){t=T("div"),n=T("input"),e=M(),A(i.$$.fragment),this.h()},l(a){t=z(a,"DIV",{class:!0});var _=N(t);n=z(_,"INPUT",{class:!0,type:!0}),e=P(_),O(i.$$.fragment,_),_.forEach(w),this.h()},h(){S(n,"class","w-full"),S(n,"type","date"),S(t,"class","flex gap-2")},m(a,_){j(a,t,_),v(t,n),x(n,l[0][l[17]]),v(t,e),B(i,t,null),r=!0,o||(u=J(n,"input",f),o=!0)},p(a,_){l=a,_&1&&x(n,l[0][l[17]])},i(a){r||(y(i.$$.fragment,a),r=!0)},o(a){E(i.$$.fragment,a),r=!1},d(a){a&&w(t),C(i),o=!1,u()}}}function Se(l){let t,n,e,i,r,o,u;return i=new kt({props:{icon:ee}}),i.$on("click",l[4]),{c(){t=T("div"),n=T("input"),e=M(),A(i.$$.fragment),this.h()},l(f){t=z(f,"DIV",{class:!0});var d=N(t);n=z(d,"INPUT",{class:!0,type:!0}),e=P(d),O(i.$$.fragment,d),d.forEach(w),this.h()},h(){S(n,"class","w-full"),S(n,"type","date"),S(t,"class","newDate flex gap-2")},m(f,d){j(f,t,d),v(t,n),x(n,l[3]),v(t,e),B(i,t,null),r=!0,o||(u=J(n,"input",l[12]),o=!0)},p(f,d){d&8&&x(n,f[3])},i(f){r||(y(i.$$.fragment,f),r=!0)},o(f){E(i.$$.fragment,f),r=!1},d(f){f&&w(t),C(i),o=!1,u()}}}function Di(l){let t,n,e,i,r,o,u,f;const d=[Ii,Ei],a=[];function _(p,s){return p[6].label?0:p[1]?1:-1}~(e=_(l))&&(i=a[e]=d[e](l));let c=l[0],h=[];for(let p=0;p<c.length;p+=1)h[p]=$e(ye(l,c,p));const m=p=>E(h[p],1,1,()=>{h[p]=null});let g=(l[2]==-1||l[0].length<l[2])&&Se(l);return{c(){t=T("div"),n=T("div"),i&&i.c(),r=M(),o=T("div");for(let p=0;p<h.length;p+=1)h[p].c();u=M(),g&&g.c(),this.h()},l(p){t=z(p,"DIV",{class:!0});var s=N(t);n=z(s,"DIV",{class:!0});var b=N(n);i&&i.l(b),b.forEach(w),r=P(s),o=z(s,"DIV",{class:!0});var $=N(o);for(let I=0;I<h.length;I+=1)h[I].l($);u=P($),g&&g.l($),$.forEach(w),s.forEach(w),this.h()},h(){S(n,"class","mx-1 mb-px text-sm"),S(o,"class","dates flex flex-col gap-4"),S(t,"class","pb-3")},m(p,s){j(p,t,s),v(t,n),~e&&a[e].m(n,null),v(t,r),v(t,o);for(let b=0;b<h.length;b+=1)h[b].m(o,null);v(o,u),g&&g.m(o,null),f=!0},p(p,[s]){let b=e;if(e=_(p),e===b?~e&&a[e].p(p,s):(i&&(tt(),E(a[b],1,1,()=>{a[b]=null}),et()),~e?(i=a[e],i?i.p(p,s):(i=a[e]=d[e](p),i.c()),y(i,1),i.m(n,null)):i=null),s&33){c=p[0];let $;for($=0;$<c.length;$+=1){const I=ye(p,c,$);h[$]?(h[$].p(I,s),y(h[$],1)):(h[$]=$e(I),h[$].c(),y(h[$],1),h[$].m(o,u))}for(tt(),$=c.length;$<h.length;$+=1)m($);et()}p[2]==-1||p[0].length<p[2]?g?(g.p(p,s),s&5&&y(g,1)):(g=Se(p),g.c(),y(g,1),g.m(o,null)):g&&(tt(),E(g,1,1,()=>{g=null}),et())},i(p){if(!f){y(i);for(let s=0;s<c.length;s+=1)y(h[s]);y(g),f=!0}},o(p){E(i),h=h.filter(Boolean);for(let s=0;s<h.length;s+=1)E(h[s]);E(g),f=!1},d(p){p&&w(t),~e&&a[e].d(),Lt(h,p),g&&g.d()}}}function Ti(l,t,n){let{$$slots:e={},$$scope:i}=t;const r=Rt(e);let{dates:o=[]}=t,{dateStrings:u=[]}=t,{label:f=""}=t,{maxDates:d=5}=t,a="",_="";function c(){!a||(n(0,u=[...u,a]),u.sort(),n(3,a=""))}function h(b){n(0,u=[...u.slice(0,b),...u.slice(b+1)])}function m(){u.toString()!=_&&(n(0,u=u.filter(b=>b!="")),n(7,o=u.map(b=>Bt.PlainDate.from(b))),_=u.toString())}function g(b){u[b]=this.value,n(0,u)}const p=b=>h(b);function s(){a=this.value,n(3,a)}return l.$$set=b=>{"dates"in b&&n(7,o=b.dates),"dateStrings"in b&&n(0,u=b.dateStrings),"label"in b&&n(1,f=b.label),"maxDates"in b&&n(2,d=b.maxDates),"$$scope"in b&&n(8,i=b.$$scope)},l.$$.update=()=>{l.$$.dirty&1&&u&&m()},[u,f,d,a,c,h,r,o,i,e,g,p,s]}class zi extends dt{constructor(t){super(),gt(this,t,Ti,Di,pt,{dates:7,dateStrings:0,label:1,maxDates:2})}}function Ee(l,t,n){const e=l.slice();return e[17]=t[n],e[18]=t,e[19]=n,e}const Vi=l=>({}),Ie=l=>({});function Ni(l){let t;return{c(){t=H(l[1])},l(n){t=Y(n,l[1])},m(n,e){j(n,t,e)},p(n,e){e&2&&nt(t,n[1])},i:lt,o:lt,d(n){n&&w(t)}}}function Mi(l){let t;const n=l[9].label,e=_t(n,l,l[8],Ie);return{c(){e&&e.c()},l(i){e&&e.l(i)},m(i,r){e&&e.m(i,r),t=!0},p(i,r){e&&e.p&&(!t||r&256)&&vt(e,n,i,i[8],t?yt(n,i[8],r,Vi):wt(i[8]),Ie)},i(i){t||(y(e,i),t=!0)},o(i){E(e,i),t=!1},d(i){e&&e.d(i)}}}function De(l){let t,n,e,i,r,o,u,f,d;function a(){l[10].call(n,l[19])}function _(){l[11].call(i,l[19])}function c(){return l[12](l[19])}return o=new kt({props:{destructive:!0,icon:We}}),o.$on("click",c),{c(){t=T("div"),n=T("input"),e=M(),i=T("input"),r=M(),A(o.$$.fragment),this.h()},l(h){t=z(h,"DIV",{class:!0});var m=N(t);n=z(m,"INPUT",{class:!0,type:!0}),e=P(m),i=z(m,"INPUT",{class:!0,type:!0}),r=P(m),O(o.$$.fragment,m),m.forEach(w),this.h()},h(){S(n,"class","w-full"),S(n,"type","time"),S(i,"class","w-full"),S(i,"type","time"),S(t,"class","flex gap-2")},m(h,m){j(h,t,m),v(t,n),x(n,l[0][l[19]].from),v(t,e),v(t,i),x(i,l[0][l[19]].to),v(t,r),B(o,t,null),u=!0,f||(d=[J(n,"input",a),J(i,"input",_)],f=!0)},p(h,m){l=h,m&1&&x(n,l[0][l[19]].from),m&1&&x(i,l[0][l[19]].to)},i(h){u||(y(o.$$.fragment,h),u=!0)},o(h){E(o.$$.fragment,h),u=!1},d(h){h&&w(t),C(o),f=!1,St(d)}}}function Te(l){let t,n,e,i,r,o,u,f,d;return o=new kt({props:{icon:ee}}),o.$on("click",l[4]),{c(){t=T("div"),n=T("input"),e=M(),i=T("input"),r=M(),A(o.$$.fragment),this.h()},l(a){t=z(a,"DIV",{class:!0});var _=N(t);n=z(_,"INPUT",{class:!0,type:!0}),e=P(_),i=z(_,"INPUT",{class:!0,type:!0}),r=P(_),O(o.$$.fragment,_),_.forEach(w),this.h()},h(){S(n,"class","w-full"),S(n,"type","time"),S(i,"class","w-full"),S(i,"type","time"),S(t,"class","newTime flex gap-2")},m(a,_){j(a,t,_),v(t,n),x(n,l[3].from),v(t,e),v(t,i),x(i,l[3].to),v(t,r),B(o,t,null),u=!0,f||(d=[J(n,"input",l[13]),J(i,"input",l[14])],f=!0)},p(a,_){_&8&&x(n,a[3].from),_&8&&x(i,a[3].to)},i(a){u||(y(o.$$.fragment,a),u=!0)},o(a){E(o.$$.fragment,a),u=!1},d(a){a&&w(t),C(o),f=!1,St(d)}}}function Pi(l){let t,n,e,i,r,o,u,f;const d=[Mi,Ni],a=[];function _(p,s){return p[6].label?0:p[1]?1:-1}~(e=_(l))&&(i=a[e]=d[e](l));let c=l[0],h=[];for(let p=0;p<c.length;p+=1)h[p]=De(Ee(l,c,p));const m=p=>E(h[p],1,1,()=>{h[p]=null});let g=(l[2]==-1||l[0].length<l[2])&&Te(l);return{c(){t=T("div"),n=T("div"),i&&i.c(),r=M(),o=T("div");for(let p=0;p<h.length;p+=1)h[p].c();u=M(),g&&g.c(),this.h()},l(p){t=z(p,"DIV",{});var s=N(t);n=z(s,"DIV",{class:!0});var b=N(n);i&&i.l(b),b.forEach(w),r=P(s),o=z(s,"DIV",{class:!0});var $=N(o);for(let I=0;I<h.length;I+=1)h[I].l($);u=P($),g&&g.l($),$.forEach(w),s.forEach(w),this.h()},h(){S(n,"class","mx-1 mb-px text-sm"),S(o,"class","times flex flex-col gap-4")},m(p,s){j(p,t,s),v(t,n),~e&&a[e].m(n,null),v(t,r),v(t,o);for(let b=0;b<h.length;b+=1)h[b].m(o,null);v(o,u),g&&g.m(o,null),f=!0},p(p,[s]){let b=e;if(e=_(p),e===b?~e&&a[e].p(p,s):(i&&(tt(),E(a[b],1,1,()=>{a[b]=null}),et()),~e?(i=a[e],i?i.p(p,s):(i=a[e]=d[e](p),i.c()),y(i,1),i.m(n,null)):i=null),s&33){c=p[0];let $;for($=0;$<c.length;$+=1){const I=Ee(p,c,$);h[$]?(h[$].p(I,s),y(h[$],1)):(h[$]=De(I),h[$].c(),y(h[$],1),h[$].m(o,u))}for(tt(),$=c.length;$<h.length;$+=1)m($);et()}p[2]==-1||p[0].length<p[2]?g?(g.p(p,s),s&5&&y(g,1)):(g=Te(p),g.c(),y(g,1),g.m(o,null)):g&&(tt(),E(g,1,1,()=>{g=null}),et())},i(p){if(!f){y(i);for(let s=0;s<c.length;s+=1)y(h[s]);y(g),f=!0}},o(p){E(i),h=h.filter(Boolean);for(let s=0;s<h.length;s+=1)E(h[s]);E(g),f=!1},d(p){p&&w(t),~e&&a[e].d(),Lt(h,p),g&&g.d()}}}function Ui(l,t,n){let{$$slots:e={},$$scope:i}=t;const r=Rt(e);let{times:o=[]}=t,{timeStrings:u=[]}=t,{label:f="init"}=t,{maxTimes:d=5}=t,a={from:"",to:""},_="";function c(){!a.from||!a.to||(n(0,u=[a,...u]),n(3,a={from:"",to:""}))}function h(I){n(0,u=[...u.slice(0,I),...u.slice(I+1)])}function m(){var X;const I=(X=JSON.stringify(u))!=null?X:"";I!=_&&(n(0,u=u.filter(R=>R.from!=""||R.to!="")),_=I,n(7,o=u.map(R=>{const L=Bt.PlainTime.from(R.from),D=Bt.PlainTime.from(R.to),V={from:D,to:L};return L.until(D).hours<0||L.until(D).hours==0&&L.until(D).minutes<0?V:{from:L,to:D}})))}function g(I){u[I].from=this.value,n(0,u)}function p(I){u[I].to=this.value,n(0,u)}const s=I=>h(I);function b(){a.from=this.value,n(3,a)}function $(){a.to=this.value,n(3,a)}return l.$$set=I=>{"times"in I&&n(7,o=I.times),"timeStrings"in I&&n(0,u=I.timeStrings),"label"in I&&n(1,f=I.label),"maxTimes"in I&&n(2,d=I.maxTimes),"$$scope"in I&&n(8,i=I.$$scope)},l.$$.update=()=>{l.$$.dirty&1&&u&&m()},[u,f,d,a,c,h,r,o,i,e,g,p,s,b,$]}class Wi extends dt{constructor(t){super(),gt(this,t,Ui,Pi,pt,{times:7,timeStrings:0,label:1,maxTimes:2})}}function ze(l){let t,n,e=l[0].editMode?"Edit":"Create New",i,r,o,u,f,d,a,_,c,h,m,g,p,s,b,$,I,X,R,L,D,V,Z,at,F,U,rt,K,mt,$t,zt;function Jt(k){l[6](k)}let Vt={type:"text",label:"title"};l[0].activity.title!==void 0&&(Vt.value=l[0].activity.title),d=new ht({props:Vt}),ct.push(()=>ut(d,"value",Jt));function Xt(k){l[7](k)}let Nt={dateStrings:l[2],label:"Enter possible dates"};l[0].activity.dates!==void 0&&(Nt.dates=l[0].activity.dates),c=new zi({props:Nt}),ct.push(()=>ut(c,"dates",Xt));function Zt(k){l[8](k)}let Mt={timeStrings:l[1],label:"Enter possible times"};l[0].activity.times!==void 0&&(Mt.times=l[0].activity.times),g=new Wi({props:Mt}),ct.push(()=>ut(g,"times",Zt));function Kt(k){l[9](k)}let Pt={type:"text",placeholder:"Where?",label:"Location"};l[0].activity.location!==void 0&&(Pt.value=l[0].activity.location),$=new ht({props:Pt}),ct.push(()=>ut($,"value",Kt));function qt(k){l[10](k)}let Ut={grow:!0,label:"Get notified if it will",options:[{title:"Sun",icon:je},{title:"Windy"},{title:"Rain"},{title:"Snow"},{title:"Thunder",icon:Ae}]};l[0].activity.notifyOnWeather!==void 0&&(Ut.value=l[0].activity.notifyOnWeather),R=new Ce({props:Ut}),ct.push(()=>ut(R,"value",qt));function Ft(k){l[11](k)}let Wt={grow:!0,label:"Activity type",options:[{title:"Work",icon:Oe},{title:"Food"},{title:"Fun"},{title:"Workout"},{title:"Relax"}]};return l[0].activity.actitityType!==void 0&&(Wt.value=l[0].activity.actitityType),V=new Re({props:Wt}),ct.push(()=>ut(V,"value",Ft)),U=new kt({props:{destructive:!0,$$slots:{default:[ji]},$$scope:{ctx:l}}}),U.$on("click",l[5]),{c(){t=T("form"),n=T("h3"),i=H(e),r=H(" activity"),o=M(),u=T("div"),f=T("div"),A(d.$$.fragment),_=M(),A(c.$$.fragment),m=M(),A(g.$$.fragment),s=M(),b=T("div"),A($.$$.fragment),X=M(),A(R.$$.fragment),D=M(),A(V.$$.fragment),at=M(),F=T("div"),A(U.$$.fragment),rt=M(),K=T("input"),this.h()},l(k){t=z(k,"FORM",{});var W=N(t);n=z(W,"H3",{class:!0});var st=N(n);i=Y(st,e),r=Y(st," activity"),st.forEach(w),o=P(W),u=z(W,"DIV",{class:!0});var it=N(u);f=z(it,"DIV",{class:!0});var G=N(f);O(d.$$.fragment,G),_=P(G),O(c.$$.fragment,G),m=P(G),O(g.$$.fragment,G),G.forEach(w),s=P(it),b=z(it,"DIV",{class:!0});var Q=N(b);O($.$$.fragment,Q),X=P(Q),O(R.$$.fragment,Q),D=P(Q),O(V.$$.fragment,Q),Q.forEach(w),it.forEach(w),at=P(W),F=z(W,"DIV",{class:!0});var ot=N(F);O(U.$$.fragment,ot),rt=P(ot),K=z(ot,"INPUT",{class:!0,type:!0}),ot.forEach(w),W.forEach(w),this.h()},h(){S(n,"class","text-xl border-b border-b-black/50 border-solid mb-4 pb-2 capitalize"),S(f,"class","left grow"),S(b,"class","right grow"),S(u,"class","flex gap-4 w-full"),S(K,"class","bg-slate-100 hover:bg-slate-300 transition-colors px-3 py-2 rounded cursor-pointer"),S(K,"type","submit"),K.value="submit",S(F,"class","flex justify-end gap-4")},m(k,W){j(k,t,W),v(t,n),v(n,i),v(n,r),v(t,o),v(t,u),v(u,f),B(d,f,null),v(f,_),B(c,f,null),v(f,m),B(g,f,null),v(u,s),v(u,b),B($,b,null),v(b,X),B(R,b,null),v(b,D),B(V,b,null),v(t,at),v(t,F),B(U,F,null),v(F,rt),v(F,K),mt=!0,$t||(zt=[J(K,"click",Ht(l[4])),J(t,"submit",Ht(l[4]))],$t=!0)},p(k,W){(!mt||W&1)&&e!==(e=k[0].editMode?"Edit":"Create New")&&nt(i,e);const st={};!a&&W&1&&(a=!0,st.value=k[0].activity.title,ft(()=>a=!1)),d.$set(st);const it={};W&4&&(it.dateStrings=k[2]),!h&&W&1&&(h=!0,it.dates=k[0].activity.dates,ft(()=>h=!1)),c.$set(it);const G={};W&2&&(G.timeStrings=k[1]),!p&&W&1&&(p=!0,G.times=k[0].activity.times,ft(()=>p=!1)),g.$set(G);const Q={};!I&&W&1&&(I=!0,Q.value=k[0].activity.location,ft(()=>I=!1)),$.$set(Q);const ot={};!L&&W&1&&(L=!0,ot.value=k[0].activity.notifyOnWeather,ft(()=>L=!1)),R.$set(ot);const jt={};!Z&&W&1&&(Z=!0,jt.value=k[0].activity.actitityType,ft(()=>Z=!1)),V.$set(jt);const At={};W&4097&&(At.$$scope={dirty:W,ctx:k}),U.$set(At)},i(k){mt||(y(d.$$.fragment,k),y(c.$$.fragment,k),y(g.$$.fragment,k),y($.$$.fragment,k),y(R.$$.fragment,k),y(V.$$.fragment,k),y(U.$$.fragment,k),mt=!0)},o(k){E(d.$$.fragment,k),E(c.$$.fragment,k),E(g.$$.fragment,k),E($.$$.fragment,k),E(R.$$.fragment,k),E(V.$$.fragment,k),E(U.$$.fragment,k),mt=!1},d(k){k&&w(t),C(d),C(c),C(g),C($),C(R),C(V),C(U),$t=!1,St(zt)}}}function ji(l){let t=l[0].editMode?"Remove":"Cancel",n;return{c(){n=H(t)},l(e){n=Y(e,t)},m(e,i){j(e,n,i)},p(e,i){i&1&&t!==(t=e[0].editMode?"Remove":"Cancel")&&nt(n,t)},d(e){e&&w(n)}}}function Ai(l){let t,n,e=l[0]&&l[3]&&ze(l);return{c(){e&&e.c(),t=bt()},l(i){e&&e.l(i),t=bt()},m(i,r){e&&e.m(i,r),j(i,t,r),n=!0},p(i,[r]){i[0]&&i[3]?e?(e.p(i,r),r&9&&y(e,1)):(e=ze(i),e.c(),y(e,1),e.m(t.parentNode,t)):e&&(tt(),E(e,1,1,()=>{e=null}),et())},i(i){n||(y(e),n=!0)},o(i){E(e),n=!1},d(i){e&&e.d(i),i&&w(t)}}}function Oi(l,t,n){let e,i,r;Et(l,It,g=>n(3,r=g));let o=r;function u(){!o||(o.editMode?Dt.updateActivity(o.activity):Dt.add(o.activity),Ze("./planning"),It.reset())}function f(){o!=null&&o.editMode&&Dt.deleteActivity(o.activity),It.reset()}function d(g){l.$$.not_equal(o.activity.title,g)&&(o.activity.title=g,n(0,o))}function a(g){l.$$.not_equal(o.activity.dates,g)&&(o.activity.dates=g,n(0,o))}function _(g){l.$$.not_equal(o.activity.times,g)&&(o.activity.times=g,n(0,o))}function c(g){l.$$.not_equal(o.activity.location,g)&&(o.activity.location=g,n(0,o))}function h(g){l.$$.not_equal(o.activity.notifyOnWeather,g)&&(o.activity.notifyOnWeather=g,n(0,o))}function m(g){l.$$.not_equal(o.activity.actitityType,g)&&(o.activity.actitityType=g,n(0,o))}return l.$$.update=()=>{l.$$.dirty&1&&n(2,e=o==null?void 0:o.activity.dates.map(g=>g.toString())),l.$$.dirty&1&&n(1,i=o==null?void 0:o.activity.times.map(({from:g,to:p})=>({from:g.round({smallestUnit:"minute"}).toString(),to:p.round({smallestUnit:"minute"}).toString()})))},[o,i,e,r,u,f,d,a,_,c,h,m]}class Bi extends dt{constructor(t){super(),gt(this,t,Oi,Ai,pt,{})}}function Ve(l){var qt,Ut,Ft,Wt;let t,n,e=l[0].editMode?"Edit":"Create New",i,r,o,u,f,d,a,_,c,h,m,g,p,s,b,$,I,X,R,L,D,V,Z,at,F,U,rt,K,mt,$t,zt;function Jt(k){l[4](k)}let Vt={type:"text",label:"title"};l[0].activity.title!==void 0&&(Vt.value=l[0].activity.title),d=new ht({props:Vt}),ct.push(()=>ut(d,"value",Jt)),c=new ht({props:{type:"date",label:"date",value:l[0].activity.date.toString()}}),c.$on("change",l[5]),m=new ht({props:{type:"time",label:"from",value:(Ut=(qt=l[0])==null?void 0:qt.activity.time)==null?void 0:Ut.from.toString({smallestUnit:"minute"})}}),m.$on("change",l[6]),p=new ht({props:{type:"time",label:"to",value:(Wt=(Ft=l[0])==null?void 0:Ft.activity.time)==null?void 0:Wt.to.toString({smallestUnit:"minute"})}}),p.$on("change",l[7]);function Xt(k){l[8](k)}let Nt={type:"text",placeholder:"Where?",label:"Location"};l[0].activity.location!==void 0&&(Nt.value=l[0].activity.location),$=new ht({props:Nt}),ct.push(()=>ut($,"value",Xt));function Zt(k){l[9](k)}let Mt={grow:!0,label:"Get notified if it will",options:[{title:"Sun",icon:je},{title:"Windy"},{title:"Rain"},{title:"Snow"},{title:"Thunder",icon:Ae}]};l[0].activity.notifyOnWeather!==void 0&&(Mt.value=l[0].activity.notifyOnWeather),R=new Ce({props:Mt}),ct.push(()=>ut(R,"value",Zt));function Kt(k){l[10](k)}let Pt={grow:!0,label:"Activity type",options:[{title:"Work",icon:Oe},{title:"Food"},{title:"Fun"},{title:"Workout"},{title:"Relax"}]};return l[0].activity.actitityType!==void 0&&(Pt.value=l[0].activity.actitityType),V=new Re({props:Pt}),ct.push(()=>ut(V,"value",Kt)),U=new kt({props:{destructive:!0,$$slots:{default:[Ci]},$$scope:{ctx:l}}}),U.$on("click",l[3]),{c(){t=T("form"),n=T("h3"),i=H(e),r=H(" activity"),o=M(),u=T("div"),f=T("div"),A(d.$$.fragment),_=M(),A(c.$$.fragment),h=M(),A(m.$$.fragment),g=M(),A(p.$$.fragment),s=M(),b=T("div"),A($.$$.fragment),X=M(),A(R.$$.fragment),D=M(),A(V.$$.fragment),at=M(),F=T("div"),A(U.$$.fragment),rt=M(),K=T("input"),this.h()},l(k){t=z(k,"FORM",{});var W=N(t);n=z(W,"H3",{class:!0});var st=N(n);i=Y(st,e),r=Y(st," activity"),st.forEach(w),o=P(W),u=z(W,"DIV",{class:!0});var it=N(u);f=z(it,"DIV",{class:!0});var G=N(f);O(d.$$.fragment,G),_=P(G),O(c.$$.fragment,G),h=P(G),O(m.$$.fragment,G),g=P(G),O(p.$$.fragment,G),G.forEach(w),s=P(it),b=z(it,"DIV",{class:!0});var Q=N(b);O($.$$.fragment,Q),X=P(Q),O(R.$$.fragment,Q),D=P(Q),O(V.$$.fragment,Q),Q.forEach(w),it.forEach(w),at=P(W),F=z(W,"DIV",{class:!0});var ot=N(F);O(U.$$.fragment,ot),rt=P(ot),K=z(ot,"INPUT",{class:!0,type:!0}),ot.forEach(w),W.forEach(w),this.h()},h(){S(n,"class","text-xl border-b border-b-black/50 border-solid mb-4 pb-2 capitalize"),S(f,"class","left grow"),S(b,"class","right grow"),S(u,"class","flex gap-4 w-full"),S(K,"class","bg-slate-100 hover:bg-slate-300 transition-colors px-3 py-2 rounded cursor-pointer"),S(K,"type","submit"),K.value="submit",S(F,"class","flex justify-end gap-4")},m(k,W){j(k,t,W),v(t,n),v(n,i),v(n,r),v(t,o),v(t,u),v(u,f),B(d,f,null),v(f,_),B(c,f,null),v(f,h),B(m,f,null),v(f,g),B(p,f,null),v(u,s),v(u,b),B($,b,null),v(b,X),B(R,b,null),v(b,D),B(V,b,null),v(t,at),v(t,F),B(U,F,null),v(F,rt),v(F,K),mt=!0,$t||(zt=[J(K,"click",Ht(l[2])),J(t,"submit",Ht(l[2]))],$t=!0)},p(k,W){var ne,le,re,oe;(!mt||W&1)&&e!==(e=k[0].editMode?"Edit":"Create New")&&nt(i,e);const st={};!a&&W&1&&(a=!0,st.value=k[0].activity.title,ft(()=>a=!1)),d.$set(st);const it={};W&1&&(it.value=k[0].activity.date.toString()),c.$set(it);const G={};W&1&&(G.value=(le=(ne=k[0])==null?void 0:ne.activity.time)==null?void 0:le.from.toString({smallestUnit:"minute"})),m.$set(G);const Q={};W&1&&(Q.value=(oe=(re=k[0])==null?void 0:re.activity.time)==null?void 0:oe.to.toString({smallestUnit:"minute"})),p.$set(Q);const ot={};!I&&W&1&&(I=!0,ot.value=k[0].activity.location,ft(()=>I=!1)),$.$set(ot);const jt={};!L&&W&1&&(L=!0,jt.value=k[0].activity.notifyOnWeather,ft(()=>L=!1)),R.$set(jt);const At={};!Z&&W&1&&(Z=!0,At.value=k[0].activity.actitityType,ft(()=>Z=!1)),V.$set(At);const ie={};W&2049&&(ie.$$scope={dirty:W,ctx:k}),U.$set(ie)},i(k){mt||(y(d.$$.fragment,k),y(c.$$.fragment,k),y(m.$$.fragment,k),y(p.$$.fragment,k),y($.$$.fragment,k),y(R.$$.fragment,k),y(V.$$.fragment,k),y(U.$$.fragment,k),mt=!0)},o(k){E(d.$$.fragment,k),E(c.$$.fragment,k),E(m.$$.fragment,k),E(p.$$.fragment,k),E($.$$.fragment,k),E(R.$$.fragment,k),E(V.$$.fragment,k),E(U.$$.fragment,k),mt=!1},d(k){k&&w(t),C(d),C(c),C(m),C(p),C($),C(R),C(V),C(U),$t=!1,St(zt)}}}function Ci(l){let t=l[0].editMode?"Remove":"Cancel",n;return{c(){n=H(t)},l(e){n=Y(e,t)},m(e,i){j(e,n,i)},p(e,i){i&1&&t!==(t=e[0].editMode?"Remove":"Cancel")&&nt(n,t)},d(e){e&&w(n)}}}function Ri(l){let t,n,e=l[0]&&l[1]&&Ve(l);return{c(){e&&e.c(),t=bt()},l(i){e&&e.l(i),t=bt()},m(i,r){e&&e.m(i,r),j(i,t,r),n=!0},p(i,[r]){i[0]&&i[1]?e?(e.p(i,r),r&3&&y(e,1)):(e=Ve(i),e.c(),y(e,1),e.m(t.parentNode,t)):e&&(tt(),E(e,1,1,()=>{e=null}),et())},i(i){n||(y(e),n=!0)},o(i){E(e),n=!1},d(i){e&&e.d(i),i&&w(t)}}}function Li(l,t,n){let e;Et(l,Ot,m=>n(1,e=m));let i=e;function r(){var m,g;!i||(i.editMode?Tt.updateActivity(i.activity):Tt.add(i.activity,i.activity.date,(m=i.activity.time)==null?void 0:m.from,(g=i.activity.time)==null?void 0:g.to),Ot.reset())}function o(){i!=null&&i.editMode&&Tt.deleteActivity(i.activity),Ot.reset()}function u(m){l.$$.not_equal(i.activity.title,m)&&(i.activity.title=m,n(0,i))}const f=m=>i==null?void 0:i.activity.setDate(m),d=m=>i==null?void 0:i.activity.setFromTime(m),a=m=>i==null?void 0:i.activity.setToTime(m);function _(m){l.$$.not_equal(i.activity.location,m)&&(i.activity.location=m,n(0,i))}function c(m){l.$$.not_equal(i.activity.notifyOnWeather,m)&&(i.activity.notifyOnWeather=m,n(0,i))}function h(m){l.$$.not_equal(i.activity.actitityType,m)&&(i.activity.actitityType=m,n(0,i))}return[i,e,r,o,u,f,d,a,_,c,h]}class qi extends dt{constructor(t){super(),gt(this,t,Li,Ri,pt,{})}}const Fi=()=>{const l=Ye("__svelte__");return{page:{subscribe:l.page.subscribe},navigating:{subscribe:l.navigating.subscribe},get preloading(){return console.error("stores.preloading is deprecated; use stores.navigating instead"),{subscribe:l.navigating.subscribe}},session:l.session,updated:l.updated}},Hi={subscribe(l){return Fi().page.subscribe(l)}};function Ne(l,t,n){const e=l.slice();return e[6]=t[n],e}function Me(l){let t,n,e,i=l[6].title+"",r,o,u,f;return n=new te({props:{src:l[6].icon,size:"16"}}),{c(){t=T("a"),A(n.$$.fragment),e=M(),r=H(i),o=M(),this.h()},l(d){t=z(d,"A",{href:!0,class:!0});var a=N(t);O(n.$$.fragment,a),e=P(a),r=Y(a,i),o=P(a),a.forEach(w),this.h()},h(){S(t,"href",u=Ue+"/"+l[6].url[0]),S(t,"class","flex flex-row items-center justify-start px-2 gap-3 svelte-g314rs"),q(t,"active",l[6].url.includes(l[0].routeId||"upcomming"))},m(d,a){j(d,t,a),B(n,t,null),v(t,e),v(t,r),v(t,o),f=!0},p(d,a){a&9&&q(t,"active",d[6].url.includes(d[0].routeId||"upcomming"))},i(d){f||(y(n.$$.fragment,d),f=!0)},o(d){E(n.$$.fragment,d),f=!1},d(d){d&&w(t),C(n)}}}function Yi(l){let t;return{c(){t=H("Create new event")},l(n){t=Y(n,"Create new event")},m(n,e){j(n,t,e)},d(n){n&&w(t)}}}function Gi(l){let t,n;return t=new Bi({}),{c(){A(t.$$.fragment)},l(e){O(t.$$.fragment,e)},m(e,i){B(t,e,i),n=!0},i(e){n||(y(t.$$.fragment,e),n=!0)},o(e){E(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function Ji(l){let t,n;return t=new qi({}),{c(){A(t.$$.fragment)},l(e){O(t.$$.fragment,e)},m(e,i){B(t,e,i),n=!0},i(e){n||(y(t.$$.fragment,e),n=!0)},o(e){E(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function Xi(l){let t,n,e,i,r,o,u,f,d,a,_,c,h,m,g,p,s,b,$=l[3],I=[];for(let D=0;D<$.length;D+=1)I[D]=Me(Ne(l,$,D));const X=D=>E(I[D],1,1,()=>{I[D]=null});a=new kt({props:{icon:ee,$$slots:{default:[Yi]},$$scope:{ctx:l}}}),a.$on("click",It.new),c=new fi({props:{firstname:"John",lastname:"Doe"}});const R=l[4].default,L=_t(R,l,l[5],null);return g=new de({props:{visible:l[1]!==void 0,$$slots:{default:[Gi]},$$scope:{ctx:l}}}),g.$on("close",It.reset),s=new de({props:{visible:l[2]!==void 0,$$slots:{default:[Ji]},$$scope:{ctx:l}}}),s.$on("close",Ot.reset),{c(){t=T("div"),n=T("nav"),e=T("h1"),i=H("PodPlanner"),r=M(),o=T("div");for(let D=0;D<I.length;D+=1)I[D].c();u=M(),f=T("main"),d=T("div"),A(a.$$.fragment),_=M(),A(c.$$.fragment),h=M(),L&&L.c(),m=M(),A(g.$$.fragment),p=M(),A(s.$$.fragment),this.h()},l(D){t=z(D,"DIV",{class:!0});var V=N(t);n=z(V,"NAV",{class:!0});var Z=N(n);e=z(Z,"H1",{class:!0});var at=N(e);i=Y(at,"PodPlanner"),at.forEach(w),r=P(Z),o=z(Z,"DIV",{class:!0});var F=N(o);for(let K=0;K<I.length;K+=1)I[K].l(F);F.forEach(w),Z.forEach(w),u=P(V),f=z(V,"MAIN",{class:!0});var U=N(f);d=z(U,"DIV",{class:!0});var rt=N(d);O(a.$$.fragment,rt),_=P(rt),O(c.$$.fragment,rt),rt.forEach(w),h=P(U),L&&L.l(U),U.forEach(w),V.forEach(w),m=P(D),O(g.$$.fragment,D),p=P(D),O(s.$$.fragment,D),this.h()},h(){S(e,"class","text-3xl font-bold border-b-2 border-green-700 text-green-700 mb-4"),S(o,"class","flex flex-col gap-2"),S(n,"class","flex-shrink-0 w-64 p-4 border-r border-slate-200 h-[100vh]"),S(d,"class","flex gap-4 justify-end mb-10"),S(f,"class","grow p-5"),S(t,"class","flex")},m(D,V){j(D,t,V),v(t,n),v(n,e),v(e,i),v(n,r),v(n,o);for(let Z=0;Z<I.length;Z+=1)I[Z].m(o,null);v(t,u),v(t,f),v(f,d),B(a,d,null),v(d,_),B(c,d,null),v(f,h),L&&L.m(f,null),j(D,m,V),B(g,D,V),j(D,p,V),B(s,D,V),b=!0},p(D,[V]){if(V&9){$=D[3];let U;for(U=0;U<$.length;U+=1){const rt=Ne(D,$,U);I[U]?(I[U].p(rt,V),y(I[U],1)):(I[U]=Me(rt),I[U].c(),y(I[U],1),I[U].m(o,null))}for(tt(),U=$.length;U<I.length;U+=1)X(U);et()}const Z={};V&32&&(Z.$$scope={dirty:V,ctx:D}),a.$set(Z),L&&L.p&&(!b||V&32)&&vt(L,R,D,D[5],b?yt(R,D[5],V,null):wt(D[5]),null);const at={};V&2&&(at.visible=D[1]!==void 0),V&32&&(at.$$scope={dirty:V,ctx:D}),g.$set(at);const F={};V&4&&(F.visible=D[2]!==void 0),V&32&&(F.$$scope={dirty:V,ctx:D}),s.$set(F)},i(D){if(!b){for(let V=0;V<$.length;V+=1)y(I[V]);y(a.$$.fragment,D),y(c.$$.fragment,D),y(L,D),y(g.$$.fragment,D),y(s.$$.fragment,D),b=!0}},o(D){I=I.filter(Boolean);for(let V=0;V<I.length;V+=1)E(I[V]);E(a.$$.fragment,D),E(c.$$.fragment,D),E(L,D),E(g.$$.fragment,D),E(s.$$.fragment,D),b=!1},d(D){D&&w(t),Lt(I,D),C(a),C(c),L&&L.d(D),D&&w(m),C(g,D),D&&w(p),C(s,D)}}}function Zi(l,t,n){let e,i,r;Et(l,Hi,d=>n(0,e=d)),Et(l,It,d=>n(1,i=d)),Et(l,Ot,d=>n(2,r=d));let{$$slots:o={},$$scope:u}=t;const f=[{title:"Planning view",url:["planning",""],icon:Qt},{title:"Upcomming activities",url:["upcomming"],icon:Qt},{title:"Past activities",url:["past"],icon:Qt}];return l.$$set=d=>{"$$scope"in d&&n(5,u=d.$$scope)},[e,i,r,f,o,u]}class Ki extends dt{constructor(t){super(),gt(this,t,Zi,Xi,pt,{})}}const Ct=Bt.Now.plainDateISO(Be),Le=Ct.add({days:1}),Qi=Ct.add({days:2}),Gt=Bt.Now.plainTimeISO(Be),qe={from:Gt,to:Gt.add({minutes:30})},xi={from:Gt.add({minutes:90}),to:Gt.add({minutes:180})};function tn(){const l=new se("","Test1","Work",new Set(["Windy","Rain"]),"Brussels",[Ct,Le]),t=new se("","Test2","Fun",new Set(["Windy","Rain"]),"Brussels",[Ct,Qi],[qe,xi]);Dt.add(l),Dt.add(t)}function en(){const l=new ce("","Test1","Work",new Set(["Windy","Rain"]),"Brussels",Le),t=new ce("","Test2","Fun",new Set(["Windy","Rain"]),"Brussels",Ct.subtract({days:1}),qe);Tt.add(l),Tt.add(t)}function nn(){const l=ae(Dt),t=ae(Tt);l.length||tn(),t.length||en()}function ln(l){let t,n;return t=new si({}),{c(){A(t.$$.fragment)},l(e){O(t.$$.fragment,e)},m(e,i){B(t,e,i),n=!0},p:lt,i(e){n||(y(t.$$.fragment,e),n=!0)},o(e){E(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function rn(l){let t,n;return t=new Ki({props:{$$slots:{default:[an]},$$scope:{ctx:l}}}),{c(){A(t.$$.fragment)},l(e){O(t.$$.fragment,e)},m(e,i){B(t,e,i),n=!0},p(e,i){const r={};i&4&&(r.$$scope={dirty:i,ctx:e}),t.$set(r)},i(e){n||(y(t.$$.fragment,e),n=!0)},o(e){E(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function on(l){let t,n,e;return{c(){t=T("div"),n=T("img"),this.h()},l(i){t=z(i,"DIV",{class:!0});var r=N(t);n=z(r,"IMG",{class:!0,src:!0,alt:!0,height:!0}),r.forEach(w),this.h()},h(){S(n,"class","h-80 rounded-lg"),Ge(n.src,e=Ue+"/loading.gif")||S(n,"src",e),S(n,"alt","loading"),S(n,"height","400"),S(t,"class","w-full h-[100vh] flex items-center justify-center antialiased")},m(i,r){j(i,t,r),v(t,n)},p:lt,i:lt,o:lt,d(i){i&&w(t)}}}function an(l){let t;const n=l[1].default,e=_t(n,l,l[2],null);return{c(){e&&e.c()},l(i){e&&e.l(i)},m(i,r){e&&e.m(i,r),t=!0},p(i,r){e&&e.p&&(!t||r&4)&&vt(e,n,i,i[2],t?yt(n,i[2],r,null):wt(i[2]),null)},i(i){t||(y(e,i),t=!0)},o(i){E(e,i),t=!1},d(i){e&&e.d(i)}}}function sn(l){let t,n,e,i;const r=[on,rn,ln],o=[];function u(f,d){return f[0].loading?0:f[0].userSession.isLoggedIn?1:2}return t=u(l),n=o[t]=r[t](l),{c(){n.c(),e=bt()},l(f){n.l(f),e=bt()},m(f,d){o[t].m(f,d),j(f,e,d),i=!0},p(f,[d]){let a=t;t=u(f),t===a?o[t].p(f,d):(tt(),E(o[a],1,1,()=>{o[a]=null}),et(),n=o[t],n?n.p(f,d):(n=o[t]=r[t](f),n.c()),y(n,1),n.m(e.parentNode,e))},i(f){i||(y(n),i=!0)},o(f){E(n),i=!1},d(f){o[t].d(f),f&&w(e)}}}function cn(l,t,n){let e;Et(l,Yt,o=>n(0,e=o));let{$$slots:i={},$$scope:r}=t;return Pe(()=>{Yt.init(),window.setupActivities=nn}),l.$$set=o=>{"$$scope"in o&&n(2,r=o.$$scope)},[e,i,r]}class _n extends dt{constructor(t){super(),gt(this,t,cn,sn,pt,{})}}export{_n as default};
