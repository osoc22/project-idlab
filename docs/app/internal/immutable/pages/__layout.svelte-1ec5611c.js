import{I as at,S as pe,i as ge,s as me,e as D,k as N,t as J,c as T,a as V,d as y,m as M,h as Z,b as $,J as R,g as j,K as v,n as ee,o as E,p as te,q as w,j as se,L as Re,M as He,E as oe,N as ve,O as we,P as ye,Q as ke,R as x,T as K,G as Se,U as ue,V as fe,w as A,x as B,y as C,W as de,B as O,v as Pt,X as Ft,l as _e,Y as Ht,Z as Le,_ as Ye,$ as Ie,a0 as Yt,a1 as Gt}from"../chunks/index-d2039bb9.js";import{b as Ut}from"../chunks/singletons-bd1dfc1a.js";import{t as Ce,T as Wt,U as st,u as Ee,P as ct,p as De,a as Xt,m as Te,b as Be}from"../chunks/calendarEvents-88bbb540.js";import{B as $e,I as et}from"../chunks/Button-f4d5fd62.js";import{u as xe,t as Jt}from"../chunks/userStore-e7ac3b88.js";import{T as jt,P as tt,S as At,L as Bt,B as Ct,C as Qe}from"../chunks/index-dd833d83.js";import{g as Zt}from"../chunks/navigation-3ebc45bc.js";import"../chunks/preload-helper-ed63bd61.js";import"../chunks/index-ae43794d.js";const Oe=Ce.Now.plainDateISO(Wt),Ot=Oe.add({days:1}),Kt=Oe.add({days:2}),Ge=Ce.Now.plainTimeISO(Wt),Rt={from:Ge,to:Ge.add({minutes:30})},Qt={from:Ge.add({minutes:90}),to:Ge.add({minutes:180})};function xt(){const l=new st("Test1","Work",new Set(["Windy","Rain"]),"Brussels",[Oe,Ot]),e=new st("Test2","Fun",new Set(["Windy","Rain"]),"Brussels",[Oe,Kt],[Rt,Qt]);Ee.add(l),Ee.add(e)}function ei(){const l=new ct("Test1","Work",new Set(["Windy","Rain"]),"Brussels",Ot),e=new ct("Test2","Fun",new Set(["Windy","Rain"]),"Brussels",Oe.subtract({days:1}),Rt);De.add(l),De.add(e)}function ti(){const l=at(Ee),e=at(De);l.length||xt(),e.length||ei()}const ii=l=>({}),ut=l=>({});function ni(l){let e;return{c(){e=J(l[1])},l(n){e=Z(n,l[1])},m(n,t){j(n,e,t)},p(n,t){t&2&&se(e,n[1])},i:oe,o:oe,d(n){n&&y(e)}}}function li(l){let e;const n=l[8].label,t=ve(n,l,l[7],ut);return{c(){t&&t.c()},l(i){t&&t.l(i)},m(i,r){t&&t.m(i,r),e=!0},p(i,r){t&&t.p&&(!e||r&128)&&we(t,n,i,i[7],e?ke(n,i[7],r,ii):ye(i[7]),ut)},i(i){e||(w(t,i),e=!0)},o(i){E(t,i),e=!1},d(i){t&&t.d(i)}}}function ri(l){let e,n,t,i;return{c(){e=D("input"),this.h()},l(r){e=T(r,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0}),this.h()},h(){$(e,"id",l[5]),$(e,"class","rounded-md p-2 w-full bg-slate-100 hover:ring transition-all"),$(e,"type","text"),$(e,"placeholder",n=l[2]||l[1]),R(e,"ring",l[3]),R(e,"ring-red-500",l[3])},m(r,o){j(r,e,o),x(e,l[0]),t||(i=K(e,"input",l[13]),t=!0)},p(r,o){o&6&&n!==(n=r[2]||r[1])&&$(e,"placeholder",n),o&1&&e.value!==r[0]&&x(e,r[0]),o&8&&R(e,"ring",r[3]),o&8&&R(e,"ring-red-500",r[3])},d(r){r&&y(e),t=!1,i()}}}function oi(l){let e,n,t,i;return{c(){e=D("input"),this.h()},l(r){e=T(r,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0}),this.h()},h(){$(e,"id",l[5]),$(e,"class","rounded-md p-2 w-full bg-slate-100 hover:ring transition-all"),$(e,"type","time"),$(e,"placeholder",n=l[2]||l[1]),R(e,"ring",l[3]),R(e,"ring-red-500",l[3])},m(r,o){j(r,e,o),x(e,l[0]),t||(i=[K(e,"input",l[12]),K(e,"change",l[10])],t=!0)},p(r,o){o&6&&n!==(n=r[2]||r[1])&&$(e,"placeholder",n),o&1&&x(e,r[0]),o&8&&R(e,"ring",r[3]),o&8&&R(e,"ring-red-500",r[3])},d(r){r&&y(e),t=!1,Se(i)}}}function ai(l){let e,n,t,i;return{c(){e=D("input"),this.h()},l(r){e=T(r,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0}),this.h()},h(){$(e,"id",l[5]),$(e,"class","rounded-md p-2 w-full bg-slate-100 hover:ring transition-all"),$(e,"type","date"),$(e,"placeholder",n=l[2]||l[1]),R(e,"ring",l[3]),R(e,"ring-red-500",l[3])},m(r,o){j(r,e,o),x(e,l[0]),t||(i=[K(e,"input",l[11]),K(e,"change",l[9])],t=!0)},p(r,o){o&6&&n!==(n=r[2]||r[1])&&$(e,"placeholder",n),o&1&&x(e,r[0]),o&8&&R(e,"ring",r[3]),o&8&&R(e,"ring-red-500",r[3])},d(r){r&&y(e),t=!1,Se(i)}}}function si(l){let e,n,t,i,r,o,s,d,u;const a=[li,ni],_=[];function c(p,f){return p[6].label?0:p[1]?1:-1}~(t=c(l))&&(i=_[t]=a[t](l));function h(p,f){return p[4]=="date"?ai:p[4]=="time"?oi:ri}let m=h(l),g=m(l);return{c(){e=D("label"),n=D("div"),i&&i.c(),r=N(),g.c(),o=N(),s=D("div"),d=J(l[3]),this.h()},l(p){e=T(p,"LABEL",{class:!0,for:!0});var f=V(e);n=T(f,"DIV",{class:!0});var b=V(n);i&&i.l(b),b.forEach(y),r=M(f),g.l(f),o=M(f),s=T(f,"DIV",{class:!0});var S=V(s);d=Z(S,l[3]),S.forEach(y),f.forEach(y),this.h()},h(){$(n,"class","mx-1 mb-px text-sm capitalize"),$(s,"class","text-sm h-2 text-red-700 "),R(s,"opacity-0",!l[3]),$(e,"class","my-4 block"),$(e,"for",l[5])},m(p,f){j(p,e,f),v(e,n),~t&&_[t].m(n,null),v(e,r),g.m(e,null),v(e,o),v(e,s),v(s,d),u=!0},p(p,[f]){let b=t;t=c(p),t===b?~t&&_[t].p(p,f):(i&&(ee(),E(_[b],1,1,()=>{_[b]=null}),te()),~t?(i=_[t],i?i.p(p,f):(i=_[t]=a[t](p),i.c()),w(i,1),i.m(n,null)):i=null),m===(m=h(p))&&g?g.p(p,f):(g.d(1),g=m(p),g&&(g.c(),g.m(e,o))),(!u||f&8)&&se(d,p[3]),f&8&&R(s,"opacity-0",!p[3])},i(p){u||(w(i),u=!0)},o(p){E(i),u=!1},d(p){p&&y(e),~t&&_[t].d(),g.d()}}}function ci(l,e,n){let{$$slots:t={},$$scope:i}=e;const r=Re(t);let{label:o=""}=e,{placeholder:s=""}=e,{error:d=""}=e,{value:u=""}=e,{type:a="text"}=e,_=Xt();function c(f){He.call(this,l,f)}function h(f){He.call(this,l,f)}function m(){u=this.value,n(0,u)}function g(){u=this.value,n(0,u)}function p(){u=this.value,n(0,u)}return l.$$set=f=>{"label"in f&&n(1,o=f.label),"placeholder"in f&&n(2,s=f.placeholder),"error"in f&&n(3,d=f.error),"value"in f&&n(0,u=f.value),"type"in f&&n(4,a=f.type),"$$scope"in f&&n(7,i=f.$$scope)},[u,o,s,d,a,_,r,i,t,c,h,m,g,p]}class be extends pe{constructor(e){super(),ge(this,e,ci,si,me,{label:1,placeholder:2,error:3,value:0,type:4})}}function ui(l){let e;return{c(){e=J("Login with pod")},l(n){e=Z(n,"Login with pod")},m(n,t){j(n,e,t)},d(n){n&&y(e)}}}function fi(l){let e,n,t,i,r,o,s,d,u,a,_,c;function h(f){l[4](f)}let m={label:"pod url",error:l[1]};l[0]!==void 0&&(m.value=l[0]),r=new be({props:m}),ue.push(()=>fe(r,"value",h));function g(f){l[5](f)}let p={label:"Storage location"};return l[2]!==void 0&&(p.value=l[2]),d=new be({props:p}),ue.push(()=>fe(d,"value",g)),_=new $e({props:{focused:!0,$$slots:{default:[ui]},$$scope:{ctx:l}}}),_.$on("click",l[3]),{c(){e=D("div"),n=D("h1"),t=J("Welcome to the pod"),i=N(),A(r.$$.fragment),s=N(),A(d.$$.fragment),a=N(),A(_.$$.fragment),this.h()},l(f){e=T(f,"DIV",{class:!0});var b=V(e);n=T(b,"H1",{class:!0});var S=V(n);t=Z(S,"Welcome to the pod"),S.forEach(y),i=M(b),B(r.$$.fragment,b),s=M(b),B(d.$$.fragment,b),a=M(b),B(_.$$.fragment,b),b.forEach(y),this.h()},h(){$(n,"class","text-2xl"),$(e,"class","max-w-lg my-16 mx-auto")},m(f,b){j(f,e,b),v(e,n),v(n,t),v(e,i),C(r,e,null),v(e,s),C(d,e,null),v(e,a),C(_,e,null),c=!0},p(f,[b]){const S={};b&2&&(S.error=f[1]),!o&&b&1&&(o=!0,S.value=f[0],de(()=>o=!1)),r.$set(S);const z={};!u&&b&4&&(u=!0,z.value=f[2],de(()=>u=!1)),d.$set(z);const W={};b&128&&(W.$$scope={dirty:b,ctx:f}),_.$set(W)},i(f){c||(w(r.$$.fragment,f),w(d.$$.fragment,f),w(_.$$.fragment,f),c=!0)},o(f){E(r.$$.fragment,f),E(d.$$.fragment,f),E(_.$$.fragment,f),c=!1},d(f){f&&y(e),O(r),O(d),O(_)}}}function di(l,e,n){let t,i="http://localhost:3000",r="",o="http://localhost:3000/johndoe";async function s(){try{xe.signIn(i,o,t)}catch(a){n(1,r=Jt(a).message)}}Pt(async()=>{t=window.location.href,n(0,i=localStorage.getItem("podUrl")||"http://localhost:3000"),n(2,o=localStorage.getItem("storageLocation")||"http://localhost:3000/johndoe")});function d(a){i=a,n(0,i)}function u(a){o=a,n(2,o)}return[i,r,o,s,d,u]}class pi extends pe{constructor(e){super(),ge(this,e,di,fi,me,{})}}function gi(l){let e,n,t=l[0][0]+"",i,r,o=l[1][l[1].length-1][0]+"",s,d,u;return{c(){e=D("div"),n=D("span"),i=J(t),r=N(),s=J(o),this.h()},l(a){e=T(a,"DIV",{class:!0});var _=V(e);n=T(_,"SPAN",{class:!0});var c=V(n);i=Z(c,t),r=M(c),s=Z(c,o),c.forEach(y),_.forEach(y),this.h()},h(){$(n,"class","w-full text-center"),$(e,"class","rounded-full bg-green-600 text-green-100 h-12 w-12 flex items-center cursor-pointer")},m(a,_){j(a,e,_),v(e,n),v(n,i),v(n,r),v(n,s),d||(u=K(e,"click",l[3]),d=!0)},p(a,[_]){_&1&&t!==(t=a[0][0]+"")&&se(i,t),_&2&&o!==(o=a[1][a[1].length-1][0]+"")&&se(s,o)},i:oe,o:oe,d(a){a&&y(e),d=!1,u()}}}function mi(l,e,n){let t,{firstname:i}=e,{lastname:r}=e;function o(s){He.call(this,l,s)}return l.$$set=s=>{"firstname"in s&&n(0,i=s.firstname),"lastname"in s&&n(2,r=s.lastname)},l.$$.update=()=>{l.$$.dirty&4&&n(1,t=r.split(" "))},[i,t,r,o]}class hi extends pe{constructor(e){super(),ge(this,e,mi,gi,me,{firstname:0,lastname:2})}}function ft(l){let e,n,t,i,r;const o=l[3].default,s=ve(o,l,l[2],null);return{c(){e=D("div"),n=D("div"),s&&s.c(),this.h()},l(d){e=T(d,"DIV",{class:!0});var u=V(e);n=T(u,"DIV",{class:!0});var a=V(n);s&&s.l(a),a.forEach(y),u.forEach(y),this.h()},h(){$(n,"class","fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-3xl bg-white z-20 p-4 rounded-lg"),$(e,"class","fixed top-0 left-0 w-full h-[100%] bg-slate-900/30 z-10 cursor-pointer")},m(d,u){j(d,e,u),v(e,n),s&&s.m(n,null),t=!0,i||(r=[K(n,"click",Ft(l[4])),K(e,"click",l[1])],i=!0)},p(d,u){s&&s.p&&(!t||u&4)&&we(s,o,d,d[2],t?ke(o,d[2],u,null):ye(d[2]),null)},i(d){t||(w(s,d),t=!0)},o(d){E(s,d),t=!1},d(d){d&&y(e),s&&s.d(d),i=!1,Se(r)}}}function bi(l){let e,n,t=l[0]&&ft(l);return{c(){t&&t.c(),e=_e()},l(i){t&&t.l(i),e=_e()},m(i,r){t&&t.m(i,r),j(i,e,r),n=!0},p(i,[r]){i[0]?t?(t.p(i,r),r&1&&w(t,1)):(t=ft(i),t.c(),w(t,1),t.m(e.parentNode,e)):t&&(ee(),E(t,1,1,()=>{t=null}),te())},i(i){n||(w(t),n=!0)},o(i){E(t),n=!1},d(i){t&&t.d(i),i&&y(e)}}}function _i(l,e,n){let{$$slots:t={},$$scope:i}=e,{visible:r=!1}=e;const o=Ht();function s(){o("close"),n(0,r=!1)}function d(u){He.call(this,l,u)}return l.$$set=u=>{"visible"in u&&n(0,r=u.visible),"$$scope"in u&&n(2,i=u.$$scope)},[r,s,i,t,d]}class dt extends pe{constructor(e){super(),ge(this,e,_i,bi,me,{visible:0})}}function pt(l,e,n){const t=l.slice();return t[9]=e[n],t}const vi=l=>({}),gt=l=>({});function wi(l){let e;return{c(){e=J(l[2])},l(n){e=Z(n,l[2])},m(n,t){j(n,e,t)},p(n,t){t&4&&se(e,n[2])},i:oe,o:oe,d(n){n&&y(e)}}}function yi(l){let e;const n=l[7].label,t=ve(n,l,l[6],gt);return{c(){t&&t.c()},l(i){t&&t.l(i)},m(i,r){t&&t.m(i,r),e=!0},p(i,r){t&&t.p&&(!e||r&64)&&we(t,n,i,i[6],e?ke(n,i[6],r,vi):ye(i[6]),gt)},i(i){e||(w(t,i),e=!0)},o(i){E(t,i),e=!1},d(i){t&&t.d(i)}}}function mt(l){let e,n;return e=new et({props:{src:l[9].icon,size:"16"}}),{c(){A(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&2&&(r.src=t[9].icon),e.$set(r)},i(t){n||(w(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function ht(l){let e,n,t,i=l[9].title+"",r,o,s,d,u,a=l[9].icon&&mt(l);function _(){return l[8](l[9])}return{c(){e=D("div"),a&&a.c(),n=N(),t=D("div"),r=J(i),o=N(),this.h()},l(c){e=T(c,"DIV",{class:!0});var h=V(e);a&&a.l(h),n=M(h),t=T(h,"DIV",{});var m=V(t);r=Z(m,i),m.forEach(y),o=M(h),h.forEach(y),this.h()},h(){R(t,"text-sm",l[9].icon),$(e,"class","px-3 py-2 rounded bg-blue-50 text-blue-700 flex flex-col items-center justify-center svelte-1mwawgl"),R(e,"active",l[0].has(l[9].title)),R(e,"grow",l[3])},m(c,h){j(c,e,h),a&&a.m(e,null),v(e,n),v(e,t),v(t,r),v(e,o),s=!0,d||(u=K(e,"click",_),d=!0)},p(c,h){l=c,l[9].icon?a?(a.p(l,h),h&2&&w(a,1)):(a=mt(l),a.c(),w(a,1),a.m(e,n)):a&&(ee(),E(a,1,1,()=>{a=null}),te()),(!s||h&2)&&i!==(i=l[9].title+"")&&se(r,i),h&2&&R(t,"text-sm",l[9].icon),h&3&&R(e,"active",l[0].has(l[9].title)),h&8&&R(e,"grow",l[3])},i(c){s||(w(a),s=!0)},o(c){E(a),s=!1},d(c){c&&y(e),a&&a.d(),d=!1,u()}}}function ki(l){let e,n,t,i,r,o,s;const d=[yi,wi],u=[];function a(m,g){return m[5].label?0:m[2]?1:-1}~(t=a(l))&&(i=u[t]=d[t](l));let _=l[1],c=[];for(let m=0;m<_.length;m+=1)c[m]=ht(pt(l,_,m));const h=m=>E(c[m],1,1,()=>{c[m]=null});return{c(){e=D("div"),n=D("div"),i&&i.c(),r=N(),o=D("div");for(let m=0;m<c.length;m+=1)c[m].c();this.h()},l(m){e=T(m,"DIV",{class:!0});var g=V(e);n=T(g,"DIV",{class:!0});var p=V(n);i&&i.l(p),p.forEach(y),r=M(g),o=T(g,"DIV",{class:!0});var f=V(o);for(let b=0;b<c.length;b+=1)c[b].l(f);f.forEach(y),g.forEach(y),this.h()},h(){$(n,"class","mx-1 mb-px text-sm"),$(o,"class","flex gap-2"),$(e,"class","my-4 block box-border")},m(m,g){j(m,e,g),v(e,n),~t&&u[t].m(n,null),v(e,r),v(e,o);for(let p=0;p<c.length;p+=1)c[p].m(o,null);s=!0},p(m,[g]){let p=t;if(t=a(m),t===p?~t&&u[t].p(m,g):(i&&(ee(),E(u[p],1,1,()=>{u[p]=null}),te()),~t?(i=u[t],i?i.p(m,g):(i=u[t]=d[t](m),i.c()),w(i,1),i.m(n,null)):i=null),g&27){_=m[1];let f;for(f=0;f<_.length;f+=1){const b=pt(m,_,f);c[f]?(c[f].p(b,g),w(c[f],1)):(c[f]=ht(b),c[f].c(),w(c[f],1),c[f].m(o,null))}for(ee(),f=_.length;f<c.length;f+=1)h(f);te()}},i(m){if(!s){w(i);for(let g=0;g<_.length;g+=1)w(c[g]);s=!0}},o(m){E(i),c=c.filter(Boolean);for(let g=0;g<c.length;g+=1)E(c[g]);s=!1},d(m){m&&y(e),~t&&u[t].d(),Le(c,m)}}}function $i(l,e,n){let{$$slots:t={},$$scope:i}=e;const r=Re(t);let{value:o=new Set([])}=e,{options:s=[]}=e,{label:d=""}=e,{grow:u=!1}=e;function a(c){o.has(c.title)?(o.delete(c.title),n(0,o=new Set(o))):(o.add(c.title),n(0,o=new Set(o)))}const _=c=>a(c);return l.$$set=c=>{"value"in c&&n(0,o=c.value),"options"in c&&n(1,s=c.options),"label"in c&&n(2,d=c.label),"grow"in c&&n(3,u=c.grow),"$$scope"in c&&n(6,i=c.$$scope)},[o,s,d,u,a,r,i,t,_]}class Lt extends pe{constructor(e){super(),ge(this,e,$i,ki,me,{value:0,options:1,label:2,grow:3})}}function bt(l,e,n){const t=l.slice();return t[9]=e[n],t}const Si=l=>({}),_t=l=>({});function Ii(l){let e;return{c(){e=J(l[2])},l(n){e=Z(n,l[2])},m(n,t){j(n,e,t)},p(n,t){t&4&&se(e,n[2])},i:oe,o:oe,d(n){n&&y(e)}}}function Ei(l){let e;const n=l[7].label,t=ve(n,l,l[6],_t);return{c(){t&&t.c()},l(i){t&&t.l(i)},m(i,r){t&&t.m(i,r),e=!0},p(i,r){t&&t.p&&(!e||r&64)&&we(t,n,i,i[6],e?ke(n,i[6],r,Si):ye(i[6]),_t)},i(i){e||(w(t,i),e=!0)},o(i){E(t,i),e=!1},d(i){t&&t.d(i)}}}function vt(l){let e,n;return e=new et({props:{src:l[9].icon,size:"16"}}),{c(){A(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&2&&(r.src=t[9].icon),e.$set(r)},i(t){n||(w(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function wt(l){let e,n,t,i=l[9].title+"",r,o,s,d,u,a=l[9].icon&&vt(l);function _(){return l[8](l[9])}return{c(){e=D("div"),a&&a.c(),n=N(),t=D("div"),r=J(i),o=N(),this.h()},l(c){e=T(c,"DIV",{class:!0});var h=V(e);a&&a.l(h),n=M(h),t=T(h,"DIV",{});var m=V(t);r=Z(m,i),m.forEach(y),o=M(h),h.forEach(y),this.h()},h(){R(t,"text-sm",l[9].icon),$(e,"class","px-3 py-2 rounded bg-blue-50 text-blue-700 flex flex-col items-center justify-center svelte-1mwawgl"),R(e,"active",l[0]==l[9].title),R(e,"grow",l[3])},m(c,h){j(c,e,h),a&&a.m(e,null),v(e,n),v(e,t),v(t,r),v(e,o),s=!0,d||(u=K(e,"click",_),d=!0)},p(c,h){l=c,l[9].icon?a?(a.p(l,h),h&2&&w(a,1)):(a=vt(l),a.c(),w(a,1),a.m(e,n)):a&&(ee(),E(a,1,1,()=>{a=null}),te()),(!s||h&2)&&i!==(i=l[9].title+"")&&se(r,i),h&2&&R(t,"text-sm",l[9].icon),h&3&&R(e,"active",l[0]==l[9].title),h&8&&R(e,"grow",l[3])},i(c){s||(w(a),s=!0)},o(c){E(a),s=!1},d(c){c&&y(e),a&&a.d(),d=!1,u()}}}function Di(l){let e,n,t,i,r,o,s;const d=[Ei,Ii],u=[];function a(m,g){return m[5].label?0:m[2]?1:-1}~(t=a(l))&&(i=u[t]=d[t](l));let _=l[1],c=[];for(let m=0;m<_.length;m+=1)c[m]=wt(bt(l,_,m));const h=m=>E(c[m],1,1,()=>{c[m]=null});return{c(){e=D("div"),n=D("div"),i&&i.c(),r=N(),o=D("div");for(let m=0;m<c.length;m+=1)c[m].c();this.h()},l(m){e=T(m,"DIV",{class:!0});var g=V(e);n=T(g,"DIV",{class:!0});var p=V(n);i&&i.l(p),p.forEach(y),r=M(g),o=T(g,"DIV",{class:!0});var f=V(o);for(let b=0;b<c.length;b+=1)c[b].l(f);f.forEach(y),g.forEach(y),this.h()},h(){$(n,"class","mx-1 mb-px text-sm"),$(o,"class","flex gap-2"),$(e,"class","my-4 block box-border")},m(m,g){j(m,e,g),v(e,n),~t&&u[t].m(n,null),v(e,r),v(e,o);for(let p=0;p<c.length;p+=1)c[p].m(o,null);s=!0},p(m,[g]){let p=t;if(t=a(m),t===p?~t&&u[t].p(m,g):(i&&(ee(),E(u[p],1,1,()=>{u[p]=null}),te()),~t?(i=u[t],i?i.p(m,g):(i=u[t]=d[t](m),i.c()),w(i,1),i.m(n,null)):i=null),g&27){_=m[1];let f;for(f=0;f<_.length;f+=1){const b=bt(m,_,f);c[f]?(c[f].p(b,g),w(c[f],1)):(c[f]=wt(b),c[f].c(),w(c[f],1),c[f].m(o,null))}for(ee(),f=_.length;f<c.length;f+=1)h(f);te()}},i(m){if(!s){w(i);for(let g=0;g<_.length;g+=1)w(c[g]);s=!0}},o(m){E(i),c=c.filter(Boolean);for(let g=0;g<c.length;g+=1)E(c[g]);s=!1},d(m){m&&y(e),~t&&u[t].d(),Le(c,m)}}}function Ti(l,e,n){let{$$slots:t={},$$scope:i}=e;const r=Re(t);let{options:o=[]}=e,{value:s=o[0].title}=e,{label:d=""}=e,{grow:u=!1}=e;const a=c=>n(0,s=c.title),_=c=>a(c);return l.$$set=c=>{"options"in c&&n(1,o=c.options),"value"in c&&n(0,s=c.value),"label"in c&&n(2,d=c.label),"grow"in c&&n(3,u=c.grow),"$$scope"in c&&n(6,i=c.$$scope)},[s,o,d,u,a,r,i,t,_]}class qt extends pe{constructor(e){super(),ge(this,e,Ti,Di,me,{options:1,value:0,label:2,grow:3})}}function yt(l,e,n){const t=l.slice();return t[15]=e[n],t[16]=e,t[17]=n,t}const zi=l=>({}),kt=l=>({});function Vi(l){let e;return{c(){e=J(l[1])},l(n){e=Z(n,l[1])},m(n,t){j(n,e,t)},p(n,t){t&2&&se(e,n[1])},i:oe,o:oe,d(n){n&&y(e)}}}function Ni(l){let e;const n=l[9].label,t=ve(n,l,l[8],kt);return{c(){t&&t.c()},l(i){t&&t.l(i)},m(i,r){t&&t.m(i,r),e=!0},p(i,r){t&&t.p&&(!e||r&256)&&we(t,n,i,i[8],e?ke(n,i[8],r,zi):ye(i[8]),kt)},i(i){e||(w(t,i),e=!0)},o(i){E(t,i),e=!1},d(i){t&&t.d(i)}}}function $t(l){let e,n,t,i,r,o,s;function d(){l[10].call(n,l[17])}function u(){return l[11](l[17])}return i=new $e({props:{destructive:!0,icon:jt}}),i.$on("click",u),{c(){e=D("div"),n=D("input"),t=N(),A(i.$$.fragment),this.h()},l(a){e=T(a,"DIV",{class:!0});var _=V(e);n=T(_,"INPUT",{class:!0,type:!0}),t=M(_),B(i.$$.fragment,_),_.forEach(y),this.h()},h(){$(n,"class","w-full"),$(n,"type","date"),$(e,"class","flex gap-2")},m(a,_){j(a,e,_),v(e,n),x(n,l[0][l[17]]),v(e,t),C(i,e,null),r=!0,o||(s=K(n,"input",d),o=!0)},p(a,_){l=a,_&1&&x(n,l[0][l[17]])},i(a){r||(w(i.$$.fragment,a),r=!0)},o(a){E(i.$$.fragment,a),r=!1},d(a){a&&y(e),O(i),o=!1,s()}}}function St(l){let e,n,t,i,r,o,s;return i=new $e({props:{icon:tt}}),i.$on("click",l[4]),{c(){e=D("div"),n=D("input"),t=N(),A(i.$$.fragment),this.h()},l(d){e=T(d,"DIV",{class:!0});var u=V(e);n=T(u,"INPUT",{class:!0,type:!0}),t=M(u),B(i.$$.fragment,u),u.forEach(y),this.h()},h(){$(n,"class","w-full"),$(n,"type","date"),$(e,"class","newDate flex gap-2")},m(d,u){j(d,e,u),v(e,n),x(n,l[3]),v(e,t),C(i,e,null),r=!0,o||(s=K(n,"input",l[12]),o=!0)},p(d,u){u&8&&x(n,d[3])},i(d){r||(w(i.$$.fragment,d),r=!0)},o(d){E(i.$$.fragment,d),r=!1},d(d){d&&y(e),O(i),o=!1,s()}}}function Mi(l){let e,n,t,i,r,o,s,d;const u=[Ni,Vi],a=[];function _(p,f){return p[6].label?0:p[1]?1:-1}~(t=_(l))&&(i=a[t]=u[t](l));let c=l[0],h=[];for(let p=0;p<c.length;p+=1)h[p]=$t(yt(l,c,p));const m=p=>E(h[p],1,1,()=>{h[p]=null});let g=(l[2]==-1||l[0].length<l[2])&&St(l);return{c(){e=D("div"),n=D("div"),i&&i.c(),r=N(),o=D("div");for(let p=0;p<h.length;p+=1)h[p].c();s=N(),g&&g.c(),this.h()},l(p){e=T(p,"DIV",{class:!0});var f=V(e);n=T(f,"DIV",{class:!0});var b=V(n);i&&i.l(b),b.forEach(y),r=M(f),o=T(f,"DIV",{class:!0});var S=V(o);for(let z=0;z<h.length;z+=1)h[z].l(S);s=M(S),g&&g.l(S),S.forEach(y),f.forEach(y),this.h()},h(){$(n,"class","mx-1 mb-px text-sm"),$(o,"class","dates flex flex-col gap-4"),$(e,"class","pb-3")},m(p,f){j(p,e,f),v(e,n),~t&&a[t].m(n,null),v(e,r),v(e,o);for(let b=0;b<h.length;b+=1)h[b].m(o,null);v(o,s),g&&g.m(o,null),d=!0},p(p,[f]){let b=t;if(t=_(p),t===b?~t&&a[t].p(p,f):(i&&(ee(),E(a[b],1,1,()=>{a[b]=null}),te()),~t?(i=a[t],i?i.p(p,f):(i=a[t]=u[t](p),i.c()),w(i,1),i.m(n,null)):i=null),f&33){c=p[0];let S;for(S=0;S<c.length;S+=1){const z=yt(p,c,S);h[S]?(h[S].p(z,f),w(h[S],1)):(h[S]=$t(z),h[S].c(),w(h[S],1),h[S].m(o,s))}for(ee(),S=c.length;S<h.length;S+=1)m(S);te()}p[2]==-1||p[0].length<p[2]?g?(g.p(p,f),f&5&&w(g,1)):(g=St(p),g.c(),w(g,1),g.m(o,null)):g&&(ee(),E(g,1,1,()=>{g=null}),te())},i(p){if(!d){w(i);for(let f=0;f<c.length;f+=1)w(h[f]);w(g),d=!0}},o(p){E(i),h=h.filter(Boolean);for(let f=0;f<h.length;f+=1)E(h[f]);E(g),d=!1},d(p){p&&y(e),~t&&a[t].d(),Le(h,p),g&&g.d()}}}function Pi(l,e,n){let{$$slots:t={},$$scope:i}=e;const r=Re(t);let{dates:o=[]}=e,{dateStrings:s=[]}=e,{label:d=""}=e,{maxDates:u=5}=e,a="",_="";function c(){!a||(n(0,s=[...s,a]),s.sort(),n(3,a=""))}function h(b){n(0,s=[...s.slice(0,b),...s.slice(b+1)])}function m(){s.toString()!=_&&(n(0,s=s.filter(b=>b!="")),n(7,o=s.map(b=>Ce.PlainDate.from(b))),_=s.toString())}function g(b){s[b]=this.value,n(0,s)}const p=b=>h(b);function f(){a=this.value,n(3,a)}return l.$$set=b=>{"dates"in b&&n(7,o=b.dates),"dateStrings"in b&&n(0,s=b.dateStrings),"label"in b&&n(1,d=b.label),"maxDates"in b&&n(2,u=b.maxDates),"$$scope"in b&&n(8,i=b.$$scope)},l.$$.update=()=>{l.$$.dirty&1&&s&&m()},[s,d,u,a,c,h,r,o,i,t,g,p,f]}class Ui extends pe{constructor(e){super(),ge(this,e,Pi,Mi,me,{dates:7,dateStrings:0,label:1,maxDates:2})}}function It(l,e,n){const t=l.slice();return t[17]=e[n],t[18]=e,t[19]=n,t}const Wi=l=>({}),Et=l=>({});function ji(l){let e;return{c(){e=J(l[1])},l(n){e=Z(n,l[1])},m(n,t){j(n,e,t)},p(n,t){t&2&&se(e,n[1])},i:oe,o:oe,d(n){n&&y(e)}}}function Ai(l){let e;const n=l[9].label,t=ve(n,l,l[8],Et);return{c(){t&&t.c()},l(i){t&&t.l(i)},m(i,r){t&&t.m(i,r),e=!0},p(i,r){t&&t.p&&(!e||r&256)&&we(t,n,i,i[8],e?ke(n,i[8],r,Wi):ye(i[8]),Et)},i(i){e||(w(t,i),e=!0)},o(i){E(t,i),e=!1},d(i){t&&t.d(i)}}}function Dt(l){let e,n,t,i,r,o,s,d,u;function a(){l[10].call(n,l[19])}function _(){l[11].call(i,l[19])}function c(){return l[12](l[19])}return o=new $e({props:{destructive:!0,icon:jt}}),o.$on("click",c),{c(){e=D("div"),n=D("input"),t=N(),i=D("input"),r=N(),A(o.$$.fragment),this.h()},l(h){e=T(h,"DIV",{class:!0});var m=V(e);n=T(m,"INPUT",{class:!0,type:!0}),t=M(m),i=T(m,"INPUT",{class:!0,type:!0}),r=M(m),B(o.$$.fragment,m),m.forEach(y),this.h()},h(){$(n,"class","w-full"),$(n,"type","time"),$(i,"class","w-full"),$(i,"type","time"),$(e,"class","flex gap-2")},m(h,m){j(h,e,m),v(e,n),x(n,l[0][l[19]].from),v(e,t),v(e,i),x(i,l[0][l[19]].to),v(e,r),C(o,e,null),s=!0,d||(u=[K(n,"input",a),K(i,"input",_)],d=!0)},p(h,m){l=h,m&1&&x(n,l[0][l[19]].from),m&1&&x(i,l[0][l[19]].to)},i(h){s||(w(o.$$.fragment,h),s=!0)},o(h){E(o.$$.fragment,h),s=!1},d(h){h&&y(e),O(o),d=!1,Se(u)}}}function Tt(l){let e,n,t,i,r,o,s,d,u;return o=new $e({props:{icon:tt}}),o.$on("click",l[4]),{c(){e=D("div"),n=D("input"),t=N(),i=D("input"),r=N(),A(o.$$.fragment),this.h()},l(a){e=T(a,"DIV",{class:!0});var _=V(e);n=T(_,"INPUT",{class:!0,type:!0}),t=M(_),i=T(_,"INPUT",{class:!0,type:!0}),r=M(_),B(o.$$.fragment,_),_.forEach(y),this.h()},h(){$(n,"class","w-full"),$(n,"type","time"),$(i,"class","w-full"),$(i,"type","time"),$(e,"class","newTime flex gap-2")},m(a,_){j(a,e,_),v(e,n),x(n,l[3].from),v(e,t),v(e,i),x(i,l[3].to),v(e,r),C(o,e,null),s=!0,d||(u=[K(n,"input",l[13]),K(i,"input",l[14])],d=!0)},p(a,_){_&8&&x(n,a[3].from),_&8&&x(i,a[3].to)},i(a){s||(w(o.$$.fragment,a),s=!0)},o(a){E(o.$$.fragment,a),s=!1},d(a){a&&y(e),O(o),d=!1,Se(u)}}}function Bi(l){let e,n,t,i,r,o,s,d;const u=[Ai,ji],a=[];function _(p,f){return p[6].label?0:p[1]?1:-1}~(t=_(l))&&(i=a[t]=u[t](l));let c=l[0],h=[];for(let p=0;p<c.length;p+=1)h[p]=Dt(It(l,c,p));const m=p=>E(h[p],1,1,()=>{h[p]=null});let g=(l[2]==-1||l[0].length<l[2])&&Tt(l);return{c(){e=D("div"),n=D("div"),i&&i.c(),r=N(),o=D("div");for(let p=0;p<h.length;p+=1)h[p].c();s=N(),g&&g.c(),this.h()},l(p){e=T(p,"DIV",{});var f=V(e);n=T(f,"DIV",{class:!0});var b=V(n);i&&i.l(b),b.forEach(y),r=M(f),o=T(f,"DIV",{class:!0});var S=V(o);for(let z=0;z<h.length;z+=1)h[z].l(S);s=M(S),g&&g.l(S),S.forEach(y),f.forEach(y),this.h()},h(){$(n,"class","mx-1 mb-px text-sm"),$(o,"class","times flex flex-col gap-4")},m(p,f){j(p,e,f),v(e,n),~t&&a[t].m(n,null),v(e,r),v(e,o);for(let b=0;b<h.length;b+=1)h[b].m(o,null);v(o,s),g&&g.m(o,null),d=!0},p(p,[f]){let b=t;if(t=_(p),t===b?~t&&a[t].p(p,f):(i&&(ee(),E(a[b],1,1,()=>{a[b]=null}),te()),~t?(i=a[t],i?i.p(p,f):(i=a[t]=u[t](p),i.c()),w(i,1),i.m(n,null)):i=null),f&33){c=p[0];let S;for(S=0;S<c.length;S+=1){const z=It(p,c,S);h[S]?(h[S].p(z,f),w(h[S],1)):(h[S]=Dt(z),h[S].c(),w(h[S],1),h[S].m(o,s))}for(ee(),S=c.length;S<h.length;S+=1)m(S);te()}p[2]==-1||p[0].length<p[2]?g?(g.p(p,f),f&5&&w(g,1)):(g=Tt(p),g.c(),w(g,1),g.m(o,null)):g&&(ee(),E(g,1,1,()=>{g=null}),te())},i(p){if(!d){w(i);for(let f=0;f<c.length;f+=1)w(h[f]);w(g),d=!0}},o(p){E(i),h=h.filter(Boolean);for(let f=0;f<h.length;f+=1)E(h[f]);E(g),d=!1},d(p){p&&y(e),~t&&a[t].d(),Le(h,p),g&&g.d()}}}function Ci(l,e,n){let{$$slots:t={},$$scope:i}=e;const r=Re(t);let{times:o=[]}=e,{timeStrings:s=[]}=e,{label:d="init"}=e,{maxTimes:u=5}=e,a={from:"",to:""},_="";function c(){!a.from||!a.to||(n(0,s=[a,...s]),n(3,a={from:"",to:""}))}function h(z){n(0,s=[...s.slice(0,z),...s.slice(z+1)])}function m(){var W;const z=(W=JSON.stringify(s))!=null?W:"";z!=_&&(n(0,s=s.filter(L=>L.from!=""||L.to!="")),_=z,n(7,o=s.map(L=>{const ie=Ce.PlainTime.from(L.from),q=Ce.PlainTime.from(L.to),I={from:q,to:ie};return ie.until(q).hours<0||ie.until(q).hours==0&&ie.until(q).minutes<0?I:{from:ie,to:q}})))}function g(z){s[z].from=this.value,n(0,s)}function p(z){s[z].to=this.value,n(0,s)}const f=z=>h(z);function b(){a.from=this.value,n(3,a)}function S(){a.to=this.value,n(3,a)}return l.$$set=z=>{"times"in z&&n(7,o=z.times),"timeStrings"in z&&n(0,s=z.timeStrings),"label"in z&&n(1,d=z.label),"maxTimes"in z&&n(2,u=z.maxTimes),"$$scope"in z&&n(8,i=z.$$scope)},l.$$.update=()=>{l.$$.dirty&1&&s&&m()},[s,d,u,a,c,h,r,o,i,t,g,p,f,b,S]}class Oi extends pe{constructor(e){super(),ge(this,e,Ci,Bi,me,{times:7,timeStrings:0,label:1,maxTimes:2})}}function zt(l){let e,n,t=l[0].editMode?"Edit":"Create New",i,r,o,s,d,u,a,_,c,h,m,g,p,f,b,S,z,W,L,ie,q,I,U,ne,F,H,Y,G,le,he,ze;function Xe(k){l[6](k)}let Ve={type:"text",label:"title"};l[0].activity.title!==void 0&&(Ve.value=l[0].activity.title),u=new be({props:Ve}),ue.push(()=>fe(u,"value",Xe));function Je(k){l[7](k)}let Ne={dateStrings:l[2],label:"Enter possible dates"};l[0].activity.dates!==void 0&&(Ne.dates=l[0].activity.dates),c=new Ui({props:Ne}),ue.push(()=>fe(c,"dates",Je));function Ze(k){l[8](k)}let Me={timeStrings:l[1],label:"Enter possible times"};l[0].activity.times!==void 0&&(Me.times=l[0].activity.times),g=new Oi({props:Me}),ue.push(()=>fe(g,"times",Ze));function Ke(k){l[9](k)}let Pe={type:"text",placeholder:"Where?",label:"Location"};l[0].activity.location!==void 0&&(Pe.value=l[0].activity.location),S=new be({props:Pe}),ue.push(()=>fe(S,"value",Ke));function qe(k){l[10](k)}let Ue={grow:!0,label:"Get notified if it will",options:[{title:"Sun",icon:At},{title:"Windy"},{title:"Rain"},{title:"Snow"},{title:"Thunder",icon:Bt}]};l[0].activity.notifyOnWeather!==void 0&&(Ue.value=l[0].activity.notifyOnWeather),L=new Lt({props:Ue}),ue.push(()=>fe(L,"value",qe));function Fe(k){l[11](k)}let We={grow:!0,label:"Activity type",options:[{title:"Work",icon:Ct},{title:"Food"},{title:"Fun"},{title:"Workout"},{title:"Relax"}]};return l[0].activity.actitityType!==void 0&&(We.value=l[0].activity.actitityType),I=new qt({props:We}),ue.push(()=>fe(I,"value",Fe)),H=new $e({props:{destructive:!0,$$slots:{default:[Ri]},$$scope:{ctx:l}}}),H.$on("click",l[5]),{c(){e=D("form"),n=D("h3"),i=J(t),r=J(" activity"),o=N(),s=D("div"),d=D("div"),A(u.$$.fragment),_=N(),A(c.$$.fragment),m=N(),A(g.$$.fragment),f=N(),b=D("div"),A(S.$$.fragment),W=N(),A(L.$$.fragment),q=N(),A(I.$$.fragment),ne=N(),F=D("div"),A(H.$$.fragment),Y=N(),G=D("input"),this.h()},l(k){e=T(k,"FORM",{});var P=V(e);n=T(P,"H3",{class:!0});var ce=V(n);i=Z(ce,t),r=Z(ce," activity"),ce.forEach(y),o=M(P),s=T(P,"DIV",{class:!0});var re=V(s);d=T(re,"DIV",{class:!0});var X=V(d);B(u.$$.fragment,X),_=M(X),B(c.$$.fragment,X),m=M(X),B(g.$$.fragment,X),X.forEach(y),f=M(re),b=T(re,"DIV",{class:!0});var Q=V(b);B(S.$$.fragment,Q),W=M(Q),B(L.$$.fragment,Q),q=M(Q),B(I.$$.fragment,Q),Q.forEach(y),re.forEach(y),ne=M(P),F=T(P,"DIV",{class:!0});var ae=V(F);B(H.$$.fragment,ae),Y=M(ae),G=T(ae,"INPUT",{class:!0,type:!0}),ae.forEach(y),P.forEach(y),this.h()},h(){$(n,"class","text-xl border-b border-b-black/50 border-solid mb-4 pb-2 capitalize"),$(d,"class","left grow"),$(b,"class","right grow"),$(s,"class","flex gap-4 w-full"),$(G,"class","bg-slate-100 hover:bg-slate-300 transition-colors px-3 py-2 rounded cursor-pointer"),$(G,"type","submit"),G.value="submit",$(F,"class","flex justify-end gap-4")},m(k,P){j(k,e,P),v(e,n),v(n,i),v(n,r),v(e,o),v(e,s),v(s,d),C(u,d,null),v(d,_),C(c,d,null),v(d,m),C(g,d,null),v(s,f),v(s,b),C(S,b,null),v(b,W),C(L,b,null),v(b,q),C(I,b,null),v(e,ne),v(e,F),C(H,F,null),v(F,Y),v(F,G),le=!0,he||(ze=[K(G,"click",Ye(l[4])),K(e,"submit",Ye(l[4]))],he=!0)},p(k,P){(!le||P&1)&&t!==(t=k[0].editMode?"Edit":"Create New")&&se(i,t);const ce={};!a&&P&1&&(a=!0,ce.value=k[0].activity.title,de(()=>a=!1)),u.$set(ce);const re={};P&4&&(re.dateStrings=k[2]),!h&&P&1&&(h=!0,re.dates=k[0].activity.dates,de(()=>h=!1)),c.$set(re);const X={};P&2&&(X.timeStrings=k[1]),!p&&P&1&&(p=!0,X.times=k[0].activity.times,de(()=>p=!1)),g.$set(X);const Q={};!z&&P&1&&(z=!0,Q.value=k[0].activity.location,de(()=>z=!1)),S.$set(Q);const ae={};!ie&&P&1&&(ie=!0,ae.value=k[0].activity.notifyOnWeather,de(()=>ie=!1)),L.$set(ae);const je={};!U&&P&1&&(U=!0,je.value=k[0].activity.actitityType,de(()=>U=!1)),I.$set(je);const Ae={};P&4097&&(Ae.$$scope={dirty:P,ctx:k}),H.$set(Ae)},i(k){le||(w(u.$$.fragment,k),w(c.$$.fragment,k),w(g.$$.fragment,k),w(S.$$.fragment,k),w(L.$$.fragment,k),w(I.$$.fragment,k),w(H.$$.fragment,k),le=!0)},o(k){E(u.$$.fragment,k),E(c.$$.fragment,k),E(g.$$.fragment,k),E(S.$$.fragment,k),E(L.$$.fragment,k),E(I.$$.fragment,k),E(H.$$.fragment,k),le=!1},d(k){k&&y(e),O(u),O(c),O(g),O(S),O(L),O(I),O(H),he=!1,Se(ze)}}}function Ri(l){let e=l[0].editMode?"Remove":"Cancel",n;return{c(){n=J(e)},l(t){n=Z(t,e)},m(t,i){j(t,n,i)},p(t,i){i&1&&e!==(e=t[0].editMode?"Remove":"Cancel")&&se(n,e)},d(t){t&&y(n)}}}function Li(l){let e,n,t=l[0]&&l[3]&&zt(l);return{c(){t&&t.c(),e=_e()},l(i){t&&t.l(i),e=_e()},m(i,r){t&&t.m(i,r),j(i,e,r),n=!0},p(i,[r]){i[0]&&i[3]?t?(t.p(i,r),r&9&&w(t,1)):(t=zt(i),t.c(),w(t,1),t.m(e.parentNode,e)):t&&(ee(),E(t,1,1,()=>{t=null}),te())},i(i){n||(w(t),n=!0)},o(i){E(t),n=!1},d(i){t&&t.d(i),i&&y(e)}}}function qi(l,e,n){let t,i,r;Ie(l,Te,g=>n(3,r=g));let o=r;function s(){!o||(o.editMode?Ee.updateActivity(o.activity):Ee.add(o.activity),Zt("./planning"),Te.reset())}function d(){o!=null&&o.editMode&&Ee.deleteActivity(o.activity),Te.reset()}function u(g){l.$$.not_equal(o.activity.title,g)&&(o.activity.title=g,n(0,o))}function a(g){l.$$.not_equal(o.activity.dates,g)&&(o.activity.dates=g,n(0,o))}function _(g){l.$$.not_equal(o.activity.times,g)&&(o.activity.times=g,n(0,o))}function c(g){l.$$.not_equal(o.activity.location,g)&&(o.activity.location=g,n(0,o))}function h(g){l.$$.not_equal(o.activity.notifyOnWeather,g)&&(o.activity.notifyOnWeather=g,n(0,o))}function m(g){l.$$.not_equal(o.activity.actitityType,g)&&(o.activity.actitityType=g,n(0,o))}return l.$$.update=()=>{l.$$.dirty&1&&n(2,t=o==null?void 0:o.activity.dates.map(g=>g.toString())),l.$$.dirty&1&&n(1,i=o==null?void 0:o.activity.times.map(({from:g,to:p})=>({from:g.round({smallestUnit:"minute"}).toString(),to:p.round({smallestUnit:"minute"}).toString()})))},[o,i,t,r,s,d,u,a,_,c,h,m]}class Fi extends pe{constructor(e){super(),ge(this,e,qi,Li,me,{})}}function Vt(l){var qe,Ue,Fe,We;let e,n,t=l[0].editMode?"Edit":"Create New",i,r,o,s,d,u,a,_,c,h,m,g,p,f,b,S,z,W,L,ie,q,I,U,ne,F,H,Y,G,le,he,ze;function Xe(k){l[4](k)}let Ve={type:"text",label:"title"};l[0].activity.title!==void 0&&(Ve.value=l[0].activity.title),u=new be({props:Ve}),ue.push(()=>fe(u,"value",Xe)),c=new be({props:{type:"date",label:"date",value:l[0].activity.date.toString()}}),c.$on("change",l[5]),m=new be({props:{type:"time",label:"from",value:(Ue=(qe=l[0])==null?void 0:qe.activity.time)==null?void 0:Ue.from.toString({smallestUnit:"minute"})}}),m.$on("change",l[6]),p=new be({props:{type:"time",label:"to",value:(We=(Fe=l[0])==null?void 0:Fe.activity.time)==null?void 0:We.to.toString({smallestUnit:"minute"})}}),p.$on("change",l[7]);function Je(k){l[8](k)}let Ne={type:"text",placeholder:"Where?",label:"Location"};l[0].activity.location!==void 0&&(Ne.value=l[0].activity.location),S=new be({props:Ne}),ue.push(()=>fe(S,"value",Je));function Ze(k){l[9](k)}let Me={grow:!0,label:"Get notified if it will",options:[{title:"Sun",icon:At},{title:"Windy"},{title:"Rain"},{title:"Snow"},{title:"Thunder",icon:Bt}]};l[0].activity.notifyOnWeather!==void 0&&(Me.value=l[0].activity.notifyOnWeather),L=new Lt({props:Me}),ue.push(()=>fe(L,"value",Ze));function Ke(k){l[10](k)}let Pe={grow:!0,label:"Activity type",options:[{title:"Work",icon:Ct},{title:"Food"},{title:"Fun"},{title:"Workout"},{title:"Relax"}]};return l[0].activity.actitityType!==void 0&&(Pe.value=l[0].activity.actitityType),I=new qt({props:Pe}),ue.push(()=>fe(I,"value",Ke)),H=new $e({props:{destructive:!0,$$slots:{default:[Hi]},$$scope:{ctx:l}}}),H.$on("click",l[3]),{c(){e=D("form"),n=D("h3"),i=J(t),r=J(" activity"),o=N(),s=D("div"),d=D("div"),A(u.$$.fragment),_=N(),A(c.$$.fragment),h=N(),A(m.$$.fragment),g=N(),A(p.$$.fragment),f=N(),b=D("div"),A(S.$$.fragment),W=N(),A(L.$$.fragment),q=N(),A(I.$$.fragment),ne=N(),F=D("div"),A(H.$$.fragment),Y=N(),G=D("input"),this.h()},l(k){e=T(k,"FORM",{});var P=V(e);n=T(P,"H3",{class:!0});var ce=V(n);i=Z(ce,t),r=Z(ce," activity"),ce.forEach(y),o=M(P),s=T(P,"DIV",{class:!0});var re=V(s);d=T(re,"DIV",{class:!0});var X=V(d);B(u.$$.fragment,X),_=M(X),B(c.$$.fragment,X),h=M(X),B(m.$$.fragment,X),g=M(X),B(p.$$.fragment,X),X.forEach(y),f=M(re),b=T(re,"DIV",{class:!0});var Q=V(b);B(S.$$.fragment,Q),W=M(Q),B(L.$$.fragment,Q),q=M(Q),B(I.$$.fragment,Q),Q.forEach(y),re.forEach(y),ne=M(P),F=T(P,"DIV",{class:!0});var ae=V(F);B(H.$$.fragment,ae),Y=M(ae),G=T(ae,"INPUT",{class:!0,type:!0}),ae.forEach(y),P.forEach(y),this.h()},h(){$(n,"class","text-xl border-b border-b-black/50 border-solid mb-4 pb-2 capitalize"),$(d,"class","left grow"),$(b,"class","right grow"),$(s,"class","flex gap-4 w-full"),$(G,"class","bg-slate-100 hover:bg-slate-300 transition-colors px-3 py-2 rounded cursor-pointer"),$(G,"type","submit"),G.value="submit",$(F,"class","flex justify-end gap-4")},m(k,P){j(k,e,P),v(e,n),v(n,i),v(n,r),v(e,o),v(e,s),v(s,d),C(u,d,null),v(d,_),C(c,d,null),v(d,h),C(m,d,null),v(d,g),C(p,d,null),v(s,f),v(s,b),C(S,b,null),v(b,W),C(L,b,null),v(b,q),C(I,b,null),v(e,ne),v(e,F),C(H,F,null),v(F,Y),v(F,G),le=!0,he||(ze=[K(G,"click",Ye(l[2])),K(e,"submit",Ye(l[2]))],he=!0)},p(k,P){var nt,lt,rt,ot;(!le||P&1)&&t!==(t=k[0].editMode?"Edit":"Create New")&&se(i,t);const ce={};!a&&P&1&&(a=!0,ce.value=k[0].activity.title,de(()=>a=!1)),u.$set(ce);const re={};P&1&&(re.value=k[0].activity.date.toString()),c.$set(re);const X={};P&1&&(X.value=(lt=(nt=k[0])==null?void 0:nt.activity.time)==null?void 0:lt.from.toString({smallestUnit:"minute"})),m.$set(X);const Q={};P&1&&(Q.value=(ot=(rt=k[0])==null?void 0:rt.activity.time)==null?void 0:ot.to.toString({smallestUnit:"minute"})),p.$set(Q);const ae={};!z&&P&1&&(z=!0,ae.value=k[0].activity.location,de(()=>z=!1)),S.$set(ae);const je={};!ie&&P&1&&(ie=!0,je.value=k[0].activity.notifyOnWeather,de(()=>ie=!1)),L.$set(je);const Ae={};!U&&P&1&&(U=!0,Ae.value=k[0].activity.actitityType,de(()=>U=!1)),I.$set(Ae);const it={};P&2049&&(it.$$scope={dirty:P,ctx:k}),H.$set(it)},i(k){le||(w(u.$$.fragment,k),w(c.$$.fragment,k),w(m.$$.fragment,k),w(p.$$.fragment,k),w(S.$$.fragment,k),w(L.$$.fragment,k),w(I.$$.fragment,k),w(H.$$.fragment,k),le=!0)},o(k){E(u.$$.fragment,k),E(c.$$.fragment,k),E(m.$$.fragment,k),E(p.$$.fragment,k),E(S.$$.fragment,k),E(L.$$.fragment,k),E(I.$$.fragment,k),E(H.$$.fragment,k),le=!1},d(k){k&&y(e),O(u),O(c),O(m),O(p),O(S),O(L),O(I),O(H),he=!1,Se(ze)}}}function Hi(l){let e=l[0].editMode?"Remove":"Cancel",n;return{c(){n=J(e)},l(t){n=Z(t,e)},m(t,i){j(t,n,i)},p(t,i){i&1&&e!==(e=t[0].editMode?"Remove":"Cancel")&&se(n,e)},d(t){t&&y(n)}}}function Yi(l){let e,n,t=l[0]&&l[1]&&Vt(l);return{c(){t&&t.c(),e=_e()},l(i){t&&t.l(i),e=_e()},m(i,r){t&&t.m(i,r),j(i,e,r),n=!0},p(i,[r]){i[0]&&i[1]?t?(t.p(i,r),r&3&&w(t,1)):(t=Vt(i),t.c(),w(t,1),t.m(e.parentNode,e)):t&&(ee(),E(t,1,1,()=>{t=null}),te())},i(i){n||(w(t),n=!0)},o(i){E(t),n=!1},d(i){t&&t.d(i),i&&y(e)}}}function Gi(l,e,n){let t;Ie(l,Be,m=>n(1,t=m));let i=t;function r(){var m,g;!i||(i.editMode?De.updateActivity(i.activity):De.add(i.activity,i.activity.date,(m=i.activity.time)==null?void 0:m.from,(g=i.activity.time)==null?void 0:g.to),Be.reset())}function o(){i!=null&&i.editMode&&De.deleteActivity(i.activity),Be.reset()}function s(m){l.$$.not_equal(i.activity.title,m)&&(i.activity.title=m,n(0,i))}const d=m=>i==null?void 0:i.activity.setDate(m),u=m=>i==null?void 0:i.activity.setFromTime(m),a=m=>i==null?void 0:i.activity.setToTime(m);function _(m){l.$$.not_equal(i.activity.location,m)&&(i.activity.location=m,n(0,i))}function c(m){l.$$.not_equal(i.activity.notifyOnWeather,m)&&(i.activity.notifyOnWeather=m,n(0,i))}function h(m){l.$$.not_equal(i.activity.actitityType,m)&&(i.activity.actitityType=m,n(0,i))}return[i,t,r,o,s,d,u,a,_,c,h]}class Xi extends pe{constructor(e){super(),ge(this,e,Gi,Yi,me,{})}}const Ji=()=>{const l=Yt("__svelte__");return{page:{subscribe:l.page.subscribe},navigating:{subscribe:l.navigating.subscribe},get preloading(){return console.error("stores.preloading is deprecated; use stores.navigating instead"),{subscribe:l.navigating.subscribe}},session:l.session,updated:l.updated}},Zi={subscribe(l){return Ji().page.subscribe(l)}};function Nt(l,e,n){const t=l.slice();return t[6]=e[n],t}function Mt(l){let e,n,t,i=l[6].title+"",r,o,s,d;return n=new et({props:{src:l[6].icon,size:"16"}}),{c(){e=D("a"),A(n.$$.fragment),t=N(),r=J(i),o=N(),this.h()},l(u){e=T(u,"A",{href:!0,class:!0});var a=V(e);B(n.$$.fragment,a),t=M(a),r=Z(a,i),o=M(a),a.forEach(y),this.h()},h(){$(e,"href",s=Ut+"/"+l[6].url[0]),$(e,"class","flex flex-row items-center justify-start px-2 gap-3 svelte-g314rs"),R(e,"active",l[6].url.includes(l[0].routeId||"upcomming"))},m(u,a){j(u,e,a),C(n,e,null),v(e,t),v(e,r),v(e,o),d=!0},p(u,a){a&9&&R(e,"active",u[6].url.includes(u[0].routeId||"upcomming"))},i(u){d||(w(n.$$.fragment,u),d=!0)},o(u){E(n.$$.fragment,u),d=!1},d(u){u&&y(e),O(n)}}}function Ki(l){let e;return{c(){e=J("Create new event")},l(n){e=Z(n,"Create new event")},m(n,t){j(n,e,t)},d(n){n&&y(e)}}}function Qi(l){let e,n;return e=new Fi({}),{c(){A(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},i(t){n||(w(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function xi(l){let e,n;return e=new Xi({}),{c(){A(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},i(t){n||(w(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function en(l){let e,n,t,i,r,o,s,d,u,a,_,c,h,m,g,p,f,b,S,z=l[3],W=[];for(let I=0;I<z.length;I+=1)W[I]=Mt(Nt(l,z,I));const L=I=>E(W[I],1,1,()=>{W[I]=null});_=new $e({props:{icon:tt,$$slots:{default:[Ki]},$$scope:{ctx:l}}}),_.$on("click",Te.new),h=new hi({props:{firstname:"Abel",lastname:"de Bruijn"}});const ie=l[4].default,q=ve(ie,l,l[5],null);return p=new dt({props:{visible:l[1]!==void 0,$$slots:{default:[Qi]},$$scope:{ctx:l}}}),p.$on("close",Te.reset),b=new dt({props:{visible:l[2]!==void 0,$$slots:{default:[xi]},$$scope:{ctx:l}}}),b.$on("close",Be.reset),{c(){e=D("div"),n=D("aside"),t=D("nav"),i=D("h1"),r=J("PodPlanner"),o=N(),s=D("div");for(let I=0;I<W.length;I+=1)W[I].c();d=N(),u=D("main"),a=D("div"),A(_.$$.fragment),c=N(),A(h.$$.fragment),m=N(),q&&q.c(),g=N(),A(p.$$.fragment),f=N(),A(b.$$.fragment),this.h()},l(I){e=T(I,"DIV",{class:!0});var U=V(e);n=T(U,"ASIDE",{class:!0});var ne=V(n);t=T(ne,"NAV",{class:!0});var F=V(t);i=T(F,"H1",{class:!0});var H=V(i);r=Z(H,"PodPlanner"),H.forEach(y),o=M(F),s=T(F,"DIV",{class:!0});var Y=V(s);for(let he=0;he<W.length;he+=1)W[he].l(Y);Y.forEach(y),F.forEach(y),ne.forEach(y),d=M(U),u=T(U,"MAIN",{class:!0});var G=V(u);a=T(G,"DIV",{class:!0});var le=V(a);B(_.$$.fragment,le),c=M(le),B(h.$$.fragment,le),le.forEach(y),m=M(G),q&&q.l(G),G.forEach(y),U.forEach(y),g=M(I),B(p.$$.fragment,I),f=M(I),B(b.$$.fragment,I),this.h()},h(){$(i,"class","text-3xl font-bold border-b-2 border-green-700 text-green-700 mb-4"),$(s,"class","flex flex-col gap-2"),$(t,"class","w-64 p-4 border-r-2 border-slate-200 fixed left-0 top-0 h-[100vh]"),$(n,"class","w-64 p-4"),$(a,"class","flex gap-4 justify-end "),$(u,"class","grow p-5"),$(e,"class","flex")},m(I,U){j(I,e,U),v(e,n),v(n,t),v(t,i),v(i,r),v(t,o),v(t,s);for(let ne=0;ne<W.length;ne+=1)W[ne].m(s,null);v(e,d),v(e,u),v(u,a),C(_,a,null),v(a,c),C(h,a,null),v(u,m),q&&q.m(u,null),j(I,g,U),C(p,I,U),j(I,f,U),C(b,I,U),S=!0},p(I,[U]){if(U&9){z=I[3];let Y;for(Y=0;Y<z.length;Y+=1){const G=Nt(I,z,Y);W[Y]?(W[Y].p(G,U),w(W[Y],1)):(W[Y]=Mt(G),W[Y].c(),w(W[Y],1),W[Y].m(s,null))}for(ee(),Y=z.length;Y<W.length;Y+=1)L(Y);te()}const ne={};U&32&&(ne.$$scope={dirty:U,ctx:I}),_.$set(ne),q&&q.p&&(!S||U&32)&&we(q,ie,I,I[5],S?ke(ie,I[5],U,null):ye(I[5]),null);const F={};U&2&&(F.visible=I[1]!==void 0),U&32&&(F.$$scope={dirty:U,ctx:I}),p.$set(F);const H={};U&4&&(H.visible=I[2]!==void 0),U&32&&(H.$$scope={dirty:U,ctx:I}),b.$set(H)},i(I){if(!S){for(let U=0;U<z.length;U+=1)w(W[U]);w(_.$$.fragment,I),w(h.$$.fragment,I),w(q,I),w(p.$$.fragment,I),w(b.$$.fragment,I),S=!0}},o(I){W=W.filter(Boolean);for(let U=0;U<W.length;U+=1)E(W[U]);E(_.$$.fragment,I),E(h.$$.fragment,I),E(q,I),E(p.$$.fragment,I),E(b.$$.fragment,I),S=!1},d(I){I&&y(e),Le(W,I),O(_),O(h),q&&q.d(I),I&&y(g),O(p,I),I&&y(f),O(b,I)}}}function tn(l,e,n){let t,i,r;Ie(l,Zi,u=>n(0,t=u)),Ie(l,Te,u=>n(1,i=u)),Ie(l,Be,u=>n(2,r=u));let{$$slots:o={},$$scope:s}=e;const d=[{title:"Planning view",url:["planning",""],icon:Qe},{title:"Upcomming activities",url:["upcomming"],icon:Qe},{title:"Past activities",url:["past"],icon:Qe}];return l.$$set=u=>{"$$scope"in u&&n(5,s=u.$$scope)},[t,i,r,d,o,s]}class nn extends pe{constructor(e){super(),ge(this,e,tn,en,me,{})}}function ln(l){let e,n;return e=new pi({}),{c(){A(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p:oe,i(t){n||(w(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function rn(l){let e,n;return e=new nn({props:{$$slots:{default:[an]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&4&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(w(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function on(l){let e,n,t;return{c(){e=D("div"),n=D("img"),this.h()},l(i){e=T(i,"DIV",{class:!0});var r=V(e);n=T(r,"IMG",{class:!0,src:!0,alt:!0,height:!0}),r.forEach(y),this.h()},h(){$(n,"class","h-80 rounded-lg"),Gt(n.src,t=Ut+"/loading.gif")||$(n,"src",t),$(n,"alt","loading"),$(n,"height","400"),$(e,"class","w-full h-[100vh] flex items-center justify-center")},m(i,r){j(i,e,r),v(e,n)},p:oe,i:oe,o:oe,d(i){i&&y(e)}}}function an(l){let e;const n=l[1].default,t=ve(n,l,l[2],null);return{c(){t&&t.c()},l(i){t&&t.l(i)},m(i,r){t&&t.m(i,r),e=!0},p(i,r){t&&t.p&&(!e||r&4)&&we(t,n,i,i[2],e?ke(n,i[2],r,null):ye(i[2]),null)},i(i){e||(w(t,i),e=!0)},o(i){E(t,i),e=!1},d(i){t&&t.d(i)}}}function sn(l){let e,n,t,i;const r=[on,rn,ln],o=[];function s(d,u){return d[0].loading?0:d[0].userSession.isLoggedIn?1:2}return e=s(l),n=o[e]=r[e](l),{c(){n.c(),t=_e()},l(d){n.l(d),t=_e()},m(d,u){o[e].m(d,u),j(d,t,u),i=!0},p(d,[u]){let a=e;e=s(d),e===a?o[e].p(d,u):(ee(),E(o[a],1,1,()=>{o[a]=null}),te(),n=o[e],n?n.p(d,u):(n=o[e]=r[e](d),n.c()),w(n,1),n.m(t.parentNode,t))},i(d){i||(w(n),i=!0)},o(d){E(n),i=!1},d(d){o[e].d(d),d&&y(t)}}}function cn(l,e,n){let t;Ie(l,xe,o=>n(0,t=o));let{$$slots:i={},$$scope:r}=e;return Pt(()=>{xe.init(),ti()}),l.$$set=o=>{"$$scope"in o&&n(2,r=o.$$scope)},[t,i,r]}class vn extends pe{constructor(e){super(),ge(this,e,cn,sn,me,{})}}export{vn as default};
