import{S as dt,i as gt,s as pt,e as T,k as P,t as Y,c as z,a as M,d as w,m as U,h as G,b as k,I as F,g as O,J as v,n as tt,o as E,p as et,q as y,j as nt,K as Lt,L as xt,E as lt,M as vt,N as wt,O as yt,P as $t,Q as x,R as Z,G as St,T as ct,U as ut,w as C,x as L,y as R,V as ft,B as q,v as Pe,W as He,l as _t,X as Ye,Y as Rt,Z as Ht,_ as Et,$ as Ge,a0 as ae,a1 as Je}from"../chunks/index-6d6fbed6.js";import{b as Ue}from"../chunks/singletons-bd1dfc1a.js";import{g as We}from"../chunks/navigation-3ebc45bc.js";import{B as bt,I as te,T as je,P as ee,S as Ae,L as Be,a as Oe,C as Qt}from"../chunks/Button-2f919fe0.js";import{u as Xe,t as Ot,m as It,a as Dt,b as Bt,p as Tt,T as Ce,U as se,P as ce}from"../chunks/eventStore-24e1c1fe.js";import{u as Yt,t as Ze}from"../chunks/userStore-ad134bbc.js";import"../chunks/preload-helper-ed63bd61.js";import"../chunks/index-b2bed869.js";const Ke=l=>({}),ue=l=>({});function Qe(l){let t;return{c(){t=Y(l[1])},l(i){t=G(i,l[1])},m(i,e){O(i,t,e)},p(i,e){e&2&&nt(t,i[1])},i:lt,o:lt,d(i){i&&w(t)}}}function xe(l){let t;const i=l[8].label,e=vt(i,l,l[7],ue);return{c(){e&&e.c()},l(n){e&&e.l(n)},m(n,r){e&&e.m(n,r),t=!0},p(n,r){e&&e.p&&(!t||r&128)&&wt(e,i,n,n[7],t?$t(i,n[7],r,Ke):yt(n[7]),ue)},i(n){t||(y(e,n),t=!0)},o(n){E(e,n),t=!1},d(n){e&&e.d(n)}}}function ti(l){let t,i,e,n;return{c(){t=T("input"),this.h()},l(r){t=z(r,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0}),this.h()},h(){k(t,"id",l[5]),k(t,"class","rounded-md p-2 w-full bg-slate-100 hover:ring transition-all"),k(t,"type","text"),k(t,"placeholder",i=l[2]||l[1]),F(t,"ring",l[3]),F(t,"ring-red-500",l[3])},m(r,o){O(r,t,o),x(t,l[0]),e||(n=Z(t,"input",l[13]),e=!0)},p(r,o){o&6&&i!==(i=r[2]||r[1])&&k(t,"placeholder",i),o&1&&t.value!==r[0]&&x(t,r[0]),o&8&&F(t,"ring",r[3]),o&8&&F(t,"ring-red-500",r[3])},d(r){r&&w(t),e=!1,n()}}}function ei(l){let t,i,e,n;return{c(){t=T("input"),this.h()},l(r){t=z(r,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0}),this.h()},h(){k(t,"id",l[5]),k(t,"class","rounded-md p-2 w-full bg-slate-100 hover:ring transition-all"),k(t,"type","time"),k(t,"placeholder",i=l[2]||l[1]),F(t,"ring",l[3]),F(t,"ring-red-500",l[3])},m(r,o){O(r,t,o),x(t,l[0]),e||(n=[Z(t,"input",l[12]),Z(t,"change",l[10])],e=!0)},p(r,o){o&6&&i!==(i=r[2]||r[1])&&k(t,"placeholder",i),o&1&&x(t,r[0]),o&8&&F(t,"ring",r[3]),o&8&&F(t,"ring-red-500",r[3])},d(r){r&&w(t),e=!1,St(n)}}}function ii(l){let t,i,e,n;return{c(){t=T("input"),this.h()},l(r){t=z(r,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0}),this.h()},h(){k(t,"id",l[5]),k(t,"class","rounded-md p-2 w-full bg-slate-100 hover:ring transition-all"),k(t,"type","date"),k(t,"placeholder",i=l[2]||l[1]),F(t,"ring",l[3]),F(t,"ring-red-500",l[3])},m(r,o){O(r,t,o),x(t,l[0]),e||(n=[Z(t,"input",l[11]),Z(t,"change",l[9])],e=!0)},p(r,o){o&6&&i!==(i=r[2]||r[1])&&k(t,"placeholder",i),o&1&&x(t,r[0]),o&8&&F(t,"ring",r[3]),o&8&&F(t,"ring-red-500",r[3])},d(r){r&&w(t),e=!1,St(n)}}}function ni(l){let t,i,e,n,r,o,s,f,d;const a=[xe,Qe],b=[];function c(p,g){return p[6].label?0:p[1]?1:-1}~(e=c(l))&&(n=b[e]=a[e](l));function h(p,g){return p[4]=="date"?ii:p[4]=="time"?ei:ti}let m=h(l),u=m(l);return{c(){t=T("label"),i=T("div"),n&&n.c(),r=P(),u.c(),o=P(),s=T("div"),f=Y(l[3]),this.h()},l(p){t=z(p,"LABEL",{class:!0,for:!0});var g=M(t);i=z(g,"DIV",{class:!0});var _=M(i);n&&n.l(_),_.forEach(w),r=U(g),u.l(g),o=U(g),s=z(g,"DIV",{class:!0});var S=M(s);f=G(S,l[3]),S.forEach(w),g.forEach(w),this.h()},h(){k(i,"class","mx-1 mb-px text-sm capitalize"),k(s,"class","text-sm h-2 text-red-700 "),F(s,"opacity-0",!l[3]),k(t,"class","my-4 block"),k(t,"for",l[5])},m(p,g){O(p,t,g),v(t,i),~e&&b[e].m(i,null),v(t,r),u.m(t,null),v(t,o),v(t,s),v(s,f),d=!0},p(p,[g]){let _=e;e=c(p),e===_?~e&&b[e].p(p,g):(n&&(tt(),E(b[_],1,1,()=>{b[_]=null}),et()),~e?(n=b[e],n?n.p(p,g):(n=b[e]=a[e](p),n.c()),y(n,1),n.m(i,null)):n=null),m===(m=h(p))&&u?u.p(p,g):(u.d(1),u=m(p),u&&(u.c(),u.m(t,o))),(!d||g&8)&&nt(f,p[3]),g&8&&F(s,"opacity-0",!p[3])},i(p){d||(y(n),d=!0)},o(p){E(n),d=!1},d(p){p&&w(t),~e&&b[e].d(),u.d()}}}function li(l,t,i){let{$$slots:e={},$$scope:n}=t;const r=Lt(e);let{label:o=""}=t,{placeholder:s=""}=t,{error:f=""}=t,{value:d=""}=t,{type:a="text"}=t,b=Xe();function c(g){xt.call(this,l,g)}function h(g){xt.call(this,l,g)}function m(){d=this.value,i(0,d)}function u(){d=this.value,i(0,d)}function p(){d=this.value,i(0,d)}return l.$$set=g=>{"label"in g&&i(1,o=g.label),"placeholder"in g&&i(2,s=g.placeholder),"error"in g&&i(3,f=g.error),"value"in g&&i(0,d=g.value),"type"in g&&i(4,a=g.type),"$$scope"in g&&i(7,n=g.$$scope)},[d,o,s,f,a,b,r,n,e,c,h,m,u,p]}class ht extends dt{constructor(t){super(),gt(this,t,li,ni,pt,{label:1,placeholder:2,error:3,value:0,type:4})}}function ri(l){let t;return{c(){t=Y("Login with pod")},l(i){t=G(i,"Login with pod")},m(i,e){O(i,t,e)},d(i){i&&w(t)}}}function oi(l){let t;return{c(){t=Y("Learn how to obtain your own pod")},l(i){t=G(i,"Learn how to obtain your own pod")},m(i,e){O(i,t,e)},d(i){i&&w(t)}}}function ai(l){let t,i,e,n,r,o,s,f,d,a,b,c,h,m,u,p;function g(W){l[5](W)}let _={label:"pod url",error:l[1]};l[0]!==void 0&&(_.value=l[0]),r=new ht({props:_}),ct.push(()=>ut(r,"value",g));function S(W){l[6](W)}let I={label:"Storage location"};return l[2]!==void 0&&(I.value=l[2]),f=new ht({props:I}),ct.push(()=>ut(f,"value",S)),b=new bt({props:{focused:!0,$$slots:{default:[ri]},$$scope:{ctx:l}}}),b.$on("click",l[3]),u=new bt({props:{$$slots:{default:[oi]},$$scope:{ctx:l}}}),u.$on("click",l[4]),{c(){t=T("div"),i=T("h1"),e=Y("Welcome to the pod"),n=P(),C(r.$$.fragment),s=P(),C(f.$$.fragment),a=P(),C(b.$$.fragment),c=P(),h=T("br"),m=P(),C(u.$$.fragment),this.h()},l(W){t=z(W,"DIV",{class:!0});var N=M(t);i=z(N,"H1",{class:!0});var B=M(i);e=G(B,"Welcome to the pod"),B.forEach(w),n=U(N),L(r.$$.fragment,N),s=U(N),L(f.$$.fragment,N),a=U(N),L(b.$$.fragment,N),c=U(N),h=z(N,"BR",{}),m=U(N),L(u.$$.fragment,N),N.forEach(w),this.h()},h(){k(i,"class","text-2xl"),k(t,"class","max-w-lg my-16 mx-auto")},m(W,N){O(W,t,N),v(t,i),v(i,e),v(t,n),R(r,t,null),v(t,s),R(f,t,null),v(t,a),R(b,t,null),v(t,c),v(t,h),v(t,m),R(u,t,null),p=!0},p(W,[N]){const B={};N&2&&(B.error=W[1]),!o&&N&1&&(o=!0,B.value=W[0],ft(()=>o=!1)),r.$set(B);const D={};!d&&N&4&&(d=!0,D.value=W[2],ft(()=>d=!1)),f.$set(D);const V={};N&256&&(V.$$scope={dirty:N,ctx:W}),b.$set(V);const J={};N&256&&(J.$$scope={dirty:N,ctx:W}),u.$set(J)},i(W){p||(y(r.$$.fragment,W),y(f.$$.fragment,W),y(b.$$.fragment,W),y(u.$$.fragment,W),p=!0)},o(W){E(r.$$.fragment,W),E(f.$$.fragment,W),E(b.$$.fragment,W),E(u.$$.fragment,W),p=!1},d(W){W&&w(t),q(r),q(f),q(b),q(u)}}}function si(l,t,i){let e,n="http://localhost:3000",r="",o="http://localhost:3000/johndoe";async function s(){try{await Yt.signIn(n,o,e)}catch(b){i(1,r=Ze(b).message)}}function f(){We("https://osoc22.github.io/project-idlab/")}Pe(async()=>{e=window.location.href,i(0,n=localStorage.getItem("podUrl")||"http://localhost:3000"),i(2,o=localStorage.getItem("storageLocation")||"http://localhost:3000/johndoe")});function d(b){n=b,i(0,n)}function a(b){o=b,i(2,o)}return[n,r,o,s,f,d,a]}class ci extends dt{constructor(t){super(),gt(this,t,si,ai,pt,{})}}function ui(l){let t,i,e,n,r=l[0][0]+"",o,s=l[2][l[2].length-1][0]+"",f,d,a,b,c,h,m,u,p;return{c(){t=T("button"),i=T("div"),e=T("div"),n=T("span"),o=Y(r),f=Y(s),d=P(),a=T("div"),b=T("p"),c=Y(l[0]),h=P(),m=Y(l[1]),this.h()},l(g){t=z(g,"BUTTON",{class:!0});var _=M(t);i=z(_,"DIV",{});var S=M(i);e=z(S,"DIV",{class:!0});var I=M(e);n=z(I,"SPAN",{class:!0});var W=M(n);o=G(W,r),f=G(W,s),W.forEach(w),I.forEach(w),S.forEach(w),d=U(_),a=z(_,"DIV",{class:!0});var N=M(a);b=z(N,"P",{class:!0});var B=M(b);c=G(B,l[0]),h=U(B),m=G(B,l[1]),B.forEach(w),N.forEach(w),_.forEach(w),this.h()},h(){k(n,"class","leading-none p-2 text-sm"),k(e,"class","rounded-full bg-green-700 text-green-100 h-8 w-8 flex items-center justify-center cursor-pointer"),k(b,"class","text-sm font-medium text-gray-700 group-hover:text-gray-900"),k(a,"class","ml-3"),k(t,"class","flex items-center hover:bg-gray-200 rounded-xl px-2 py-2 transition-colors cursor-pointer")},m(g,_){O(g,t,_),v(t,i),v(i,e),v(e,n),v(n,o),v(n,f),v(t,d),v(t,a),v(a,b),v(b,c),v(b,h),v(b,m),u||(p=Z(t,"click",l[3]),u=!0)},p(g,[_]){_&1&&r!==(r=g[0][0]+"")&&nt(o,r),_&4&&s!==(s=g[2][g[2].length-1][0]+"")&&nt(f,s),_&1&&nt(c,g[0]),_&2&&nt(m,g[1])},i:lt,o:lt,d(g){g&&w(t),u=!1,p()}}}function fi(l,t,i){let e,{firstname:n}=t,{lastname:r=""}=t;async function o(){await Yt.signOut()}return l.$$set=s=>{"firstname"in s&&i(0,n=s.firstname),"lastname"in s&&i(1,r=s.lastname)},l.$$.update=()=>{l.$$.dirty&3&&i(2,e=(r==null?void 0:r.split(" "))||n.split(" "))},[n,r,e,o]}class di extends dt{constructor(t){super(),gt(this,t,fi,ui,pt,{firstname:0,lastname:1})}}function fe(l){let t,i,e,n,r;const o=l[3].default,s=vt(o,l,l[2],null);return{c(){t=T("div"),i=T("div"),s&&s.c(),this.h()},l(f){t=z(f,"DIV",{class:!0});var d=M(t);i=z(d,"DIV",{class:!0});var a=M(i);s&&s.l(a),a.forEach(w),d.forEach(w),this.h()},h(){k(i,"class","fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-3xl bg-white z-20 p-4 rounded-lg"),k(t,"class","fixed top-0 left-0 w-full h-[100%] bg-slate-900/30 z-10 cursor-pointer")},m(f,d){O(f,t,d),v(t,i),s&&s.m(i,null),e=!0,n||(r=[Z(i,"click",He(l[4])),Z(t,"click",l[1])],n=!0)},p(f,d){s&&s.p&&(!e||d&4)&&wt(s,o,f,f[2],e?$t(o,f[2],d,null):yt(f[2]),null)},i(f){e||(y(s,f),e=!0)},o(f){E(s,f),e=!1},d(f){f&&w(t),s&&s.d(f),n=!1,St(r)}}}function gi(l){let t,i,e=l[0]&&fe(l);return{c(){e&&e.c(),t=_t()},l(n){e&&e.l(n),t=_t()},m(n,r){e&&e.m(n,r),O(n,t,r),i=!0},p(n,[r]){n[0]?e?(e.p(n,r),r&1&&y(e,1)):(e=fe(n),e.c(),y(e,1),e.m(t.parentNode,t)):e&&(tt(),E(e,1,1,()=>{e=null}),et())},i(n){i||(y(e),i=!0)},o(n){E(e),i=!1},d(n){e&&e.d(n),n&&w(t)}}}function pi(l,t,i){let{$$slots:e={},$$scope:n}=t,{visible:r=!1}=t;const o=Ye();function s(){o("close"),i(0,r=!1)}function f(d){xt.call(this,l,d)}return l.$$set=d=>{"visible"in d&&i(0,r=d.visible),"$$scope"in d&&i(2,n=d.$$scope)},[r,s,n,e,f]}class de extends dt{constructor(t){super(),gt(this,t,pi,gi,pt,{visible:0})}}function ge(l,t,i){const e=l.slice();return e[9]=t[i],e}const mi=l=>({}),pe=l=>({});function hi(l){let t;return{c(){t=Y(l[2])},l(i){t=G(i,l[2])},m(i,e){O(i,t,e)},p(i,e){e&4&&nt(t,i[2])},i:lt,o:lt,d(i){i&&w(t)}}}function bi(l){let t;const i=l[7].label,e=vt(i,l,l[6],pe);return{c(){e&&e.c()},l(n){e&&e.l(n)},m(n,r){e&&e.m(n,r),t=!0},p(n,r){e&&e.p&&(!t||r&64)&&wt(e,i,n,n[6],t?$t(i,n[6],r,mi):yt(n[6]),pe)},i(n){t||(y(e,n),t=!0)},o(n){E(e,n),t=!1},d(n){e&&e.d(n)}}}function me(l){let t,i;return t=new te({props:{src:l[9].icon,size:"16"}}),{c(){C(t.$$.fragment)},l(e){L(t.$$.fragment,e)},m(e,n){R(t,e,n),i=!0},p(e,n){const r={};n&2&&(r.src=e[9].icon),t.$set(r)},i(e){i||(y(t.$$.fragment,e),i=!0)},o(e){E(t.$$.fragment,e),i=!1},d(e){q(t,e)}}}function he(l){let t,i,e,n=l[9].title+"",r,o,s,f,d,a=l[9].icon&&me(l);function b(){return l[8](l[9])}return{c(){t=T("div"),a&&a.c(),i=P(),e=T("div"),r=Y(n),o=P(),this.h()},l(c){t=z(c,"DIV",{class:!0});var h=M(t);a&&a.l(h),i=U(h),e=z(h,"DIV",{});var m=M(e);r=G(m,n),m.forEach(w),o=U(h),h.forEach(w),this.h()},h(){F(e,"text-sm",l[9].icon),k(t,"class","px-3 py-2 rounded bg-blue-50 text-blue-700 flex flex-col items-center justify-center svelte-1mwawgl"),F(t,"active",l[0].has(l[9].title)),F(t,"grow",l[3])},m(c,h){O(c,t,h),a&&a.m(t,null),v(t,i),v(t,e),v(e,r),v(t,o),s=!0,f||(d=Z(t,"click",b),f=!0)},p(c,h){l=c,l[9].icon?a?(a.p(l,h),h&2&&y(a,1)):(a=me(l),a.c(),y(a,1),a.m(t,i)):a&&(tt(),E(a,1,1,()=>{a=null}),et()),(!s||h&2)&&n!==(n=l[9].title+"")&&nt(r,n),h&2&&F(e,"text-sm",l[9].icon),h&3&&F(t,"active",l[0].has(l[9].title)),h&8&&F(t,"grow",l[3])},i(c){s||(y(a),s=!0)},o(c){E(a),s=!1},d(c){c&&w(t),a&&a.d(),f=!1,d()}}}function _i(l){let t,i,e,n,r,o,s;const f=[bi,hi],d=[];function a(m,u){return m[5].label?0:m[2]?1:-1}~(e=a(l))&&(n=d[e]=f[e](l));let b=l[1],c=[];for(let m=0;m<b.length;m+=1)c[m]=he(ge(l,b,m));const h=m=>E(c[m],1,1,()=>{c[m]=null});return{c(){t=T("div"),i=T("div"),n&&n.c(),r=P(),o=T("div");for(let m=0;m<c.length;m+=1)c[m].c();this.h()},l(m){t=z(m,"DIV",{class:!0});var u=M(t);i=z(u,"DIV",{class:!0});var p=M(i);n&&n.l(p),p.forEach(w),r=U(u),o=z(u,"DIV",{class:!0});var g=M(o);for(let _=0;_<c.length;_+=1)c[_].l(g);g.forEach(w),u.forEach(w),this.h()},h(){k(i,"class","mx-1 mb-px text-sm"),k(o,"class","flex gap-2"),k(t,"class","my-4 block box-border")},m(m,u){O(m,t,u),v(t,i),~e&&d[e].m(i,null),v(t,r),v(t,o);for(let p=0;p<c.length;p+=1)c[p].m(o,null);s=!0},p(m,[u]){let p=e;if(e=a(m),e===p?~e&&d[e].p(m,u):(n&&(tt(),E(d[p],1,1,()=>{d[p]=null}),et()),~e?(n=d[e],n?n.p(m,u):(n=d[e]=f[e](m),n.c()),y(n,1),n.m(i,null)):n=null),u&27){b=m[1];let g;for(g=0;g<b.length;g+=1){const _=ge(m,b,g);c[g]?(c[g].p(_,u),y(c[g],1)):(c[g]=he(_),c[g].c(),y(c[g],1),c[g].m(o,null))}for(tt(),g=b.length;g<c.length;g+=1)h(g);et()}},i(m){if(!s){y(n);for(let u=0;u<b.length;u+=1)y(c[u]);s=!0}},o(m){E(n),c=c.filter(Boolean);for(let u=0;u<c.length;u+=1)E(c[u]);s=!1},d(m){m&&w(t),~e&&d[e].d(),Rt(c,m)}}}function vi(l,t,i){let{$$slots:e={},$$scope:n}=t;const r=Lt(e);let{value:o=new Set([])}=t,{options:s=[]}=t,{label:f=""}=t,{grow:d=!1}=t;function a(c){o.has(c.title)?(o.delete(c.title),i(0,o=new Set(o))):(o.add(c.title),i(0,o=new Set(o)))}const b=c=>a(c);return l.$$set=c=>{"value"in c&&i(0,o=c.value),"options"in c&&i(1,s=c.options),"label"in c&&i(2,f=c.label),"grow"in c&&i(3,d=c.grow),"$$scope"in c&&i(6,n=c.$$scope)},[o,s,f,d,a,r,n,e,b]}class Le extends dt{constructor(t){super(),gt(this,t,vi,_i,pt,{value:0,options:1,label:2,grow:3})}}function be(l,t,i){const e=l.slice();return e[9]=t[i],e}const wi=l=>({}),_e=l=>({});function yi(l){let t;return{c(){t=Y(l[2])},l(i){t=G(i,l[2])},m(i,e){O(i,t,e)},p(i,e){e&4&&nt(t,i[2])},i:lt,o:lt,d(i){i&&w(t)}}}function $i(l){let t;const i=l[7].label,e=vt(i,l,l[6],_e);return{c(){e&&e.c()},l(n){e&&e.l(n)},m(n,r){e&&e.m(n,r),t=!0},p(n,r){e&&e.p&&(!t||r&64)&&wt(e,i,n,n[6],t?$t(i,n[6],r,wi):yt(n[6]),_e)},i(n){t||(y(e,n),t=!0)},o(n){E(e,n),t=!1},d(n){e&&e.d(n)}}}function ve(l){let t,i;return t=new te({props:{src:l[9].icon,size:"16"}}),{c(){C(t.$$.fragment)},l(e){L(t.$$.fragment,e)},m(e,n){R(t,e,n),i=!0},p(e,n){const r={};n&2&&(r.src=e[9].icon),t.$set(r)},i(e){i||(y(t.$$.fragment,e),i=!0)},o(e){E(t.$$.fragment,e),i=!1},d(e){q(t,e)}}}function we(l){let t,i,e,n=l[9].title+"",r,o,s,f,d,a=l[9].icon&&ve(l);function b(){return l[8](l[9])}return{c(){t=T("div"),a&&a.c(),i=P(),e=T("div"),r=Y(n),o=P(),this.h()},l(c){t=z(c,"DIV",{class:!0});var h=M(t);a&&a.l(h),i=U(h),e=z(h,"DIV",{});var m=M(e);r=G(m,n),m.forEach(w),o=U(h),h.forEach(w),this.h()},h(){F(e,"text-sm",l[9].icon),k(t,"class","px-3 py-2 rounded bg-blue-50 text-blue-700 flex flex-col items-center justify-center svelte-1mwawgl"),F(t,"active",l[0]==l[9].title),F(t,"grow",l[3])},m(c,h){O(c,t,h),a&&a.m(t,null),v(t,i),v(t,e),v(e,r),v(t,o),s=!0,f||(d=Z(t,"click",b),f=!0)},p(c,h){l=c,l[9].icon?a?(a.p(l,h),h&2&&y(a,1)):(a=ve(l),a.c(),y(a,1),a.m(t,i)):a&&(tt(),E(a,1,1,()=>{a=null}),et()),(!s||h&2)&&n!==(n=l[9].title+"")&&nt(r,n),h&2&&F(e,"text-sm",l[9].icon),h&3&&F(t,"active",l[0]==l[9].title),h&8&&F(t,"grow",l[3])},i(c){s||(y(a),s=!0)},o(c){E(a),s=!1},d(c){c&&w(t),a&&a.d(),f=!1,d()}}}function ki(l){let t,i,e,n,r,o,s;const f=[$i,yi],d=[];function a(m,u){return m[5].label?0:m[2]?1:-1}~(e=a(l))&&(n=d[e]=f[e](l));let b=l[1],c=[];for(let m=0;m<b.length;m+=1)c[m]=we(be(l,b,m));const h=m=>E(c[m],1,1,()=>{c[m]=null});return{c(){t=T("div"),i=T("div"),n&&n.c(),r=P(),o=T("div");for(let m=0;m<c.length;m+=1)c[m].c();this.h()},l(m){t=z(m,"DIV",{class:!0});var u=M(t);i=z(u,"DIV",{class:!0});var p=M(i);n&&n.l(p),p.forEach(w),r=U(u),o=z(u,"DIV",{class:!0});var g=M(o);for(let _=0;_<c.length;_+=1)c[_].l(g);g.forEach(w),u.forEach(w),this.h()},h(){k(i,"class","mx-1 mb-px text-sm"),k(o,"class","flex gap-2"),k(t,"class","my-4 block box-border")},m(m,u){O(m,t,u),v(t,i),~e&&d[e].m(i,null),v(t,r),v(t,o);for(let p=0;p<c.length;p+=1)c[p].m(o,null);s=!0},p(m,[u]){let p=e;if(e=a(m),e===p?~e&&d[e].p(m,u):(n&&(tt(),E(d[p],1,1,()=>{d[p]=null}),et()),~e?(n=d[e],n?n.p(m,u):(n=d[e]=f[e](m),n.c()),y(n,1),n.m(i,null)):n=null),u&27){b=m[1];let g;for(g=0;g<b.length;g+=1){const _=be(m,b,g);c[g]?(c[g].p(_,u),y(c[g],1)):(c[g]=we(_),c[g].c(),y(c[g],1),c[g].m(o,null))}for(tt(),g=b.length;g<c.length;g+=1)h(g);et()}},i(m){if(!s){y(n);for(let u=0;u<b.length;u+=1)y(c[u]);s=!0}},o(m){E(n),c=c.filter(Boolean);for(let u=0;u<c.length;u+=1)E(c[u]);s=!1},d(m){m&&w(t),~e&&d[e].d(),Rt(c,m)}}}function Si(l,t,i){let{$$slots:e={},$$scope:n}=t;const r=Lt(e);let{options:o=[]}=t,{value:s=o[0].title}=t,{label:f=""}=t,{grow:d=!1}=t;const a=c=>i(0,s=c.title),b=c=>a(c);return l.$$set=c=>{"options"in c&&i(1,o=c.options),"value"in c&&i(0,s=c.value),"label"in c&&i(2,f=c.label),"grow"in c&&i(3,d=c.grow),"$$scope"in c&&i(6,n=c.$$scope)},[s,o,f,d,a,r,n,e,b]}class Re extends dt{constructor(t){super(),gt(this,t,Si,ki,pt,{options:1,value:0,label:2,grow:3})}}function ye(l,t,i){const e=l.slice();return e[15]=t[i],e[16]=t,e[17]=i,e}const Ei=l=>({}),$e=l=>({});function Ii(l){let t;return{c(){t=Y(l[1])},l(i){t=G(i,l[1])},m(i,e){O(i,t,e)},p(i,e){e&2&&nt(t,i[1])},i:lt,o:lt,d(i){i&&w(t)}}}function Di(l){let t;const i=l[9].label,e=vt(i,l,l[8],$e);return{c(){e&&e.c()},l(n){e&&e.l(n)},m(n,r){e&&e.m(n,r),t=!0},p(n,r){e&&e.p&&(!t||r&256)&&wt(e,i,n,n[8],t?$t(i,n[8],r,Ei):yt(n[8]),$e)},i(n){t||(y(e,n),t=!0)},o(n){E(e,n),t=!1},d(n){e&&e.d(n)}}}function ke(l){let t,i,e,n,r,o,s;function f(){l[10].call(i,l[17])}function d(){return l[11](l[17])}return n=new bt({props:{destructive:!0,icon:je}}),n.$on("click",d),{c(){t=T("div"),i=T("input"),e=P(),C(n.$$.fragment),this.h()},l(a){t=z(a,"DIV",{class:!0});var b=M(t);i=z(b,"INPUT",{class:!0,type:!0}),e=U(b),L(n.$$.fragment,b),b.forEach(w),this.h()},h(){k(i,"class","w-full"),k(i,"type","date"),k(t,"class","flex gap-2")},m(a,b){O(a,t,b),v(t,i),x(i,l[0][l[17]]),v(t,e),R(n,t,null),r=!0,o||(s=Z(i,"input",f),o=!0)},p(a,b){l=a,b&1&&x(i,l[0][l[17]])},i(a){r||(y(n.$$.fragment,a),r=!0)},o(a){E(n.$$.fragment,a),r=!1},d(a){a&&w(t),q(n),o=!1,s()}}}function Se(l){let t,i,e,n,r,o,s;return n=new bt({props:{icon:ee}}),n.$on("click",l[4]),{c(){t=T("div"),i=T("input"),e=P(),C(n.$$.fragment),this.h()},l(f){t=z(f,"DIV",{class:!0});var d=M(t);i=z(d,"INPUT",{class:!0,type:!0}),e=U(d),L(n.$$.fragment,d),d.forEach(w),this.h()},h(){k(i,"class","w-full"),k(i,"type","date"),k(t,"class","newDate flex gap-2")},m(f,d){O(f,t,d),v(t,i),x(i,l[3]),v(t,e),R(n,t,null),r=!0,o||(s=Z(i,"input",l[12]),o=!0)},p(f,d){d&8&&x(i,f[3])},i(f){r||(y(n.$$.fragment,f),r=!0)},o(f){E(n.$$.fragment,f),r=!1},d(f){f&&w(t),q(n),o=!1,s()}}}function Ti(l){let t,i,e,n,r,o,s,f;const d=[Di,Ii],a=[];function b(p,g){return p[6].label?0:p[1]?1:-1}~(e=b(l))&&(n=a[e]=d[e](l));let c=l[0],h=[];for(let p=0;p<c.length;p+=1)h[p]=ke(ye(l,c,p));const m=p=>E(h[p],1,1,()=>{h[p]=null});let u=(l[2]==-1||l[0].length<l[2])&&Se(l);return{c(){t=T("div"),i=T("div"),n&&n.c(),r=P(),o=T("div");for(let p=0;p<h.length;p+=1)h[p].c();s=P(),u&&u.c(),this.h()},l(p){t=z(p,"DIV",{class:!0});var g=M(t);i=z(g,"DIV",{class:!0});var _=M(i);n&&n.l(_),_.forEach(w),r=U(g),o=z(g,"DIV",{class:!0});var S=M(o);for(let I=0;I<h.length;I+=1)h[I].l(S);s=U(S),u&&u.l(S),S.forEach(w),g.forEach(w),this.h()},h(){k(i,"class","mx-1 mb-px text-sm"),k(o,"class","dates flex flex-col gap-4"),k(t,"class","pb-3")},m(p,g){O(p,t,g),v(t,i),~e&&a[e].m(i,null),v(t,r),v(t,o);for(let _=0;_<h.length;_+=1)h[_].m(o,null);v(o,s),u&&u.m(o,null),f=!0},p(p,[g]){let _=e;if(e=b(p),e===_?~e&&a[e].p(p,g):(n&&(tt(),E(a[_],1,1,()=>{a[_]=null}),et()),~e?(n=a[e],n?n.p(p,g):(n=a[e]=d[e](p),n.c()),y(n,1),n.m(i,null)):n=null),g&33){c=p[0];let S;for(S=0;S<c.length;S+=1){const I=ye(p,c,S);h[S]?(h[S].p(I,g),y(h[S],1)):(h[S]=ke(I),h[S].c(),y(h[S],1),h[S].m(o,s))}for(tt(),S=c.length;S<h.length;S+=1)m(S);et()}p[2]==-1||p[0].length<p[2]?u?(u.p(p,g),g&5&&y(u,1)):(u=Se(p),u.c(),y(u,1),u.m(o,null)):u&&(tt(),E(u,1,1,()=>{u=null}),et())},i(p){if(!f){y(n);for(let g=0;g<c.length;g+=1)y(h[g]);y(u),f=!0}},o(p){E(n),h=h.filter(Boolean);for(let g=0;g<h.length;g+=1)E(h[g]);E(u),f=!1},d(p){p&&w(t),~e&&a[e].d(),Rt(h,p),u&&u.d()}}}function zi(l,t,i){let{$$slots:e={},$$scope:n}=t;const r=Lt(e);let{dates:o=[]}=t,{dateStrings:s=[]}=t,{label:f=""}=t,{maxDates:d=5}=t,a="",b="";function c(){!a||(i(0,s=[...s,a]),s.sort(),i(3,a=""))}function h(_){i(0,s=[...s.slice(0,_),...s.slice(_+1)])}function m(){s.toString()!=b&&(i(0,s=s.filter(_=>_!="")),i(7,o=s.map(_=>Ot.PlainDate.from(_))),b=s.toString())}function u(_){s[_]=this.value,i(0,s)}const p=_=>h(_);function g(){a=this.value,i(3,a)}return l.$$set=_=>{"dates"in _&&i(7,o=_.dates),"dateStrings"in _&&i(0,s=_.dateStrings),"label"in _&&i(1,f=_.label),"maxDates"in _&&i(2,d=_.maxDates),"$$scope"in _&&i(8,n=_.$$scope)},l.$$.update=()=>{l.$$.dirty&1&&s&&m()},[s,f,d,a,c,h,r,o,n,e,u,p,g]}class Vi extends dt{constructor(t){super(),gt(this,t,zi,Ti,pt,{dates:7,dateStrings:0,label:1,maxDates:2})}}function Ee(l,t,i){const e=l.slice();return e[17]=t[i],e[18]=t,e[19]=i,e}const Ni=l=>({}),Ie=l=>({});function Mi(l){let t;return{c(){t=Y(l[1])},l(i){t=G(i,l[1])},m(i,e){O(i,t,e)},p(i,e){e&2&&nt(t,i[1])},i:lt,o:lt,d(i){i&&w(t)}}}function Pi(l){let t;const i=l[9].label,e=vt(i,l,l[8],Ie);return{c(){e&&e.c()},l(n){e&&e.l(n)},m(n,r){e&&e.m(n,r),t=!0},p(n,r){e&&e.p&&(!t||r&256)&&wt(e,i,n,n[8],t?$t(i,n[8],r,Ni):yt(n[8]),Ie)},i(n){t||(y(e,n),t=!0)},o(n){E(e,n),t=!1},d(n){e&&e.d(n)}}}function De(l){let t,i,e,n,r,o,s,f,d;function a(){l[10].call(i,l[19])}function b(){l[11].call(n,l[19])}function c(){return l[12](l[19])}return o=new bt({props:{destructive:!0,icon:je}}),o.$on("click",c),{c(){t=T("div"),i=T("input"),e=P(),n=T("input"),r=P(),C(o.$$.fragment),this.h()},l(h){t=z(h,"DIV",{class:!0});var m=M(t);i=z(m,"INPUT",{class:!0,type:!0}),e=U(m),n=z(m,"INPUT",{class:!0,type:!0}),r=U(m),L(o.$$.fragment,m),m.forEach(w),this.h()},h(){k(i,"class","w-full"),k(i,"type","time"),k(n,"class","w-full"),k(n,"type","time"),k(t,"class","flex gap-2")},m(h,m){O(h,t,m),v(t,i),x(i,l[0][l[19]].from),v(t,e),v(t,n),x(n,l[0][l[19]].to),v(t,r),R(o,t,null),s=!0,f||(d=[Z(i,"input",a),Z(n,"input",b)],f=!0)},p(h,m){l=h,m&1&&x(i,l[0][l[19]].from),m&1&&x(n,l[0][l[19]].to)},i(h){s||(y(o.$$.fragment,h),s=!0)},o(h){E(o.$$.fragment,h),s=!1},d(h){h&&w(t),q(o),f=!1,St(d)}}}function Te(l){let t,i,e,n,r,o,s,f,d;return o=new bt({props:{icon:ee}}),o.$on("click",l[4]),{c(){t=T("div"),i=T("input"),e=P(),n=T("input"),r=P(),C(o.$$.fragment),this.h()},l(a){t=z(a,"DIV",{class:!0});var b=M(t);i=z(b,"INPUT",{class:!0,type:!0}),e=U(b),n=z(b,"INPUT",{class:!0,type:!0}),r=U(b),L(o.$$.fragment,b),b.forEach(w),this.h()},h(){k(i,"class","w-full"),k(i,"type","time"),k(n,"class","w-full"),k(n,"type","time"),k(t,"class","newTime flex gap-2")},m(a,b){O(a,t,b),v(t,i),x(i,l[3].from),v(t,e),v(t,n),x(n,l[3].to),v(t,r),R(o,t,null),s=!0,f||(d=[Z(i,"input",l[13]),Z(n,"input",l[14])],f=!0)},p(a,b){b&8&&x(i,a[3].from),b&8&&x(n,a[3].to)},i(a){s||(y(o.$$.fragment,a),s=!0)},o(a){E(o.$$.fragment,a),s=!1},d(a){a&&w(t),q(o),f=!1,St(d)}}}function Ui(l){let t,i,e,n,r,o,s,f;const d=[Pi,Mi],a=[];function b(p,g){return p[6].label?0:p[1]?1:-1}~(e=b(l))&&(n=a[e]=d[e](l));let c=l[0],h=[];for(let p=0;p<c.length;p+=1)h[p]=De(Ee(l,c,p));const m=p=>E(h[p],1,1,()=>{h[p]=null});let u=(l[2]==-1||l[0].length<l[2])&&Te(l);return{c(){t=T("div"),i=T("div"),n&&n.c(),r=P(),o=T("div");for(let p=0;p<h.length;p+=1)h[p].c();s=P(),u&&u.c(),this.h()},l(p){t=z(p,"DIV",{});var g=M(t);i=z(g,"DIV",{class:!0});var _=M(i);n&&n.l(_),_.forEach(w),r=U(g),o=z(g,"DIV",{class:!0});var S=M(o);for(let I=0;I<h.length;I+=1)h[I].l(S);s=U(S),u&&u.l(S),S.forEach(w),g.forEach(w),this.h()},h(){k(i,"class","mx-1 mb-px text-sm"),k(o,"class","times flex flex-col gap-4")},m(p,g){O(p,t,g),v(t,i),~e&&a[e].m(i,null),v(t,r),v(t,o);for(let _=0;_<h.length;_+=1)h[_].m(o,null);v(o,s),u&&u.m(o,null),f=!0},p(p,[g]){let _=e;if(e=b(p),e===_?~e&&a[e].p(p,g):(n&&(tt(),E(a[_],1,1,()=>{a[_]=null}),et()),~e?(n=a[e],n?n.p(p,g):(n=a[e]=d[e](p),n.c()),y(n,1),n.m(i,null)):n=null),g&33){c=p[0];let S;for(S=0;S<c.length;S+=1){const I=Ee(p,c,S);h[S]?(h[S].p(I,g),y(h[S],1)):(h[S]=De(I),h[S].c(),y(h[S],1),h[S].m(o,s))}for(tt(),S=c.length;S<h.length;S+=1)m(S);et()}p[2]==-1||p[0].length<p[2]?u?(u.p(p,g),g&5&&y(u,1)):(u=Te(p),u.c(),y(u,1),u.m(o,null)):u&&(tt(),E(u,1,1,()=>{u=null}),et())},i(p){if(!f){y(n);for(let g=0;g<c.length;g+=1)y(h[g]);y(u),f=!0}},o(p){E(n),h=h.filter(Boolean);for(let g=0;g<h.length;g+=1)E(h[g]);E(u),f=!1},d(p){p&&w(t),~e&&a[e].d(),Rt(h,p),u&&u.d()}}}function Wi(l,t,i){let{$$slots:e={},$$scope:n}=t;const r=Lt(e);let{times:o=[]}=t,{timeStrings:s=[]}=t,{label:f="init"}=t,{maxTimes:d=5}=t,a={from:"",to:""},b="";function c(){!a.from||!a.to||(i(0,s=[a,...s]),i(3,a={from:"",to:""}))}function h(I){i(0,s=[...s.slice(0,I),...s.slice(I+1)])}function m(){var W;const I=(W=JSON.stringify(s))!=null?W:"";I!=b&&(i(0,s=s.filter(N=>N.from!=""||N.to!="")),b=I,i(7,o=s.map(N=>{const B=Ot.PlainTime.from(N.from),D=Ot.PlainTime.from(N.to),V={from:D,to:B};return B.until(D).hours<0||B.until(D).hours==0&&B.until(D).minutes<0?V:{from:B,to:D}})))}function u(I){s[I].from=this.value,i(0,s)}function p(I){s[I].to=this.value,i(0,s)}const g=I=>h(I);function _(){a.from=this.value,i(3,a)}function S(){a.to=this.value,i(3,a)}return l.$$set=I=>{"times"in I&&i(7,o=I.times),"timeStrings"in I&&i(0,s=I.timeStrings),"label"in I&&i(1,f=I.label),"maxTimes"in I&&i(2,d=I.maxTimes),"$$scope"in I&&i(8,n=I.$$scope)},l.$$.update=()=>{l.$$.dirty&1&&s&&m()},[s,f,d,a,c,h,r,o,n,e,u,p,g,_,S]}class ji extends dt{constructor(t){super(),gt(this,t,Wi,Ui,pt,{times:7,timeStrings:0,label:1,maxTimes:2})}}function ze(l){let t,i,e=l[0].editMode?"Edit":"Create New",n,r,o,s,f,d,a,b,c,h,m,u,p,g,_,S,I,W,N,B,D,V,J,at,H,j,rt,K,mt,kt,zt;function Jt($){l[6]($)}let Vt={type:"text",label:"title"};l[0].activity.title!==void 0&&(Vt.value=l[0].activity.title),d=new ht({props:Vt}),ct.push(()=>ut(d,"value",Jt));function Xt($){l[7]($)}let Nt={dateStrings:l[2],label:"Enter possible dates"};l[0].activity.dates!==void 0&&(Nt.dates=l[0].activity.dates),c=new Vi({props:Nt}),ct.push(()=>ut(c,"dates",Xt));function Zt($){l[8]($)}let Mt={timeStrings:l[1],label:"Enter possible times"};l[0].activity.times!==void 0&&(Mt.times=l[0].activity.times),u=new ji({props:Mt}),ct.push(()=>ut(u,"times",Zt));function Kt($){l[9]($)}let Pt={type:"text",placeholder:"Where?",label:"Location"};l[0].activity.location!==void 0&&(Pt.value=l[0].activity.location),S=new ht({props:Pt}),ct.push(()=>ut(S,"value",Kt));function qt($){l[10]($)}let Ut={grow:!0,label:"Get notified if it will",options:[{title:"Sun",icon:Ae},{title:"Windy"},{title:"Rain"},{title:"Snow"},{title:"Thunder",icon:Be}]};l[0].activity.notifyOnWeather!==void 0&&(Ut.value=l[0].activity.notifyOnWeather),N=new Le({props:Ut}),ct.push(()=>ut(N,"value",qt));function Ft($){l[11]($)}let Wt={grow:!0,label:"Activity type",options:[{title:"Work",icon:Oe},{title:"Food"},{title:"Fun"},{title:"Workout"},{title:"Relax"}]};return l[0].activity.actitityType!==void 0&&(Wt.value=l[0].activity.actitityType),V=new Re({props:Wt}),ct.push(()=>ut(V,"value",Ft)),j=new bt({props:{destructive:!0,$$slots:{default:[Ai]},$$scope:{ctx:l}}}),j.$on("click",l[5]),{c(){t=T("form"),i=T("h3"),n=Y(e),r=Y(" activity"),o=P(),s=T("div"),f=T("div"),C(d.$$.fragment),b=P(),C(c.$$.fragment),m=P(),C(u.$$.fragment),g=P(),_=T("div"),C(S.$$.fragment),W=P(),C(N.$$.fragment),D=P(),C(V.$$.fragment),at=P(),H=T("div"),C(j.$$.fragment),rt=P(),K=T("input"),this.h()},l($){t=z($,"FORM",{});var A=M(t);i=z(A,"H3",{class:!0});var st=M(i);n=G(st,e),r=G(st," activity"),st.forEach(w),o=U(A),s=z(A,"DIV",{class:!0});var it=M(s);f=z(it,"DIV",{class:!0});var X=M(f);L(d.$$.fragment,X),b=U(X),L(c.$$.fragment,X),m=U(X),L(u.$$.fragment,X),X.forEach(w),g=U(it),_=z(it,"DIV",{class:!0});var Q=M(_);L(S.$$.fragment,Q),W=U(Q),L(N.$$.fragment,Q),D=U(Q),L(V.$$.fragment,Q),Q.forEach(w),it.forEach(w),at=U(A),H=z(A,"DIV",{class:!0});var ot=M(H);L(j.$$.fragment,ot),rt=U(ot),K=z(ot,"INPUT",{class:!0,type:!0}),ot.forEach(w),A.forEach(w),this.h()},h(){k(i,"class","text-xl border-b border-b-black/50 border-solid mb-4 pb-2 capitalize"),k(f,"class","left grow"),k(_,"class","right grow"),k(s,"class","flex gap-4 w-full"),k(K,"class","bg-slate-100 hover:bg-slate-300 transition-colors px-3 py-2 rounded cursor-pointer"),k(K,"type","submit"),K.value="submit",k(H,"class","flex justify-end gap-4")},m($,A){O($,t,A),v(t,i),v(i,n),v(i,r),v(t,o),v(t,s),v(s,f),R(d,f,null),v(f,b),R(c,f,null),v(f,m),R(u,f,null),v(s,g),v(s,_),R(S,_,null),v(_,W),R(N,_,null),v(_,D),R(V,_,null),v(t,at),v(t,H),R(j,H,null),v(H,rt),v(H,K),mt=!0,kt||(zt=[Z(K,"click",Ht(l[4])),Z(t,"submit",Ht(l[4]))],kt=!0)},p($,A){(!mt||A&1)&&e!==(e=$[0].editMode?"Edit":"Create New")&&nt(n,e);const st={};!a&&A&1&&(a=!0,st.value=$[0].activity.title,ft(()=>a=!1)),d.$set(st);const it={};A&4&&(it.dateStrings=$[2]),!h&&A&1&&(h=!0,it.dates=$[0].activity.dates,ft(()=>h=!1)),c.$set(it);const X={};A&2&&(X.timeStrings=$[1]),!p&&A&1&&(p=!0,X.times=$[0].activity.times,ft(()=>p=!1)),u.$set(X);const Q={};!I&&A&1&&(I=!0,Q.value=$[0].activity.location,ft(()=>I=!1)),S.$set(Q);const ot={};!B&&A&1&&(B=!0,ot.value=$[0].activity.notifyOnWeather,ft(()=>B=!1)),N.$set(ot);const jt={};!J&&A&1&&(J=!0,jt.value=$[0].activity.actitityType,ft(()=>J=!1)),V.$set(jt);const At={};A&4097&&(At.$$scope={dirty:A,ctx:$}),j.$set(At)},i($){mt||(y(d.$$.fragment,$),y(c.$$.fragment,$),y(u.$$.fragment,$),y(S.$$.fragment,$),y(N.$$.fragment,$),y(V.$$.fragment,$),y(j.$$.fragment,$),mt=!0)},o($){E(d.$$.fragment,$),E(c.$$.fragment,$),E(u.$$.fragment,$),E(S.$$.fragment,$),E(N.$$.fragment,$),E(V.$$.fragment,$),E(j.$$.fragment,$),mt=!1},d($){$&&w(t),q(d),q(c),q(u),q(S),q(N),q(V),q(j),kt=!1,St(zt)}}}function Ai(l){let t=l[0].editMode?"Remove":"Cancel",i;return{c(){i=Y(t)},l(e){i=G(e,t)},m(e,n){O(e,i,n)},p(e,n){n&1&&t!==(t=e[0].editMode?"Remove":"Cancel")&&nt(i,t)},d(e){e&&w(i)}}}function Bi(l){let t,i,e=l[0]&&l[3]&&ze(l);return{c(){e&&e.c(),t=_t()},l(n){e&&e.l(n),t=_t()},m(n,r){e&&e.m(n,r),O(n,t,r),i=!0},p(n,[r]){n[0]&&n[3]?e?(e.p(n,r),r&9&&y(e,1)):(e=ze(n),e.c(),y(e,1),e.m(t.parentNode,t)):e&&(tt(),E(e,1,1,()=>{e=null}),et())},i(n){i||(y(e),i=!0)},o(n){E(e),i=!1},d(n){e&&e.d(n),n&&w(t)}}}function Oi(l,t,i){let e,n,r;Et(l,It,u=>i(3,r=u));let o=r;function s(){!o||(o.editMode?Dt.updateActivity(o.activity):Dt.add(o.activity),We("./planning"),It.reset())}function f(){o!=null&&o.editMode&&Dt.deleteActivity(o.activity),It.reset()}function d(u){l.$$.not_equal(o.activity.title,u)&&(o.activity.title=u,i(0,o))}function a(u){l.$$.not_equal(o.activity.dates,u)&&(o.activity.dates=u,i(0,o))}function b(u){l.$$.not_equal(o.activity.times,u)&&(o.activity.times=u,i(0,o))}function c(u){l.$$.not_equal(o.activity.location,u)&&(o.activity.location=u,i(0,o))}function h(u){l.$$.not_equal(o.activity.notifyOnWeather,u)&&(o.activity.notifyOnWeather=u,i(0,o))}function m(u){l.$$.not_equal(o.activity.actitityType,u)&&(o.activity.actitityType=u,i(0,o))}return l.$$.update=()=>{l.$$.dirty&1&&i(2,e=o==null?void 0:o.activity.dates.map(u=>u.toString())),l.$$.dirty&1&&i(1,n=o==null?void 0:o.activity.times.map(({from:u,to:p})=>({from:u.round({smallestUnit:"minute"}).toString(),to:p.round({smallestUnit:"minute"}).toString()})))},[o,n,e,r,s,f,d,a,b,c,h,m]}class Ci extends dt{constructor(t){super(),gt(this,t,Oi,Bi,pt,{})}}function Ve(l){var qt,Ut,Ft,Wt;let t,i,e=l[0].editMode?"Edit":"Create New",n,r,o,s,f,d,a,b,c,h,m,u,p,g,_,S,I,W,N,B,D,V,J,at,H,j,rt,K,mt,kt,zt;function Jt($){l[4]($)}let Vt={type:"text",label:"title"};l[0].activity.title!==void 0&&(Vt.value=l[0].activity.title),d=new ht({props:Vt}),ct.push(()=>ut(d,"value",Jt)),c=new ht({props:{type:"date",label:"date",value:l[0].activity.date.toString()}}),c.$on("change",l[5]),m=new ht({props:{type:"time",label:"from",value:(Ut=(qt=l[0])==null?void 0:qt.activity.time)==null?void 0:Ut.from.toString({smallestUnit:"minute"})}}),m.$on("change",l[6]),p=new ht({props:{type:"time",label:"to",value:(Wt=(Ft=l[0])==null?void 0:Ft.activity.time)==null?void 0:Wt.to.toString({smallestUnit:"minute"})}}),p.$on("change",l[7]);function Xt($){l[8]($)}let Nt={type:"text",placeholder:"Where?",label:"Location"};l[0].activity.location!==void 0&&(Nt.value=l[0].activity.location),S=new ht({props:Nt}),ct.push(()=>ut(S,"value",Xt));function Zt($){l[9]($)}let Mt={grow:!0,label:"Get notified if it will",options:[{title:"Sun",icon:Ae},{title:"Windy"},{title:"Rain"},{title:"Snow"},{title:"Thunder",icon:Be}]};l[0].activity.notifyOnWeather!==void 0&&(Mt.value=l[0].activity.notifyOnWeather),N=new Le({props:Mt}),ct.push(()=>ut(N,"value",Zt));function Kt($){l[10]($)}let Pt={grow:!0,label:"Activity type",options:[{title:"Work",icon:Oe},{title:"Food"},{title:"Fun"},{title:"Workout"},{title:"Relax"}]};return l[0].activity.actitityType!==void 0&&(Pt.value=l[0].activity.actitityType),V=new Re({props:Pt}),ct.push(()=>ut(V,"value",Kt)),j=new bt({props:{destructive:!0,$$slots:{default:[Li]},$$scope:{ctx:l}}}),j.$on("click",l[3]),{c(){t=T("form"),i=T("h3"),n=Y(e),r=Y(" activity"),o=P(),s=T("div"),f=T("div"),C(d.$$.fragment),b=P(),C(c.$$.fragment),h=P(),C(m.$$.fragment),u=P(),C(p.$$.fragment),g=P(),_=T("div"),C(S.$$.fragment),W=P(),C(N.$$.fragment),D=P(),C(V.$$.fragment),at=P(),H=T("div"),C(j.$$.fragment),rt=P(),K=T("input"),this.h()},l($){t=z($,"FORM",{});var A=M(t);i=z(A,"H3",{class:!0});var st=M(i);n=G(st,e),r=G(st," activity"),st.forEach(w),o=U(A),s=z(A,"DIV",{class:!0});var it=M(s);f=z(it,"DIV",{class:!0});var X=M(f);L(d.$$.fragment,X),b=U(X),L(c.$$.fragment,X),h=U(X),L(m.$$.fragment,X),u=U(X),L(p.$$.fragment,X),X.forEach(w),g=U(it),_=z(it,"DIV",{class:!0});var Q=M(_);L(S.$$.fragment,Q),W=U(Q),L(N.$$.fragment,Q),D=U(Q),L(V.$$.fragment,Q),Q.forEach(w),it.forEach(w),at=U(A),H=z(A,"DIV",{class:!0});var ot=M(H);L(j.$$.fragment,ot),rt=U(ot),K=z(ot,"INPUT",{class:!0,type:!0}),ot.forEach(w),A.forEach(w),this.h()},h(){k(i,"class","text-xl border-b border-b-black/50 border-solid mb-4 pb-2 capitalize"),k(f,"class","left grow"),k(_,"class","right grow"),k(s,"class","flex gap-4 w-full"),k(K,"class","bg-slate-100 hover:bg-slate-300 transition-colors px-3 py-2 rounded cursor-pointer"),k(K,"type","submit"),K.value="submit",k(H,"class","flex justify-end gap-4")},m($,A){O($,t,A),v(t,i),v(i,n),v(i,r),v(t,o),v(t,s),v(s,f),R(d,f,null),v(f,b),R(c,f,null),v(f,h),R(m,f,null),v(f,u),R(p,f,null),v(s,g),v(s,_),R(S,_,null),v(_,W),R(N,_,null),v(_,D),R(V,_,null),v(t,at),v(t,H),R(j,H,null),v(H,rt),v(H,K),mt=!0,kt||(zt=[Z(K,"click",Ht(l[2])),Z(t,"submit",Ht(l[2]))],kt=!0)},p($,A){var ne,le,re,oe;(!mt||A&1)&&e!==(e=$[0].editMode?"Edit":"Create New")&&nt(n,e);const st={};!a&&A&1&&(a=!0,st.value=$[0].activity.title,ft(()=>a=!1)),d.$set(st);const it={};A&1&&(it.value=$[0].activity.date.toString()),c.$set(it);const X={};A&1&&(X.value=(le=(ne=$[0])==null?void 0:ne.activity.time)==null?void 0:le.from.toString({smallestUnit:"minute"})),m.$set(X);const Q={};A&1&&(Q.value=(oe=(re=$[0])==null?void 0:re.activity.time)==null?void 0:oe.to.toString({smallestUnit:"minute"})),p.$set(Q);const ot={};!I&&A&1&&(I=!0,ot.value=$[0].activity.location,ft(()=>I=!1)),S.$set(ot);const jt={};!B&&A&1&&(B=!0,jt.value=$[0].activity.notifyOnWeather,ft(()=>B=!1)),N.$set(jt);const At={};!J&&A&1&&(J=!0,At.value=$[0].activity.actitityType,ft(()=>J=!1)),V.$set(At);const ie={};A&2049&&(ie.$$scope={dirty:A,ctx:$}),j.$set(ie)},i($){mt||(y(d.$$.fragment,$),y(c.$$.fragment,$),y(m.$$.fragment,$),y(p.$$.fragment,$),y(S.$$.fragment,$),y(N.$$.fragment,$),y(V.$$.fragment,$),y(j.$$.fragment,$),mt=!0)},o($){E(d.$$.fragment,$),E(c.$$.fragment,$),E(m.$$.fragment,$),E(p.$$.fragment,$),E(S.$$.fragment,$),E(N.$$.fragment,$),E(V.$$.fragment,$),E(j.$$.fragment,$),mt=!1},d($){$&&w(t),q(d),q(c),q(m),q(p),q(S),q(N),q(V),q(j),kt=!1,St(zt)}}}function Li(l){let t=l[0].editMode?"Remove":"Cancel",i;return{c(){i=Y(t)},l(e){i=G(e,t)},m(e,n){O(e,i,n)},p(e,n){n&1&&t!==(t=e[0].editMode?"Remove":"Cancel")&&nt(i,t)},d(e){e&&w(i)}}}function Ri(l){let t,i,e=l[0]&&l[1]&&Ve(l);return{c(){e&&e.c(),t=_t()},l(n){e&&e.l(n),t=_t()},m(n,r){e&&e.m(n,r),O(n,t,r),i=!0},p(n,[r]){n[0]&&n[1]?e?(e.p(n,r),r&3&&y(e,1)):(e=Ve(n),e.c(),y(e,1),e.m(t.parentNode,t)):e&&(tt(),E(e,1,1,()=>{e=null}),et())},i(n){i||(y(e),i=!0)},o(n){E(e),i=!1},d(n){e&&e.d(n),n&&w(t)}}}function qi(l,t,i){let e;Et(l,Bt,m=>i(1,e=m));let n=e;function r(){var m,u;!n||(n.editMode?Tt.updateActivity(n.activity):Tt.add(n.activity,n.activity.date,(m=n.activity.time)==null?void 0:m.from,(u=n.activity.time)==null?void 0:u.to),Bt.reset())}function o(){n!=null&&n.editMode&&Tt.deleteActivity(n.activity),Bt.reset()}function s(m){l.$$.not_equal(n.activity.title,m)&&(n.activity.title=m,i(0,n))}const f=m=>n==null?void 0:n.activity.setDate(m),d=m=>n==null?void 0:n.activity.setFromTime(m),a=m=>n==null?void 0:n.activity.setToTime(m);function b(m){l.$$.not_equal(n.activity.location,m)&&(n.activity.location=m,i(0,n))}function c(m){l.$$.not_equal(n.activity.notifyOnWeather,m)&&(n.activity.notifyOnWeather=m,i(0,n))}function h(m){l.$$.not_equal(n.activity.actitityType,m)&&(n.activity.actitityType=m,i(0,n))}return[n,e,r,o,s,f,d,a,b,c,h]}class Fi extends dt{constructor(t){super(),gt(this,t,qi,Ri,pt,{})}}const Hi=()=>{const l=Ge("__svelte__");return{page:{subscribe:l.page.subscribe},navigating:{subscribe:l.navigating.subscribe},get preloading(){return console.error("stores.preloading is deprecated; use stores.navigating instead"),{subscribe:l.navigating.subscribe}},session:l.session,updated:l.updated}},Yi={subscribe(l){return Hi().page.subscribe(l)}};function Ne(l,t,i){const e=l.slice();return e[6]=t[i],e}function Me(l){let t,i,e,n=l[6].title+"",r,o,s,f;return i=new te({props:{src:l[6].icon,size:"16"}}),{c(){t=T("a"),C(i.$$.fragment),e=P(),r=Y(n),o=P(),this.h()},l(d){t=z(d,"A",{href:!0,class:!0});var a=M(t);L(i.$$.fragment,a),e=U(a),r=G(a,n),o=U(a),a.forEach(w),this.h()},h(){k(t,"href",s=Ue+"/"+l[6].url[0]),k(t,"class","flex flex-row items-center justify-start px-2 gap-3 svelte-g314rs"),F(t,"active",l[6].url.includes(l[0].routeId||"upcomming"))},m(d,a){O(d,t,a),R(i,t,null),v(t,e),v(t,r),v(t,o),f=!0},p(d,a){a&9&&F(t,"active",d[6].url.includes(d[0].routeId||"upcomming"))},i(d){f||(y(i.$$.fragment,d),f=!0)},o(d){E(i.$$.fragment,d),f=!1},d(d){d&&w(t),q(i)}}}function Gi(l){let t;return{c(){t=Y("Create new event")},l(i){t=G(i,"Create new event")},m(i,e){O(i,t,e)},d(i){i&&w(t)}}}function Ji(l){let t,i;return t=new Ci({}),{c(){C(t.$$.fragment)},l(e){L(t.$$.fragment,e)},m(e,n){R(t,e,n),i=!0},i(e){i||(y(t.$$.fragment,e),i=!0)},o(e){E(t.$$.fragment,e),i=!1},d(e){q(t,e)}}}function Xi(l){let t,i;return t=new Fi({}),{c(){C(t.$$.fragment)},l(e){L(t.$$.fragment,e)},m(e,n){R(t,e,n),i=!0},i(e){i||(y(t.$$.fragment,e),i=!0)},o(e){E(t.$$.fragment,e),i=!1},d(e){q(t,e)}}}function Zi(l){let t,i,e,n,r,o,s,f,d,a,b,c,h,m,u,p,g,_,S=l[3],I=[];for(let D=0;D<S.length;D+=1)I[D]=Me(Ne(l,S,D));const W=D=>E(I[D],1,1,()=>{I[D]=null});a=new bt({props:{icon:ee,$$slots:{default:[Gi]},$$scope:{ctx:l}}}),a.$on("click",It.new),c=new di({props:{firstname:"John",lastname:"Doe"}});const N=l[4].default,B=vt(N,l,l[5],null);return u=new de({props:{visible:l[1]!==void 0,$$slots:{default:[Ji]},$$scope:{ctx:l}}}),u.$on("close",It.reset),g=new de({props:{visible:l[2]!==void 0,$$slots:{default:[Xi]},$$scope:{ctx:l}}}),g.$on("close",Bt.reset),{c(){t=T("div"),i=T("nav"),e=T("h1"),n=Y("PodPlanner"),r=P(),o=T("div");for(let D=0;D<I.length;D+=1)I[D].c();s=P(),f=T("main"),d=T("div"),C(a.$$.fragment),b=P(),C(c.$$.fragment),h=P(),B&&B.c(),m=P(),C(u.$$.fragment),p=P(),C(g.$$.fragment),this.h()},l(D){t=z(D,"DIV",{class:!0});var V=M(t);i=z(V,"NAV",{class:!0});var J=M(i);e=z(J,"H1",{class:!0});var at=M(e);n=G(at,"PodPlanner"),at.forEach(w),r=U(J),o=z(J,"DIV",{class:!0});var H=M(o);for(let K=0;K<I.length;K+=1)I[K].l(H);H.forEach(w),J.forEach(w),s=U(V),f=z(V,"MAIN",{class:!0});var j=M(f);d=z(j,"DIV",{class:!0});var rt=M(d);L(a.$$.fragment,rt),b=U(rt),L(c.$$.fragment,rt),rt.forEach(w),h=U(j),B&&B.l(j),j.forEach(w),V.forEach(w),m=U(D),L(u.$$.fragment,D),p=U(D),L(g.$$.fragment,D),this.h()},h(){k(e,"class","text-3xl font-bold border-b-2 border-green-700 text-green-700 mb-4"),k(o,"class","flex flex-col gap-2"),k(i,"class","flex-shrink-0 w-64 p-4 border-r border-slate-200 h-[100vh]"),k(d,"class","flex gap-4 justify-end mb-10"),k(f,"class","grow p-5"),k(t,"class","flex")},m(D,V){O(D,t,V),v(t,i),v(i,e),v(e,n),v(i,r),v(i,o);for(let J=0;J<I.length;J+=1)I[J].m(o,null);v(t,s),v(t,f),v(f,d),R(a,d,null),v(d,b),R(c,d,null),v(f,h),B&&B.m(f,null),O(D,m,V),R(u,D,V),O(D,p,V),R(g,D,V),_=!0},p(D,[V]){if(V&9){S=D[3];let j;for(j=0;j<S.length;j+=1){const rt=Ne(D,S,j);I[j]?(I[j].p(rt,V),y(I[j],1)):(I[j]=Me(rt),I[j].c(),y(I[j],1),I[j].m(o,null))}for(tt(),j=S.length;j<I.length;j+=1)W(j);et()}const J={};V&32&&(J.$$scope={dirty:V,ctx:D}),a.$set(J),B&&B.p&&(!_||V&32)&&wt(B,N,D,D[5],_?$t(N,D[5],V,null):yt(D[5]),null);const at={};V&2&&(at.visible=D[1]!==void 0),V&32&&(at.$$scope={dirty:V,ctx:D}),u.$set(at);const H={};V&4&&(H.visible=D[2]!==void 0),V&32&&(H.$$scope={dirty:V,ctx:D}),g.$set(H)},i(D){if(!_){for(let V=0;V<S.length;V+=1)y(I[V]);y(a.$$.fragment,D),y(c.$$.fragment,D),y(B,D),y(u.$$.fragment,D),y(g.$$.fragment,D),_=!0}},o(D){I=I.filter(Boolean);for(let V=0;V<I.length;V+=1)E(I[V]);E(a.$$.fragment,D),E(c.$$.fragment,D),E(B,D),E(u.$$.fragment,D),E(g.$$.fragment,D),_=!1},d(D){D&&w(t),Rt(I,D),q(a),q(c),B&&B.d(D),D&&w(m),q(u,D),D&&w(p),q(g,D)}}}function Ki(l,t,i){let e,n,r;Et(l,Yi,d=>i(0,e=d)),Et(l,It,d=>i(1,n=d)),Et(l,Bt,d=>i(2,r=d));let{$$slots:o={},$$scope:s}=t;const f=[{title:"Planning view",url:["planning",""],icon:Qt},{title:"Upcomming activities",url:["upcomming"],icon:Qt},{title:"Past activities",url:["past"],icon:Qt}];return l.$$set=d=>{"$$scope"in d&&i(5,s=d.$$scope)},[e,n,r,f,o,s]}class Qi extends dt{constructor(t){super(),gt(this,t,Ki,Zi,pt,{})}}const Ct=Ot.Now.plainDateISO(Ce),qe=Ct.add({days:1}),xi=Ct.add({days:2}),Gt=Ot.Now.plainTimeISO(Ce),Fe={from:Gt,to:Gt.add({minutes:30})},tn={from:Gt.add({minutes:90}),to:Gt.add({minutes:180})};function en(){const l=new se("","Test1","Work",new Set(["Windy","Rain"]),"Brussels",[Ct,qe]),t=new se("","Test2","Fun",new Set(["Windy","Rain"]),"Brussels",[Ct,xi],[Fe,tn]);Dt.add(l),Dt.add(t)}function nn(){const l=new ce("","Test1","Work",new Set(["Windy","Rain"]),"Brussels",qe),t=new ce("","Test2","Fun",new Set(["Windy","Rain"]),"Brussels",Ct.subtract({days:1}),Fe);Tt.add(l),Tt.add(t)}function ln(){const l=ae(Dt),t=ae(Tt);l.length||en(),t.length||nn()}function rn(l){let t,i;return t=new ci({}),{c(){C(t.$$.fragment)},l(e){L(t.$$.fragment,e)},m(e,n){R(t,e,n),i=!0},p:lt,i(e){i||(y(t.$$.fragment,e),i=!0)},o(e){E(t.$$.fragment,e),i=!1},d(e){q(t,e)}}}function on(l){let t,i;return t=new Qi({props:{$$slots:{default:[sn]},$$scope:{ctx:l}}}),{c(){C(t.$$.fragment)},l(e){L(t.$$.fragment,e)},m(e,n){R(t,e,n),i=!0},p(e,n){const r={};n&4&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){i||(y(t.$$.fragment,e),i=!0)},o(e){E(t.$$.fragment,e),i=!1},d(e){q(t,e)}}}function an(l){let t,i,e;return{c(){t=T("div"),i=T("img"),this.h()},l(n){t=z(n,"DIV",{class:!0});var r=M(t);i=z(r,"IMG",{class:!0,src:!0,alt:!0,height:!0}),r.forEach(w),this.h()},h(){k(i,"class","h-80 rounded-lg"),Je(i.src,e=Ue+"/loading.gif")||k(i,"src",e),k(i,"alt","loading"),k(i,"height","400"),k(t,"class","w-full h-[100vh] flex items-center justify-center antialiased")},m(n,r){O(n,t,r),v(t,i)},p:lt,i:lt,o:lt,d(n){n&&w(t)}}}function sn(l){let t;const i=l[1].default,e=vt(i,l,l[2],null);return{c(){e&&e.c()},l(n){e&&e.l(n)},m(n,r){e&&e.m(n,r),t=!0},p(n,r){e&&e.p&&(!t||r&4)&&wt(e,i,n,n[2],t?$t(i,n[2],r,null):yt(n[2]),null)},i(n){t||(y(e,n),t=!0)},o(n){E(e,n),t=!1},d(n){e&&e.d(n)}}}function cn(l){let t,i,e,n;const r=[an,on,rn],o=[];function s(f,d){return f[0].loading?0:f[0].userSession.isLoggedIn?1:2}return t=s(l),i=o[t]=r[t](l),{c(){i.c(),e=_t()},l(f){i.l(f),e=_t()},m(f,d){o[t].m(f,d),O(f,e,d),n=!0},p(f,[d]){let a=t;t=s(f),t===a?o[t].p(f,d):(tt(),E(o[a],1,1,()=>{o[a]=null}),et(),i=o[t],i?i.p(f,d):(i=o[t]=r[t](f),i.c()),y(i,1),i.m(e.parentNode,e))},i(f){n||(y(i),n=!0)},o(f){E(i),n=!1},d(f){o[t].d(f),f&&w(e)}}}function un(l,t,i){let e;Et(l,Yt,o=>i(0,e=o));let{$$slots:n={},$$scope:r}=t;return Pe(()=>{Yt.init(),window.setupActivities=ln}),l.$$set=o=>{"$$scope"in o&&i(2,r=o.$$scope)},[e,n,r]}class vn extends dt{constructor(t){super(),gt(this,t,un,cn,pt,{})}}export{vn as default};
