import{I as nt,S as ue,i as fe,s as de,e as D,k as P,t as G,c as T,a as V,d as y,m as M,h as X,b as S,J as F,g as A,K as w,n as x,o as $,p as ee,q as v,j as ae,L as Ce,M as Le,E as ne,N as we,O as ve,P as ye,Q as ke,R as Q,T as J,G as Se,U as pe,V as ge,w as O,x as R,y as B,W as me,B as L,v as zt,X as Ot,l as _e,Y as Rt,Z as Oe,_ as qe,$ as Ie,a0 as Bt}from"../chunks/index-74ecf14d.js";import{t as je,T as Vt,U as lt,u as Ee,P as rt,p as De,a as Lt,m as Te,b as We}from"../chunks/eventStore-e318eba3.js";import{B as $e,I as Ze}from"../chunks/Button-dde8ddbd.js";import{u as Je,t as qt,g as Ft}from"../chunks/navigation-77ac7245.js";import{T as Nt,P as Ke,S as Pt,L as Mt,B as Ut,C as Xe}from"../chunks/index-dd833d83.js";import{b as Ht}from"../chunks/singletons-bd1dfc1a.js";import"../chunks/index-ea2348b3.js";const Ae=je.Now.plainDateISO(Vt),Wt=Ae.add({days:1}),Yt=Ae.add({days:2}),Fe=je.Now.plainTimeISO(Vt),jt={from:Fe,to:Fe.add({minutes:30})},Gt={from:Fe.add({minutes:90}),to:Fe.add({minutes:180})};function Xt(){const l=new lt("Test1","Work",new Set(["Windy","Rain"]),[Ae,Wt]),e=new lt("Test2","Fun",new Set(["Windy","Rain"]),[Ae,Yt],[jt,Gt]);Ee.add(l),Ee.add(e)}function Jt(){const l=new rt("Test1","Work",new Set(["Windy","Rain"]),Wt),e=new rt("Test2","Fun",new Set(["Windy","Rain"]),Ae.subtract({days:1}),jt);De.add(l),De.add(e)}function Zt(){const l=nt(Ee),e=nt(De);l.length||Xt(),e.length||Jt()}const Kt=l=>({}),ot=l=>({});function Qt(l){let e;return{c(){e=G(l[1])},l(n){e=X(n,l[1])},m(n,t){A(n,e,t)},p(n,t){t&2&&ae(e,n[1])},i:ne,o:ne,d(n){n&&y(e)}}}function xt(l){let e;const n=l[8].label,t=we(n,l,l[7],ot);return{c(){t&&t.c()},l(i){t&&t.l(i)},m(i,o){t&&t.m(i,o),e=!0},p(i,o){t&&t.p&&(!e||o&128)&&ve(t,n,i,i[7],e?ke(n,i[7],o,Kt):ye(i[7]),ot)},i(i){e||(v(t,i),e=!0)},o(i){$(t,i),e=!1},d(i){t&&t.d(i)}}}function ei(l){let e,n,t,i;return{c(){e=D("input"),this.h()},l(o){e=T(o,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0}),this.h()},h(){S(e,"id",l[5]),S(e,"class","rounded-md p-2 w-full bg-slate-100 hover:ring transition-all"),S(e,"type","text"),S(e,"placeholder",n=l[2]||l[1]),F(e,"ring",l[3]),F(e,"ring-red-500",l[3])},m(o,r){A(o,e,r),Q(e,l[0]),t||(i=J(e,"input",l[13]),t=!0)},p(o,r){r&6&&n!==(n=o[2]||o[1])&&S(e,"placeholder",n),r&1&&e.value!==o[0]&&Q(e,o[0]),r&8&&F(e,"ring",o[3]),r&8&&F(e,"ring-red-500",o[3])},d(o){o&&y(e),t=!1,i()}}}function ti(l){let e,n,t,i;return{c(){e=D("input"),this.h()},l(o){e=T(o,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0}),this.h()},h(){S(e,"id",l[5]),S(e,"class","rounded-md p-2 w-full bg-slate-100 hover:ring transition-all"),S(e,"type","time"),S(e,"placeholder",n=l[2]||l[1]),F(e,"ring",l[3]),F(e,"ring-red-500",l[3])},m(o,r){A(o,e,r),Q(e,l[0]),t||(i=[J(e,"input",l[12]),J(e,"change",l[10])],t=!0)},p(o,r){r&6&&n!==(n=o[2]||o[1])&&S(e,"placeholder",n),r&1&&Q(e,o[0]),r&8&&F(e,"ring",o[3]),r&8&&F(e,"ring-red-500",o[3])},d(o){o&&y(e),t=!1,Se(i)}}}function ii(l){let e,n,t,i;return{c(){e=D("input"),this.h()},l(o){e=T(o,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0}),this.h()},h(){S(e,"id",l[5]),S(e,"class","rounded-md p-2 w-full bg-slate-100 hover:ring transition-all"),S(e,"type","date"),S(e,"placeholder",n=l[2]||l[1]),F(e,"ring",l[3]),F(e,"ring-red-500",l[3])},m(o,r){A(o,e,r),Q(e,l[0]),t||(i=[J(e,"input",l[11]),J(e,"change",l[9])],t=!0)},p(o,r){r&6&&n!==(n=o[2]||o[1])&&S(e,"placeholder",n),r&1&&Q(e,o[0]),r&8&&F(e,"ring",o[3]),r&8&&F(e,"ring-red-500",o[3])},d(o){o&&y(e),t=!1,Se(i)}}}function ni(l){let e,n,t,i,o,r,s,d,u;const a=[xt,Qt],_=[];function c(p,f){return p[6].label?0:p[1]?1:-1}~(t=c(l))&&(i=_[t]=a[t](l));function g(p,f){return p[4]=="date"?ii:p[4]=="time"?ti:ei}let m=g(l),h=m(l);return{c(){e=D("label"),n=D("div"),i&&i.c(),o=P(),h.c(),r=P(),s=D("div"),d=G(l[3]),this.h()},l(p){e=T(p,"LABEL",{class:!0,for:!0});var f=V(e);n=T(f,"DIV",{class:!0});var b=V(n);i&&i.l(b),b.forEach(y),o=M(f),h.l(f),r=M(f),s=T(f,"DIV",{class:!0});var I=V(s);d=X(I,l[3]),I.forEach(y),f.forEach(y),this.h()},h(){S(n,"class","mx-1 mb-px text-sm capitalize"),S(s,"class","text-sm h-2 text-red-700 "),F(s,"opacity-0",!l[3]),S(e,"class","my-4 block"),S(e,"for",l[5])},m(p,f){A(p,e,f),w(e,n),~t&&_[t].m(n,null),w(e,o),h.m(e,null),w(e,r),w(e,s),w(s,d),u=!0},p(p,[f]){let b=t;t=c(p),t===b?~t&&_[t].p(p,f):(i&&(x(),$(_[b],1,1,()=>{_[b]=null}),ee()),~t?(i=_[t],i?i.p(p,f):(i=_[t]=a[t](p),i.c()),v(i,1),i.m(n,null)):i=null),m===(m=g(p))&&h?h.p(p,f):(h.d(1),h=m(p),h&&(h.c(),h.m(e,r))),(!u||f&8)&&ae(d,p[3]),f&8&&F(s,"opacity-0",!p[3])},i(p){u||(v(i),u=!0)},o(p){$(i),u=!1},d(p){p&&y(e),~t&&_[t].d(),h.d()}}}function li(l,e,n){let{$$slots:t={},$$scope:i}=e;const o=Ce(t);let{label:r=""}=e,{placeholder:s=""}=e,{error:d=""}=e,{value:u=""}=e,{type:a="text"}=e,_=Lt();function c(f){Le.call(this,l,f)}function g(f){Le.call(this,l,f)}function m(){u=this.value,n(0,u)}function h(){u=this.value,n(0,u)}function p(){u=this.value,n(0,u)}return l.$$set=f=>{"label"in f&&n(1,r=f.label),"placeholder"in f&&n(2,s=f.placeholder),"error"in f&&n(3,d=f.error),"value"in f&&n(0,u=f.value),"type"in f&&n(4,a=f.type),"$$scope"in f&&n(7,i=f.$$scope)},[u,r,s,d,a,_,o,i,t,c,g,m,h,p]}class be extends ue{constructor(e){super(),fe(this,e,li,ni,de,{label:1,placeholder:2,error:3,value:0,type:4})}}function ri(l){let e;return{c(){e=G("Login with pod")},l(n){e=X(n,"Login with pod")},m(n,t){A(n,e,t)},d(n){n&&y(e)}}}function oi(l){let e,n,t,i,o,r,s,d,u,a,_,c;function g(f){l[4](f)}let m={label:"pod url",error:l[1]};l[0]!==void 0&&(m.value=l[0]),o=new be({props:m}),pe.push(()=>ge(o,"value",g));function h(f){l[5](f)}let p={label:"webId"};return l[2]!==void 0&&(p.value=l[2]),d=new be({props:p}),pe.push(()=>ge(d,"value",h)),_=new $e({props:{focused:!0,$$slots:{default:[ri]},$$scope:{ctx:l}}}),_.$on("click",l[3]),{c(){e=D("div"),n=D("h1"),t=G("Welcome to the pod"),i=P(),O(o.$$.fragment),s=P(),O(d.$$.fragment),a=P(),O(_.$$.fragment),this.h()},l(f){e=T(f,"DIV",{class:!0});var b=V(e);n=T(b,"H1",{class:!0});var I=V(n);t=X(I,"Welcome to the pod"),I.forEach(y),i=M(b),R(o.$$.fragment,b),s=M(b),R(d.$$.fragment,b),a=M(b),R(_.$$.fragment,b),b.forEach(y),this.h()},h(){S(n,"class","text-2xl"),S(e,"class","max-w-lg my-16 mx-auto")},m(f,b){A(f,e,b),w(e,n),w(n,t),w(e,i),B(o,e,null),w(e,s),B(d,e,null),w(e,a),B(_,e,null),c=!0},p(f,[b]){const I={};b&2&&(I.error=f[1]),!r&&b&1&&(r=!0,I.value=f[0],me(()=>r=!1)),o.$set(I);const z={};!u&&b&4&&(u=!0,z.value=f[2],me(()=>u=!1)),d.$set(z);const N={};b&128&&(N.$$scope={dirty:b,ctx:f}),_.$set(N)},i(f){c||(v(o.$$.fragment,f),v(d.$$.fragment,f),v(_.$$.fragment,f),c=!0)},o(f){$(o.$$.fragment,f),$(d.$$.fragment,f),$(_.$$.fragment,f),c=!1},d(f){f&&y(e),L(o),L(d),L(_)}}}function ai(l,e,n){let t,i="http://localhost:3000",o="",r="johndoe";async function s(){try{Je.signIn(i,r,t)}catch(a){n(1,o=qt(a).message)}}zt(async()=>{t=window.location.href,n(0,i=localStorage.getItem("podUrl")||"http://localhost:3000"),n(2,r=localStorage.getItem("webID")||"johndoe")});function d(a){i=a,n(0,i)}function u(a){r=a,n(2,r)}return[i,o,r,s,d,u]}class si extends ue{constructor(e){super(),fe(this,e,ai,oi,de,{})}}function ci(l){let e,n,t=l[0][0]+"",i,o,r=l[1][l[1].length-1][0]+"",s,d,u;return{c(){e=D("div"),n=D("span"),i=G(t),o=P(),s=G(r),this.h()},l(a){e=T(a,"DIV",{class:!0});var _=V(e);n=T(_,"SPAN",{class:!0});var c=V(n);i=X(c,t),o=M(c),s=X(c,r),c.forEach(y),_.forEach(y),this.h()},h(){S(n,"class","w-full text-center"),S(e,"class","rounded-full bg-green-600 text-green-100 h-12 w-12 flex items-center cursor-pointer")},m(a,_){A(a,e,_),w(e,n),w(n,i),w(n,o),w(n,s),d||(u=J(e,"click",l[3]),d=!0)},p(a,[_]){_&1&&t!==(t=a[0][0]+"")&&ae(i,t),_&2&&r!==(r=a[1][a[1].length-1][0]+"")&&ae(s,r)},i:ne,o:ne,d(a){a&&y(e),d=!1,u()}}}function ui(l,e,n){let t,{firstname:i}=e,{lastname:o}=e;function r(s){Le.call(this,l,s)}return l.$$set=s=>{"firstname"in s&&n(0,i=s.firstname),"lastname"in s&&n(2,o=s.lastname)},l.$$.update=()=>{l.$$.dirty&4&&n(1,t=o.split(" "))},[i,t,o,r]}class fi extends ue{constructor(e){super(),fe(this,e,ui,ci,de,{firstname:0,lastname:2})}}function at(l){let e,n,t,i,o;const r=l[3].default,s=we(r,l,l[2],null);return{c(){e=D("div"),n=D("div"),s&&s.c(),this.h()},l(d){e=T(d,"DIV",{class:!0});var u=V(e);n=T(u,"DIV",{class:!0});var a=V(n);s&&s.l(a),a.forEach(y),u.forEach(y),this.h()},h(){S(n,"class","fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-3xl bg-white z-20 p-4 rounded-lg"),S(e,"class","fixed top-0 left-0 w-full h-[100%] bg-slate-900/30 z-10 cursor-pointer")},m(d,u){A(d,e,u),w(e,n),s&&s.m(n,null),t=!0,i||(o=[J(n,"click",Ot(l[4])),J(e,"click",l[1])],i=!0)},p(d,u){s&&s.p&&(!t||u&4)&&ve(s,r,d,d[2],t?ke(r,d[2],u,null):ye(d[2]),null)},i(d){t||(v(s,d),t=!0)},o(d){$(s,d),t=!1},d(d){d&&y(e),s&&s.d(d),i=!1,Se(o)}}}function di(l){let e,n,t=l[0]&&at(l);return{c(){t&&t.c(),e=_e()},l(i){t&&t.l(i),e=_e()},m(i,o){t&&t.m(i,o),A(i,e,o),n=!0},p(i,[o]){i[0]?t?(t.p(i,o),o&1&&v(t,1)):(t=at(i),t.c(),v(t,1),t.m(e.parentNode,e)):t&&(x(),$(t,1,1,()=>{t=null}),ee())},i(i){n||(v(t),n=!0)},o(i){$(t),n=!1},d(i){t&&t.d(i),i&&y(e)}}}function pi(l,e,n){let{$$slots:t={},$$scope:i}=e,{visible:o=!1}=e;const r=Rt();function s(){r("close"),n(0,o=!1)}function d(u){Le.call(this,l,u)}return l.$$set=u=>{"visible"in u&&n(0,o=u.visible),"$$scope"in u&&n(2,i=u.$$scope)},[o,s,i,t,d]}class st extends ue{constructor(e){super(),fe(this,e,pi,di,de,{visible:0})}}function ct(l,e,n){const t=l.slice();return t[9]=e[n],t}const gi=l=>({}),ut=l=>({});function mi(l){let e;return{c(){e=G(l[2])},l(n){e=X(n,l[2])},m(n,t){A(n,e,t)},p(n,t){t&4&&ae(e,n[2])},i:ne,o:ne,d(n){n&&y(e)}}}function hi(l){let e;const n=l[7].label,t=we(n,l,l[6],ut);return{c(){t&&t.c()},l(i){t&&t.l(i)},m(i,o){t&&t.m(i,o),e=!0},p(i,o){t&&t.p&&(!e||o&64)&&ve(t,n,i,i[6],e?ke(n,i[6],o,gi):ye(i[6]),ut)},i(i){e||(v(t,i),e=!0)},o(i){$(t,i),e=!1},d(i){t&&t.d(i)}}}function ft(l){let e,n;return e=new Ze({props:{src:l[9].icon,size:"16"}}),{c(){O(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,i){B(e,t,i),n=!0},p(t,i){const o={};i&2&&(o.src=t[9].icon),e.$set(o)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function dt(l){let e,n,t,i=l[9].title+"",o,r,s,d,u,a=l[9].icon&&ft(l);function _(){return l[8](l[9])}return{c(){e=D("div"),a&&a.c(),n=P(),t=D("div"),o=G(i),r=P(),this.h()},l(c){e=T(c,"DIV",{class:!0});var g=V(e);a&&a.l(g),n=M(g),t=T(g,"DIV",{});var m=V(t);o=X(m,i),m.forEach(y),r=M(g),g.forEach(y),this.h()},h(){F(t,"text-sm",l[9].icon),S(e,"class","px-3 py-2 rounded bg-blue-50 text-blue-700 flex flex-col items-center justify-center svelte-1mwawgl"),F(e,"active",l[0].has(l[9].title)),F(e,"grow",l[3])},m(c,g){A(c,e,g),a&&a.m(e,null),w(e,n),w(e,t),w(t,o),w(e,r),s=!0,d||(u=J(e,"click",_),d=!0)},p(c,g){l=c,l[9].icon?a?(a.p(l,g),g&2&&v(a,1)):(a=ft(l),a.c(),v(a,1),a.m(e,n)):a&&(x(),$(a,1,1,()=>{a=null}),ee()),(!s||g&2)&&i!==(i=l[9].title+"")&&ae(o,i),g&2&&F(t,"text-sm",l[9].icon),g&3&&F(e,"active",l[0].has(l[9].title)),g&8&&F(e,"grow",l[3])},i(c){s||(v(a),s=!0)},o(c){$(a),s=!1},d(c){c&&y(e),a&&a.d(),d=!1,u()}}}function bi(l){let e,n,t,i,o,r,s;const d=[hi,mi],u=[];function a(m,h){return m[5].label?0:m[2]?1:-1}~(t=a(l))&&(i=u[t]=d[t](l));let _=l[1],c=[];for(let m=0;m<_.length;m+=1)c[m]=dt(ct(l,_,m));const g=m=>$(c[m],1,1,()=>{c[m]=null});return{c(){e=D("div"),n=D("div"),i&&i.c(),o=P(),r=D("div");for(let m=0;m<c.length;m+=1)c[m].c();this.h()},l(m){e=T(m,"DIV",{class:!0});var h=V(e);n=T(h,"DIV",{class:!0});var p=V(n);i&&i.l(p),p.forEach(y),o=M(h),r=T(h,"DIV",{class:!0});var f=V(r);for(let b=0;b<c.length;b+=1)c[b].l(f);f.forEach(y),h.forEach(y),this.h()},h(){S(n,"class","mx-1 mb-px text-sm"),S(r,"class","flex gap-2"),S(e,"class","my-4 block box-border")},m(m,h){A(m,e,h),w(e,n),~t&&u[t].m(n,null),w(e,o),w(e,r);for(let p=0;p<c.length;p+=1)c[p].m(r,null);s=!0},p(m,[h]){let p=t;if(t=a(m),t===p?~t&&u[t].p(m,h):(i&&(x(),$(u[p],1,1,()=>{u[p]=null}),ee()),~t?(i=u[t],i?i.p(m,h):(i=u[t]=d[t](m),i.c()),v(i,1),i.m(n,null)):i=null),h&27){_=m[1];let f;for(f=0;f<_.length;f+=1){const b=ct(m,_,f);c[f]?(c[f].p(b,h),v(c[f],1)):(c[f]=dt(b),c[f].c(),v(c[f],1),c[f].m(r,null))}for(x(),f=_.length;f<c.length;f+=1)g(f);ee()}},i(m){if(!s){v(i);for(let h=0;h<_.length;h+=1)v(c[h]);s=!0}},o(m){$(i),c=c.filter(Boolean);for(let h=0;h<c.length;h+=1)$(c[h]);s=!1},d(m){m&&y(e),~t&&u[t].d(),Oe(c,m)}}}function _i(l,e,n){let{$$slots:t={},$$scope:i}=e;const o=Ce(t);let{value:r=new Set([])}=e,{options:s=[]}=e,{label:d=""}=e,{grow:u=!1}=e;function a(c){r.has(c.title)?(r.delete(c.title),n(0,r=new Set(r))):(r.add(c.title),n(0,r=new Set(r)))}const _=c=>a(c);return l.$$set=c=>{"value"in c&&n(0,r=c.value),"options"in c&&n(1,s=c.options),"label"in c&&n(2,d=c.label),"grow"in c&&n(3,u=c.grow),"$$scope"in c&&n(6,i=c.$$scope)},[r,s,d,u,a,o,i,t,_]}class At extends ue{constructor(e){super(),fe(this,e,_i,bi,de,{value:0,options:1,label:2,grow:3})}}function pt(l,e,n){const t=l.slice();return t[9]=e[n],t}const wi=l=>({}),gt=l=>({});function vi(l){let e;return{c(){e=G(l[2])},l(n){e=X(n,l[2])},m(n,t){A(n,e,t)},p(n,t){t&4&&ae(e,n[2])},i:ne,o:ne,d(n){n&&y(e)}}}function yi(l){let e;const n=l[7].label,t=we(n,l,l[6],gt);return{c(){t&&t.c()},l(i){t&&t.l(i)},m(i,o){t&&t.m(i,o),e=!0},p(i,o){t&&t.p&&(!e||o&64)&&ve(t,n,i,i[6],e?ke(n,i[6],o,wi):ye(i[6]),gt)},i(i){e||(v(t,i),e=!0)},o(i){$(t,i),e=!1},d(i){t&&t.d(i)}}}function mt(l){let e,n;return e=new Ze({props:{src:l[9].icon,size:"16"}}),{c(){O(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,i){B(e,t,i),n=!0},p(t,i){const o={};i&2&&(o.src=t[9].icon),e.$set(o)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function ht(l){let e,n,t,i=l[9].title+"",o,r,s,d,u,a=l[9].icon&&mt(l);function _(){return l[8](l[9])}return{c(){e=D("div"),a&&a.c(),n=P(),t=D("div"),o=G(i),r=P(),this.h()},l(c){e=T(c,"DIV",{class:!0});var g=V(e);a&&a.l(g),n=M(g),t=T(g,"DIV",{});var m=V(t);o=X(m,i),m.forEach(y),r=M(g),g.forEach(y),this.h()},h(){F(t,"text-sm",l[9].icon),S(e,"class","px-3 py-2 rounded bg-blue-50 text-blue-700 flex flex-col items-center justify-center svelte-1mwawgl"),F(e,"active",l[0]==l[9].title),F(e,"grow",l[3])},m(c,g){A(c,e,g),a&&a.m(e,null),w(e,n),w(e,t),w(t,o),w(e,r),s=!0,d||(u=J(e,"click",_),d=!0)},p(c,g){l=c,l[9].icon?a?(a.p(l,g),g&2&&v(a,1)):(a=mt(l),a.c(),v(a,1),a.m(e,n)):a&&(x(),$(a,1,1,()=>{a=null}),ee()),(!s||g&2)&&i!==(i=l[9].title+"")&&ae(o,i),g&2&&F(t,"text-sm",l[9].icon),g&3&&F(e,"active",l[0]==l[9].title),g&8&&F(e,"grow",l[3])},i(c){s||(v(a),s=!0)},o(c){$(a),s=!1},d(c){c&&y(e),a&&a.d(),d=!1,u()}}}function ki(l){let e,n,t,i,o,r,s;const d=[yi,vi],u=[];function a(m,h){return m[5].label?0:m[2]?1:-1}~(t=a(l))&&(i=u[t]=d[t](l));let _=l[1],c=[];for(let m=0;m<_.length;m+=1)c[m]=ht(pt(l,_,m));const g=m=>$(c[m],1,1,()=>{c[m]=null});return{c(){e=D("div"),n=D("div"),i&&i.c(),o=P(),r=D("div");for(let m=0;m<c.length;m+=1)c[m].c();this.h()},l(m){e=T(m,"DIV",{class:!0});var h=V(e);n=T(h,"DIV",{class:!0});var p=V(n);i&&i.l(p),p.forEach(y),o=M(h),r=T(h,"DIV",{class:!0});var f=V(r);for(let b=0;b<c.length;b+=1)c[b].l(f);f.forEach(y),h.forEach(y),this.h()},h(){S(n,"class","mx-1 mb-px text-sm"),S(r,"class","flex gap-2"),S(e,"class","my-4 block box-border")},m(m,h){A(m,e,h),w(e,n),~t&&u[t].m(n,null),w(e,o),w(e,r);for(let p=0;p<c.length;p+=1)c[p].m(r,null);s=!0},p(m,[h]){let p=t;if(t=a(m),t===p?~t&&u[t].p(m,h):(i&&(x(),$(u[p],1,1,()=>{u[p]=null}),ee()),~t?(i=u[t],i?i.p(m,h):(i=u[t]=d[t](m),i.c()),v(i,1),i.m(n,null)):i=null),h&27){_=m[1];let f;for(f=0;f<_.length;f+=1){const b=pt(m,_,f);c[f]?(c[f].p(b,h),v(c[f],1)):(c[f]=ht(b),c[f].c(),v(c[f],1),c[f].m(r,null))}for(x(),f=_.length;f<c.length;f+=1)g(f);ee()}},i(m){if(!s){v(i);for(let h=0;h<_.length;h+=1)v(c[h]);s=!0}},o(m){$(i),c=c.filter(Boolean);for(let h=0;h<c.length;h+=1)$(c[h]);s=!1},d(m){m&&y(e),~t&&u[t].d(),Oe(c,m)}}}function $i(l,e,n){let{$$slots:t={},$$scope:i}=e;const o=Ce(t);let{options:r=[]}=e,{value:s=r[0].title}=e,{label:d=""}=e,{grow:u=!1}=e;const a=c=>n(0,s=c.title),_=c=>a(c);return l.$$set=c=>{"options"in c&&n(1,r=c.options),"value"in c&&n(0,s=c.value),"label"in c&&n(2,d=c.label),"grow"in c&&n(3,u=c.grow),"$$scope"in c&&n(6,i=c.$$scope)},[s,r,d,u,a,o,i,t,_]}class Ct extends ue{constructor(e){super(),fe(this,e,$i,ki,de,{options:1,value:0,label:2,grow:3})}}function bt(l,e,n){const t=l.slice();return t[15]=e[n],t[16]=e,t[17]=n,t}const Si=l=>({}),_t=l=>({});function Ii(l){let e;return{c(){e=G(l[1])},l(n){e=X(n,l[1])},m(n,t){A(n,e,t)},p(n,t){t&2&&ae(e,n[1])},i:ne,o:ne,d(n){n&&y(e)}}}function Ei(l){let e;const n=l[9].label,t=we(n,l,l[8],_t);return{c(){t&&t.c()},l(i){t&&t.l(i)},m(i,o){t&&t.m(i,o),e=!0},p(i,o){t&&t.p&&(!e||o&256)&&ve(t,n,i,i[8],e?ke(n,i[8],o,Si):ye(i[8]),_t)},i(i){e||(v(t,i),e=!0)},o(i){$(t,i),e=!1},d(i){t&&t.d(i)}}}function wt(l){let e,n,t,i,o,r,s;function d(){l[10].call(n,l[17])}function u(){return l[11](l[17])}return i=new $e({props:{destructive:!0,icon:Nt}}),i.$on("click",u),{c(){e=D("div"),n=D("input"),t=P(),O(i.$$.fragment),this.h()},l(a){e=T(a,"DIV",{class:!0});var _=V(e);n=T(_,"INPUT",{class:!0,type:!0}),t=M(_),R(i.$$.fragment,_),_.forEach(y),this.h()},h(){S(n,"class","w-full"),S(n,"type","date"),S(e,"class","flex gap-2")},m(a,_){A(a,e,_),w(e,n),Q(n,l[0][l[17]]),w(e,t),B(i,e,null),o=!0,r||(s=J(n,"input",d),r=!0)},p(a,_){l=a,_&1&&Q(n,l[0][l[17]])},i(a){o||(v(i.$$.fragment,a),o=!0)},o(a){$(i.$$.fragment,a),o=!1},d(a){a&&y(e),L(i),r=!1,s()}}}function vt(l){let e,n,t,i,o,r,s;return i=new $e({props:{icon:Ke}}),i.$on("click",l[4]),{c(){e=D("div"),n=D("input"),t=P(),O(i.$$.fragment),this.h()},l(d){e=T(d,"DIV",{class:!0});var u=V(e);n=T(u,"INPUT",{class:!0,type:!0}),t=M(u),R(i.$$.fragment,u),u.forEach(y),this.h()},h(){S(n,"class","w-full"),S(n,"type","date"),S(e,"class","newDate flex gap-2")},m(d,u){A(d,e,u),w(e,n),Q(n,l[3]),w(e,t),B(i,e,null),o=!0,r||(s=J(n,"input",l[12]),r=!0)},p(d,u){u&8&&Q(n,d[3])},i(d){o||(v(i.$$.fragment,d),o=!0)},o(d){$(i.$$.fragment,d),o=!1},d(d){d&&y(e),L(i),r=!1,s()}}}function Di(l){let e,n,t,i,o,r,s,d;const u=[Ei,Ii],a=[];function _(p,f){return p[6].label?0:p[1]?1:-1}~(t=_(l))&&(i=a[t]=u[t](l));let c=l[0],g=[];for(let p=0;p<c.length;p+=1)g[p]=wt(bt(l,c,p));const m=p=>$(g[p],1,1,()=>{g[p]=null});let h=(l[2]==-1||l[0].length<l[2])&&vt(l);return{c(){e=D("div"),n=D("div"),i&&i.c(),o=P(),r=D("div");for(let p=0;p<g.length;p+=1)g[p].c();s=P(),h&&h.c(),this.h()},l(p){e=T(p,"DIV",{class:!0});var f=V(e);n=T(f,"DIV",{class:!0});var b=V(n);i&&i.l(b),b.forEach(y),o=M(f),r=T(f,"DIV",{class:!0});var I=V(r);for(let z=0;z<g.length;z+=1)g[z].l(I);s=M(I),h&&h.l(I),I.forEach(y),f.forEach(y),this.h()},h(){S(n,"class","mx-1 mb-px text-sm"),S(r,"class","dates flex flex-col gap-4"),S(e,"class","pb-3")},m(p,f){A(p,e,f),w(e,n),~t&&a[t].m(n,null),w(e,o),w(e,r);for(let b=0;b<g.length;b+=1)g[b].m(r,null);w(r,s),h&&h.m(r,null),d=!0},p(p,[f]){let b=t;if(t=_(p),t===b?~t&&a[t].p(p,f):(i&&(x(),$(a[b],1,1,()=>{a[b]=null}),ee()),~t?(i=a[t],i?i.p(p,f):(i=a[t]=u[t](p),i.c()),v(i,1),i.m(n,null)):i=null),f&33){c=p[0];let I;for(I=0;I<c.length;I+=1){const z=bt(p,c,I);g[I]?(g[I].p(z,f),v(g[I],1)):(g[I]=wt(z),g[I].c(),v(g[I],1),g[I].m(r,s))}for(x(),I=c.length;I<g.length;I+=1)m(I);ee()}p[2]==-1||p[0].length<p[2]?h?(h.p(p,f),f&5&&v(h,1)):(h=vt(p),h.c(),v(h,1),h.m(r,null)):h&&(x(),$(h,1,1,()=>{h=null}),ee())},i(p){if(!d){v(i);for(let f=0;f<c.length;f+=1)v(g[f]);v(h),d=!0}},o(p){$(i),g=g.filter(Boolean);for(let f=0;f<g.length;f+=1)$(g[f]);$(h),d=!1},d(p){p&&y(e),~t&&a[t].d(),Oe(g,p),h&&h.d()}}}function Ti(l,e,n){let{$$slots:t={},$$scope:i}=e;const o=Ce(t);let{dates:r=[]}=e,{dateStrings:s=[]}=e,{label:d=""}=e,{maxDates:u=5}=e,a="",_="";function c(){!a||(n(0,s=[...s,a]),s.sort(),n(3,a=""))}function g(b){n(0,s=[...s.slice(0,b),...s.slice(b+1)])}function m(){s.toString()!=_&&(n(0,s=s.filter(b=>b!="")),n(7,r=s.map(b=>je.PlainDate.from(b))),_=s.toString())}function h(b){s[b]=this.value,n(0,s)}const p=b=>g(b);function f(){a=this.value,n(3,a)}return l.$$set=b=>{"dates"in b&&n(7,r=b.dates),"dateStrings"in b&&n(0,s=b.dateStrings),"label"in b&&n(1,d=b.label),"maxDates"in b&&n(2,u=b.maxDates),"$$scope"in b&&n(8,i=b.$$scope)},l.$$.update=()=>{l.$$.dirty&1&&s&&m()},[s,d,u,a,c,g,o,r,i,t,h,p,f]}class zi extends ue{constructor(e){super(),fe(this,e,Ti,Di,de,{dates:7,dateStrings:0,label:1,maxDates:2})}}function yt(l,e,n){const t=l.slice();return t[17]=e[n],t[18]=e,t[19]=n,t}const Vi=l=>({}),kt=l=>({});function Ni(l){let e;return{c(){e=G(l[1])},l(n){e=X(n,l[1])},m(n,t){A(n,e,t)},p(n,t){t&2&&ae(e,n[1])},i:ne,o:ne,d(n){n&&y(e)}}}function Pi(l){let e;const n=l[9].label,t=we(n,l,l[8],kt);return{c(){t&&t.c()},l(i){t&&t.l(i)},m(i,o){t&&t.m(i,o),e=!0},p(i,o){t&&t.p&&(!e||o&256)&&ve(t,n,i,i[8],e?ke(n,i[8],o,Vi):ye(i[8]),kt)},i(i){e||(v(t,i),e=!0)},o(i){$(t,i),e=!1},d(i){t&&t.d(i)}}}function $t(l){let e,n,t,i,o,r,s,d,u;function a(){l[10].call(n,l[19])}function _(){l[11].call(i,l[19])}function c(){return l[12](l[19])}return r=new $e({props:{destructive:!0,icon:Nt}}),r.$on("click",c),{c(){e=D("div"),n=D("input"),t=P(),i=D("input"),o=P(),O(r.$$.fragment),this.h()},l(g){e=T(g,"DIV",{class:!0});var m=V(e);n=T(m,"INPUT",{class:!0,type:!0}),t=M(m),i=T(m,"INPUT",{class:!0,type:!0}),o=M(m),R(r.$$.fragment,m),m.forEach(y),this.h()},h(){S(n,"class","w-full"),S(n,"type","time"),S(i,"class","w-full"),S(i,"type","time"),S(e,"class","flex gap-2")},m(g,m){A(g,e,m),w(e,n),Q(n,l[0][l[19]].from),w(e,t),w(e,i),Q(i,l[0][l[19]].to),w(e,o),B(r,e,null),s=!0,d||(u=[J(n,"input",a),J(i,"input",_)],d=!0)},p(g,m){l=g,m&1&&Q(n,l[0][l[19]].from),m&1&&Q(i,l[0][l[19]].to)},i(g){s||(v(r.$$.fragment,g),s=!0)},o(g){$(r.$$.fragment,g),s=!1},d(g){g&&y(e),L(r),d=!1,Se(u)}}}function St(l){let e,n,t,i,o,r,s,d,u;return r=new $e({props:{icon:Ke}}),r.$on("click",l[4]),{c(){e=D("div"),n=D("input"),t=P(),i=D("input"),o=P(),O(r.$$.fragment),this.h()},l(a){e=T(a,"DIV",{class:!0});var _=V(e);n=T(_,"INPUT",{class:!0,type:!0}),t=M(_),i=T(_,"INPUT",{class:!0,type:!0}),o=M(_),R(r.$$.fragment,_),_.forEach(y),this.h()},h(){S(n,"class","w-full"),S(n,"type","time"),S(i,"class","w-full"),S(i,"type","time"),S(e,"class","newTime flex gap-2")},m(a,_){A(a,e,_),w(e,n),Q(n,l[3].from),w(e,t),w(e,i),Q(i,l[3].to),w(e,o),B(r,e,null),s=!0,d||(u=[J(n,"input",l[13]),J(i,"input",l[14])],d=!0)},p(a,_){_&8&&Q(n,a[3].from),_&8&&Q(i,a[3].to)},i(a){s||(v(r.$$.fragment,a),s=!0)},o(a){$(r.$$.fragment,a),s=!1},d(a){a&&y(e),L(r),d=!1,Se(u)}}}function Mi(l){let e,n,t,i,o,r,s,d;const u=[Pi,Ni],a=[];function _(p,f){return p[6].label?0:p[1]?1:-1}~(t=_(l))&&(i=a[t]=u[t](l));let c=l[0],g=[];for(let p=0;p<c.length;p+=1)g[p]=$t(yt(l,c,p));const m=p=>$(g[p],1,1,()=>{g[p]=null});let h=(l[2]==-1||l[0].length<l[2])&&St(l);return{c(){e=D("div"),n=D("div"),i&&i.c(),o=P(),r=D("div");for(let p=0;p<g.length;p+=1)g[p].c();s=P(),h&&h.c(),this.h()},l(p){e=T(p,"DIV",{});var f=V(e);n=T(f,"DIV",{class:!0});var b=V(n);i&&i.l(b),b.forEach(y),o=M(f),r=T(f,"DIV",{class:!0});var I=V(r);for(let z=0;z<g.length;z+=1)g[z].l(I);s=M(I),h&&h.l(I),I.forEach(y),f.forEach(y),this.h()},h(){S(n,"class","mx-1 mb-px text-sm"),S(r,"class","times flex flex-col gap-4")},m(p,f){A(p,e,f),w(e,n),~t&&a[t].m(n,null),w(e,o),w(e,r);for(let b=0;b<g.length;b+=1)g[b].m(r,null);w(r,s),h&&h.m(r,null),d=!0},p(p,[f]){let b=t;if(t=_(p),t===b?~t&&a[t].p(p,f):(i&&(x(),$(a[b],1,1,()=>{a[b]=null}),ee()),~t?(i=a[t],i?i.p(p,f):(i=a[t]=u[t](p),i.c()),v(i,1),i.m(n,null)):i=null),f&33){c=p[0];let I;for(I=0;I<c.length;I+=1){const z=yt(p,c,I);g[I]?(g[I].p(z,f),v(g[I],1)):(g[I]=$t(z),g[I].c(),v(g[I],1),g[I].m(r,s))}for(x(),I=c.length;I<g.length;I+=1)m(I);ee()}p[2]==-1||p[0].length<p[2]?h?(h.p(p,f),f&5&&v(h,1)):(h=St(p),h.c(),v(h,1),h.m(r,null)):h&&(x(),$(h,1,1,()=>{h=null}),ee())},i(p){if(!d){v(i);for(let f=0;f<c.length;f+=1)v(g[f]);v(h),d=!0}},o(p){$(i),g=g.filter(Boolean);for(let f=0;f<g.length;f+=1)$(g[f]);$(h),d=!1},d(p){p&&y(e),~t&&a[t].d(),Oe(g,p),h&&h.d()}}}function Ui(l,e,n){let{$$slots:t={},$$scope:i}=e;const o=Ce(t);let{times:r=[]}=e,{timeStrings:s=[]}=e,{label:d="init"}=e,{maxTimes:u=5}=e,a={from:"",to:""},_="";function c(){!a.from||!a.to||(n(0,s=[a,...s]),n(3,a={from:"",to:""}))}function g(z){n(0,s=[...s.slice(0,z),...s.slice(z+1)])}function m(){var N;const z=(N=JSON.stringify(s))!=null?N:"";z!=_&&(n(0,s=s.filter(le=>le.from!=""||le.to!="")),_=z,n(7,r=s.map(le=>{const te=je.PlainTime.from(le.from),U=je.PlainTime.from(le.to),E={from:U,to:te};return te.until(U).hours<0||te.until(U).hours==0&&te.until(U).minutes<0?E:{from:te,to:U}})))}function h(z){s[z].from=this.value,n(0,s)}function p(z){s[z].to=this.value,n(0,s)}const f=z=>g(z);function b(){a.from=this.value,n(3,a)}function I(){a.to=this.value,n(3,a)}return l.$$set=z=>{"times"in z&&n(7,r=z.times),"timeStrings"in z&&n(0,s=z.timeStrings),"label"in z&&n(1,d=z.label),"maxTimes"in z&&n(2,u=z.maxTimes),"$$scope"in z&&n(8,i=z.$$scope)},l.$$.update=()=>{l.$$.dirty&1&&s&&m()},[s,d,u,a,c,g,o,r,i,t,h,p,f,b,I]}class Wi extends ue{constructor(e){super(),fe(this,e,Ui,Mi,de,{times:7,timeStrings:0,label:1,maxTimes:2})}}function It(l){let e,n,t=l[0].editMode?"Edit":"Create New",i,o,r,s,d,u,a,_,c,g,m,h,p,f,b,I,z,N,le,te,U,E,W,H,q,oe,C,Z,ce,he;function He(k){l[6](k)}let ze={type:"text",label:"title"};l[0].activity.title!==void 0&&(ze.value=l[0].activity.title),u=new be({props:ze}),pe.push(()=>ge(u,"value",He));function Ye(k){l[7](k)}let Ve={dateStrings:l[2],label:"Enter possible dates"};l[0].activity.dates!==void 0&&(Ve.dates=l[0].activity.dates),c=new zi({props:Ve}),pe.push(()=>ge(c,"dates",Ye));function Ge(k){l[8](k)}let Ne={timeStrings:l[1],label:"Enter possible times"};l[0].activity.times!==void 0&&(Ne.times=l[0].activity.times),h=new Wi({props:Ne}),pe.push(()=>ge(h,"times",Ge)),I=new be({props:{type:"text",placeholder:"Where?",label:"Location"}});function Re(k){l[9](k)}let Pe={grow:!0,label:"Get notified if it will",options:[{title:"Sun",icon:Pt},{title:"Windy"},{title:"Rain"},{title:"Snow"},{title:"Thunder",icon:Mt}]};l[0].activity.notifyOnWeather!==void 0&&(Pe.value=l[0].activity.notifyOnWeather),N=new At({props:Pe}),pe.push(()=>ge(N,"value",Re));function Be(k){l[10](k)}let Me={grow:!0,label:"Activity type",options:[{title:"Work",icon:Ut},{title:"Food"},{title:"Fun"},{title:"Workout"},{title:"Relax"}]};return l[0].activity.actitityType!==void 0&&(Me.value=l[0].activity.actitityType),U=new Ct({props:Me}),pe.push(()=>ge(U,"value",Be)),q=new $e({props:{destructive:!0,$$slots:{default:[ji]},$$scope:{ctx:l}}}),q.$on("click",l[5]),{c(){e=D("form"),n=D("h3"),i=G(t),o=G(" activity"),r=P(),s=D("div"),d=D("div"),O(u.$$.fragment),_=P(),O(c.$$.fragment),m=P(),O(h.$$.fragment),f=P(),b=D("div"),O(I.$$.fragment),z=P(),O(N.$$.fragment),te=P(),O(U.$$.fragment),W=P(),H=D("div"),O(q.$$.fragment),oe=P(),C=D("input"),this.h()},l(k){e=T(k,"FORM",{});var j=V(e);n=T(j,"H3",{class:!0});var se=V(n);i=X(se,t),o=X(se," activity"),se.forEach(y),r=M(j),s=T(j,"DIV",{class:!0});var ie=V(s);d=T(ie,"DIV",{class:!0});var Y=V(d);R(u.$$.fragment,Y),_=M(Y),R(c.$$.fragment,Y),m=M(Y),R(h.$$.fragment,Y),Y.forEach(y),f=M(ie),b=T(ie,"DIV",{class:!0});var K=V(b);R(I.$$.fragment,K),z=M(K),R(N.$$.fragment,K),te=M(K),R(U.$$.fragment,K),K.forEach(y),ie.forEach(y),W=M(j),H=T(j,"DIV",{class:!0});var re=V(H);R(q.$$.fragment,re),oe=M(re),C=T(re,"INPUT",{class:!0,type:!0}),re.forEach(y),j.forEach(y),this.h()},h(){S(n,"class","text-xl border-b border-b-black/50 border-solid mb-4 pb-2 capitalize"),S(d,"class","left grow"),S(b,"class","right grow"),S(s,"class","flex gap-4 w-full"),S(C,"class","bg-slate-100 hover:bg-slate-300 transition-colors px-3 py-2 rounded cursor-pointer"),S(C,"type","submit"),C.value="submit",S(H,"class","flex justify-end gap-4")},m(k,j){A(k,e,j),w(e,n),w(n,i),w(n,o),w(e,r),w(e,s),w(s,d),B(u,d,null),w(d,_),B(c,d,null),w(d,m),B(h,d,null),w(s,f),w(s,b),B(I,b,null),w(b,z),B(N,b,null),w(b,te),B(U,b,null),w(e,W),w(e,H),B(q,H,null),w(H,oe),w(H,C),Z=!0,ce||(he=[J(C,"click",qe(l[4])),J(e,"submit",qe(l[4]))],ce=!0)},p(k,j){(!Z||j&1)&&t!==(t=k[0].editMode?"Edit":"Create New")&&ae(i,t);const se={};!a&&j&1&&(a=!0,se.value=k[0].activity.title,me(()=>a=!1)),u.$set(se);const ie={};j&4&&(ie.dateStrings=k[2]),!g&&j&1&&(g=!0,ie.dates=k[0].activity.dates,me(()=>g=!1)),c.$set(ie);const Y={};j&2&&(Y.timeStrings=k[1]),!p&&j&1&&(p=!0,Y.times=k[0].activity.times,me(()=>p=!1)),h.$set(Y);const K={};!le&&j&1&&(le=!0,K.value=k[0].activity.notifyOnWeather,me(()=>le=!1)),N.$set(K);const re={};!E&&j&1&&(E=!0,re.value=k[0].activity.actitityType,me(()=>E=!1)),U.$set(re);const Ue={};j&2049&&(Ue.$$scope={dirty:j,ctx:k}),q.$set(Ue)},i(k){Z||(v(u.$$.fragment,k),v(c.$$.fragment,k),v(h.$$.fragment,k),v(I.$$.fragment,k),v(N.$$.fragment,k),v(U.$$.fragment,k),v(q.$$.fragment,k),Z=!0)},o(k){$(u.$$.fragment,k),$(c.$$.fragment,k),$(h.$$.fragment,k),$(I.$$.fragment,k),$(N.$$.fragment,k),$(U.$$.fragment,k),$(q.$$.fragment,k),Z=!1},d(k){k&&y(e),L(u),L(c),L(h),L(I),L(N),L(U),L(q),ce=!1,Se(he)}}}function ji(l){let e=l[0].editMode?"Remove":"Cancel",n;return{c(){n=G(e)},l(t){n=X(t,e)},m(t,i){A(t,n,i)},p(t,i){i&1&&e!==(e=t[0].editMode?"Remove":"Cancel")&&ae(n,e)},d(t){t&&y(n)}}}function Ai(l){let e,n,t=l[0]&&l[3]&&It(l);return{c(){t&&t.c(),e=_e()},l(i){t&&t.l(i),e=_e()},m(i,o){t&&t.m(i,o),A(i,e,o),n=!0},p(i,[o]){i[0]&&i[3]?t?(t.p(i,o),o&9&&v(t,1)):(t=It(i),t.c(),v(t,1),t.m(e.parentNode,e)):t&&(x(),$(t,1,1,()=>{t=null}),ee())},i(i){n||(v(t),n=!0)},o(i){$(t),n=!1},d(i){t&&t.d(i),i&&y(e)}}}function Ci(l,e,n){let t,i,o;Ie(l,Te,m=>n(3,o=m));let r=o;function s(){!r||(r.editMode?Ee.updateActivity(r.activity):Ee.add(r.activity),Ft("./planning"),Te.reset())}function d(){r!=null&&r.editMode&&Ee.deleteActivity(r.activity),Te.reset()}function u(m){l.$$.not_equal(r.activity.title,m)&&(r.activity.title=m,n(0,r))}function a(m){l.$$.not_equal(r.activity.dates,m)&&(r.activity.dates=m,n(0,r))}function _(m){l.$$.not_equal(r.activity.times,m)&&(r.activity.times=m,n(0,r))}function c(m){l.$$.not_equal(r.activity.notifyOnWeather,m)&&(r.activity.notifyOnWeather=m,n(0,r))}function g(m){l.$$.not_equal(r.activity.actitityType,m)&&(r.activity.actitityType=m,n(0,r))}return l.$$.update=()=>{l.$$.dirty&1&&n(2,t=r==null?void 0:r.activity.dates.map(m=>m.toString())),l.$$.dirty&1&&n(1,i=r==null?void 0:r.activity.times.map(({from:m,to:h})=>({from:m.round({smallestUnit:"minute"}).toString(),to:h.round({smallestUnit:"minute"}).toString()})))},[r,i,t,o,s,d,u,a,_,c,g]}class Oi extends ue{constructor(e){super(),fe(this,e,Ci,Ai,de,{})}}function Et(l){var Re,Pe,Be,Me;let e,n,t=l[0].editMode?"Edit":"Create New",i,o,r,s,d,u,a,_,c,g,m,h,p,f,b,I,z,N,le,te,U,E,W,H,q,oe,C,Z,ce,he;function He(k){l[4](k)}let ze={type:"text",label:"title"};l[0].activity.title!==void 0&&(ze.value=l[0].activity.title),u=new be({props:ze}),pe.push(()=>ge(u,"value",He)),c=new be({props:{type:"date",label:"date",value:l[0].activity.date.toString()}}),c.$on("change",l[5]),m=new be({props:{type:"time",label:"from",value:(Pe=(Re=l[0])==null?void 0:Re.activity.time)==null?void 0:Pe.from.toString({smallestUnit:"minute"})}}),m.$on("change",l[6]),p=new be({props:{type:"time",label:"to",value:(Me=(Be=l[0])==null?void 0:Be.activity.time)==null?void 0:Me.to.toString({smallestUnit:"minute"})}}),p.$on("change",l[7]),I=new be({props:{type:"text",placeholder:"Where?",label:"Location"}});function Ye(k){l[8](k)}let Ve={grow:!0,label:"Get notified if it will",options:[{title:"Sun",icon:Pt},{title:"Windy"},{title:"Rain"},{title:"Snow"},{title:"Thunder",icon:Mt}]};l[0].activity.notifyOnWeather!==void 0&&(Ve.value=l[0].activity.notifyOnWeather),N=new At({props:Ve}),pe.push(()=>ge(N,"value",Ye));function Ge(k){l[9](k)}let Ne={grow:!0,label:"Activity type",options:[{title:"Work",icon:Ut},{title:"Food"},{title:"Fun"},{title:"Workout"},{title:"Relax"}]};return l[0].activity.actitityType!==void 0&&(Ne.value=l[0].activity.actitityType),U=new Ct({props:Ne}),pe.push(()=>ge(U,"value",Ge)),q=new $e({props:{destructive:!0,$$slots:{default:[Ri]},$$scope:{ctx:l}}}),q.$on("click",l[3]),{c(){e=D("form"),n=D("h3"),i=G(t),o=G(" activity"),r=P(),s=D("div"),d=D("div"),O(u.$$.fragment),_=P(),O(c.$$.fragment),g=P(),O(m.$$.fragment),h=P(),O(p.$$.fragment),f=P(),b=D("div"),O(I.$$.fragment),z=P(),O(N.$$.fragment),te=P(),O(U.$$.fragment),W=P(),H=D("div"),O(q.$$.fragment),oe=P(),C=D("input"),this.h()},l(k){e=T(k,"FORM",{});var j=V(e);n=T(j,"H3",{class:!0});var se=V(n);i=X(se,t),o=X(se," activity"),se.forEach(y),r=M(j),s=T(j,"DIV",{class:!0});var ie=V(s);d=T(ie,"DIV",{class:!0});var Y=V(d);R(u.$$.fragment,Y),_=M(Y),R(c.$$.fragment,Y),g=M(Y),R(m.$$.fragment,Y),h=M(Y),R(p.$$.fragment,Y),Y.forEach(y),f=M(ie),b=T(ie,"DIV",{class:!0});var K=V(b);R(I.$$.fragment,K),z=M(K),R(N.$$.fragment,K),te=M(K),R(U.$$.fragment,K),K.forEach(y),ie.forEach(y),W=M(j),H=T(j,"DIV",{class:!0});var re=V(H);R(q.$$.fragment,re),oe=M(re),C=T(re,"INPUT",{class:!0,type:!0}),re.forEach(y),j.forEach(y),this.h()},h(){S(n,"class","text-xl border-b border-b-black/50 border-solid mb-4 pb-2 capitalize"),S(d,"class","left grow"),S(b,"class","right grow"),S(s,"class","flex gap-4 w-full"),S(C,"class","bg-slate-100 hover:bg-slate-300 transition-colors px-3 py-2 rounded cursor-pointer"),S(C,"type","submit"),C.value="submit",S(H,"class","flex justify-end gap-4")},m(k,j){A(k,e,j),w(e,n),w(n,i),w(n,o),w(e,r),w(e,s),w(s,d),B(u,d,null),w(d,_),B(c,d,null),w(d,g),B(m,d,null),w(d,h),B(p,d,null),w(s,f),w(s,b),B(I,b,null),w(b,z),B(N,b,null),w(b,te),B(U,b,null),w(e,W),w(e,H),B(q,H,null),w(H,oe),w(H,C),Z=!0,ce||(he=[J(C,"click",qe(l[2])),J(e,"submit",qe(l[2]))],ce=!0)},p(k,j){var xe,et,tt,it;(!Z||j&1)&&t!==(t=k[0].editMode?"Edit":"Create New")&&ae(i,t);const se={};!a&&j&1&&(a=!0,se.value=k[0].activity.title,me(()=>a=!1)),u.$set(se);const ie={};j&1&&(ie.value=k[0].activity.date.toString()),c.$set(ie);const Y={};j&1&&(Y.value=(et=(xe=k[0])==null?void 0:xe.activity.time)==null?void 0:et.from.toString({smallestUnit:"minute"})),m.$set(Y);const K={};j&1&&(K.value=(it=(tt=k[0])==null?void 0:tt.activity.time)==null?void 0:it.to.toString({smallestUnit:"minute"})),p.$set(K);const re={};!le&&j&1&&(le=!0,re.value=k[0].activity.notifyOnWeather,me(()=>le=!1)),N.$set(re);const Ue={};!E&&j&1&&(E=!0,Ue.value=k[0].activity.actitityType,me(()=>E=!1)),U.$set(Ue);const Qe={};j&1025&&(Qe.$$scope={dirty:j,ctx:k}),q.$set(Qe)},i(k){Z||(v(u.$$.fragment,k),v(c.$$.fragment,k),v(m.$$.fragment,k),v(p.$$.fragment,k),v(I.$$.fragment,k),v(N.$$.fragment,k),v(U.$$.fragment,k),v(q.$$.fragment,k),Z=!0)},o(k){$(u.$$.fragment,k),$(c.$$.fragment,k),$(m.$$.fragment,k),$(p.$$.fragment,k),$(I.$$.fragment,k),$(N.$$.fragment,k),$(U.$$.fragment,k),$(q.$$.fragment,k),Z=!1},d(k){k&&y(e),L(u),L(c),L(m),L(p),L(I),L(N),L(U),L(q),ce=!1,Se(he)}}}function Ri(l){let e=l[0].editMode?"Remove":"Cancel",n;return{c(){n=G(e)},l(t){n=X(t,e)},m(t,i){A(t,n,i)},p(t,i){i&1&&e!==(e=t[0].editMode?"Remove":"Cancel")&&ae(n,e)},d(t){t&&y(n)}}}function Bi(l){let e,n,t=l[0]&&l[1]&&Et(l);return{c(){t&&t.c(),e=_e()},l(i){t&&t.l(i),e=_e()},m(i,o){t&&t.m(i,o),A(i,e,o),n=!0},p(i,[o]){i[0]&&i[1]?t?(t.p(i,o),o&3&&v(t,1)):(t=Et(i),t.c(),v(t,1),t.m(e.parentNode,e)):t&&(x(),$(t,1,1,()=>{t=null}),ee())},i(i){n||(v(t),n=!0)},o(i){$(t),n=!1},d(i){t&&t.d(i),i&&y(e)}}}function Li(l,e,n){let t;Ie(l,We,g=>n(1,t=g));let i=t;function o(){!i||(i.editMode?De.updateActivity(i.activity):De.add(i.activity),We.reset())}function r(){i!=null&&i.editMode&&De.deleteActivity(i.activity),We.reset()}function s(g){l.$$.not_equal(i.activity.title,g)&&(i.activity.title=g,n(0,i))}const d=g=>i==null?void 0:i.activity.setDate(g),u=g=>i==null?void 0:i.activity.setFromTime(g),a=g=>i==null?void 0:i.activity.setToTime(g);function _(g){l.$$.not_equal(i.activity.notifyOnWeather,g)&&(i.activity.notifyOnWeather=g,n(0,i))}function c(g){l.$$.not_equal(i.activity.actitityType,g)&&(i.activity.actitityType=g,n(0,i))}return[i,t,o,r,s,d,u,a,_,c]}class qi extends ue{constructor(e){super(),fe(this,e,Li,Bi,de,{})}}const Fi=()=>{const l=Bt("__svelte__");return{page:{subscribe:l.page.subscribe},navigating:{subscribe:l.navigating.subscribe},get preloading(){return console.error("stores.preloading is deprecated; use stores.navigating instead"),{subscribe:l.navigating.subscribe}},session:l.session,updated:l.updated}},Hi={subscribe(l){return Fi().page.subscribe(l)}};function Dt(l,e,n){const t=l.slice();return t[6]=e[n],t}function Tt(l){let e,n,t,i=l[6].title+"",o,r,s,d;return n=new Ze({props:{src:l[6].icon,size:"16"}}),{c(){e=D("a"),O(n.$$.fragment),t=P(),o=G(i),r=P(),this.h()},l(u){e=T(u,"A",{href:!0,class:!0});var a=V(e);R(n.$$.fragment,a),t=M(a),o=X(a,i),r=M(a),a.forEach(y),this.h()},h(){S(e,"href",s=Ht+"/"+l[6].url[0]),S(e,"class","flex flex-row items-center justify-start px-2 gap-3 svelte-g314rs"),F(e,"active",l[6].url.includes(l[0].routeId||"upcomming"))},m(u,a){A(u,e,a),B(n,e,null),w(e,t),w(e,o),w(e,r),d=!0},p(u,a){a&9&&F(e,"active",u[6].url.includes(u[0].routeId||"upcomming"))},i(u){d||(v(n.$$.fragment,u),d=!0)},o(u){$(n.$$.fragment,u),d=!1},d(u){u&&y(e),L(n)}}}function Yi(l){let e;return{c(){e=G("Create new event")},l(n){e=X(n,"Create new event")},m(n,t){A(n,e,t)},d(n){n&&y(e)}}}function Gi(l){let e,n;return e=new Oi({}),{c(){O(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,i){B(e,t,i),n=!0},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Xi(l){let e,n;return e=new qi({}),{c(){O(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,i){B(e,t,i),n=!0},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Ji(l){let e,n,t,i,o,r,s,d,u,a,_,c,g,m,h,p,f,b,I,z=l[3],N=[];for(let E=0;E<z.length;E+=1)N[E]=Tt(Dt(l,z,E));const le=E=>$(N[E],1,1,()=>{N[E]=null});_=new $e({props:{icon:Ke,$$slots:{default:[Yi]},$$scope:{ctx:l}}}),_.$on("click",Te.new),g=new fi({props:{firstname:"Abel",lastname:"de Bruijn"}});const te=l[4].default,U=we(te,l,l[5],null);return p=new st({props:{visible:l[1]!==void 0,$$slots:{default:[Gi]},$$scope:{ctx:l}}}),p.$on("close",Te.reset),b=new st({props:{visible:l[2]!==void 0,$$slots:{default:[Xi]},$$scope:{ctx:l}}}),b.$on("close",We.reset),{c(){e=D("div"),n=D("aside"),t=D("nav"),i=D("h1"),o=G("PodPlanner"),r=P(),s=D("div");for(let E=0;E<N.length;E+=1)N[E].c();d=P(),u=D("main"),a=D("div"),O(_.$$.fragment),c=P(),O(g.$$.fragment),m=P(),U&&U.c(),h=P(),O(p.$$.fragment),f=P(),O(b.$$.fragment),this.h()},l(E){e=T(E,"DIV",{class:!0});var W=V(e);n=T(W,"ASIDE",{class:!0});var H=V(n);t=T(H,"NAV",{class:!0});var q=V(t);i=T(q,"H1",{class:!0});var oe=V(i);o=X(oe,"PodPlanner"),oe.forEach(y),r=M(q),s=T(q,"DIV",{class:!0});var C=V(s);for(let he=0;he<N.length;he+=1)N[he].l(C);C.forEach(y),q.forEach(y),H.forEach(y),d=M(W),u=T(W,"MAIN",{class:!0});var Z=V(u);a=T(Z,"DIV",{class:!0});var ce=V(a);R(_.$$.fragment,ce),c=M(ce),R(g.$$.fragment,ce),ce.forEach(y),m=M(Z),U&&U.l(Z),Z.forEach(y),W.forEach(y),h=M(E),R(p.$$.fragment,E),f=M(E),R(b.$$.fragment,E),this.h()},h(){S(i,"class","text-3xl font-bold border-b-2 border-green-700 text-green-700 mb-4"),S(s,"class","flex flex-col gap-2"),S(t,"class","w-64 p-4 border-r-2 border-slate-200 fixed left-0 top-0 h-[100vh]"),S(n,"class","w-64 p-4"),S(a,"class","flex gap-4 justify-end "),S(u,"class","grow p-5"),S(e,"class","flex")},m(E,W){A(E,e,W),w(e,n),w(n,t),w(t,i),w(i,o),w(t,r),w(t,s);for(let H=0;H<N.length;H+=1)N[H].m(s,null);w(e,d),w(e,u),w(u,a),B(_,a,null),w(a,c),B(g,a,null),w(u,m),U&&U.m(u,null),A(E,h,W),B(p,E,W),A(E,f,W),B(b,E,W),I=!0},p(E,[W]){if(W&9){z=E[3];let C;for(C=0;C<z.length;C+=1){const Z=Dt(E,z,C);N[C]?(N[C].p(Z,W),v(N[C],1)):(N[C]=Tt(Z),N[C].c(),v(N[C],1),N[C].m(s,null))}for(x(),C=z.length;C<N.length;C+=1)le(C);ee()}const H={};W&32&&(H.$$scope={dirty:W,ctx:E}),_.$set(H),U&&U.p&&(!I||W&32)&&ve(U,te,E,E[5],I?ke(te,E[5],W,null):ye(E[5]),null);const q={};W&2&&(q.visible=E[1]!==void 0),W&32&&(q.$$scope={dirty:W,ctx:E}),p.$set(q);const oe={};W&4&&(oe.visible=E[2]!==void 0),W&32&&(oe.$$scope={dirty:W,ctx:E}),b.$set(oe)},i(E){if(!I){for(let W=0;W<z.length;W+=1)v(N[W]);v(_.$$.fragment,E),v(g.$$.fragment,E),v(U,E),v(p.$$.fragment,E),v(b.$$.fragment,E),I=!0}},o(E){N=N.filter(Boolean);for(let W=0;W<N.length;W+=1)$(N[W]);$(_.$$.fragment,E),$(g.$$.fragment,E),$(U,E),$(p.$$.fragment,E),$(b.$$.fragment,E),I=!1},d(E){E&&y(e),Oe(N,E),L(_),L(g),U&&U.d(E),E&&y(h),L(p,E),E&&y(f),L(b,E)}}}function Zi(l,e,n){let t,i,o;Ie(l,Hi,u=>n(0,t=u)),Ie(l,Te,u=>n(1,i=u)),Ie(l,We,u=>n(2,o=u));let{$$slots:r={},$$scope:s}=e;const d=[{title:"Planning view",url:["planning",""],icon:Xe},{title:"Upcomming activities",url:["upcomming"],icon:Xe},{title:"Past activities",url:["past"],icon:Xe}];return l.$$set=u=>{"$$scope"in u&&n(5,s=u.$$scope)},[t,i,o,d,r,s]}class Ki extends ue{constructor(e){super(),fe(this,e,Zi,Ji,de,{})}}function Qi(l){let e,n;return e=new si({}),{c(){O(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,i){B(e,t,i),n=!0},p:ne,i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function xi(l){let e,n;return e=new Ki({props:{$$slots:{default:[tn]},$$scope:{ctx:l}}}),{c(){O(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,i){B(e,t,i),n=!0},p(t,i){const o={};i&4&&(o.$$scope={dirty:i,ctx:t}),e.$set(o)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function en(l){let e,n;return{c(){e=D("p"),n=G("We are Loading")},l(t){e=T(t,"P",{});var i=V(e);n=X(i,"We are Loading"),i.forEach(y)},m(t,i){A(t,e,i),w(e,n)},p:ne,i:ne,o:ne,d(t){t&&y(e)}}}function tn(l){let e;const n=l[1].default,t=we(n,l,l[2],null);return{c(){t&&t.c()},l(i){t&&t.l(i)},m(i,o){t&&t.m(i,o),e=!0},p(i,o){t&&t.p&&(!e||o&4)&&ve(t,n,i,i[2],e?ke(n,i[2],o,null):ye(i[2]),null)},i(i){e||(v(t,i),e=!0)},o(i){$(t,i),e=!1},d(i){t&&t.d(i)}}}function nn(l){let e,n,t,i;const o=[en,xi,Qi],r=[];function s(d,u){return d[0].loading?0:d[0].userSession.isLoggedIn?1:2}return e=s(l),n=r[e]=o[e](l),{c(){n.c(),t=_e()},l(d){n.l(d),t=_e()},m(d,u){r[e].m(d,u),A(d,t,u),i=!0},p(d,[u]){let a=e;e=s(d),e===a?r[e].p(d,u):(x(),$(r[a],1,1,()=>{r[a]=null}),ee(),n=r[e],n?n.p(d,u):(n=r[e]=o[e](d),n.c()),v(n,1),n.m(t.parentNode,t))},i(d){i||(v(n),i=!0)},o(d){$(n),i=!1},d(d){r[e].d(d),d&&y(t)}}}function ln(l,e,n){let t;Ie(l,Je,r=>n(0,t=r));let{$$slots:i={},$$scope:o}=e;return zt(()=>{Je.init(),Zt()}),l.$$set=r=>{"$$scope"in r&&n(2,o=r.$$scope)},[t,i,o]}class dn extends ue{constructor(e){super(),fe(this,e,ln,nn,de,{})}}export{dn as default};
